<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>UnCodeX - Source: XWebAdmin.xWebQueryCurrent</title>
	<meta name="Generator" content="UnCodeX 241" />
	<link rel="stylesheet" href="../DocStyle2.css" type="text/css" title="Original Purple" />
	<link rel="alternative stylesheet" href="../DocStyle2-blue.css" type="text/css" title="Blue" />
	<link rel="alternative stylesheet" href="../DocStyle2-red.css" type="text/css" title="Red" />
	<!--[if IE]>
	<link rel="stylesheet" href="../DocStyle2-msie.css" type="text/css" />
	<![endif]-->
	<script src="../styleswitcher.js" type="text/javascript"></script>
</head>
<body>

<div class="header">
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../xwebadmin/xwebadmin-overview.html">Package</a></td>
	<td class="header"><a href="../xwebadmin/xwebquerycurrent.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#xWebQueryCurrent">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_xwebadmin/xwebqueryadmins.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_xwebadmin/xwebquerydefaults.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html#Source_xwebadmin/xwebquerycurrent.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>
</div>
<div class="spacer"></div>

<h1><a href="../xwebadmin/xwebadmin-overview.html">XWebAdmin</a>.<a href="../xwebadmin/xwebquerycurrent.html">xWebQueryCurrent</a></h1>
<br />
<div class="source"><table class="source"><tr><td class="source_lineno"><span class="source_lineno">00001<br />00002<br />00003<br />00004<br />00005<br />00006<br />00007<br />00008<br />00009<br />00010<br />00011<br />00012<br />00013<br />00014<br />00015<br />00016<br />00017<br />00018<br />00019<br />00020<br />
00021<br />00022<br />00023<br />00024<br />00025<br />00026<br />00027<br />00028<br />00029<br />00030<br />00031<br />00032<br />00033<br />00034<br />00035<br />00036<br />00037<br />00038<br />00039<br />00040<br />
00041<br />00042<br />00043<br />00044<br />00045<br />00046<br />00047<br />00048<br />00049<br />00050<br />00051<br />00052<br />00053<br />00054<br />00055<br />00056<br />00057<br />00058<br />00059<br />00060<br />
00061<br />00062<br />00063<br />00064<br />00065<br />00066<br />00067<br />00068<br />00069<br />00070<br />00071<br />00072<br />00073<br />00074<br />00075<br />00076<br />00077<br />00078<br />00079<br />00080<br />
00081<br />00082<br />00083<br />00084<br />00085<br />00086<br />00087<br />00088<br />00089<br />00090<br />00091<br />00092<br />00093<br />00094<br />00095<br />00096<br />00097<br />00098<br />00099<br />00100<br />
00101<br />00102<br />00103<br />00104<br />00105<br />00106<br />00107<br />00108<br />00109<br />00110<br />00111<br />00112<br />00113<br />00114<br />00115<br />00116<br />00117<br />00118<br />00119<br />00120<br />
00121<br />00122<br />00123<br />00124<br />00125<br />00126<br />00127<br />00128<br />00129<br />00130<br />00131<br />00132<br />00133<br />00134<br />00135<br />00136<br />00137<br />00138<br />00139<br />00140<br />
00141<br />00142<br />00143<br />00144<br />00145<br />00146<br />00147<br />00148<br />00149<br />00150<br />00151<br />00152<br />00153<br />00154<br />00155<br />00156<br />00157<br />00158<br />00159<br />00160<br />
00161<br />00162<br />00163<br />00164<br />00165<br />00166<br />00167<br />00168<br />00169<br />00170<br />00171<br />00172<br />00173<br />00174<br />00175<br />00176<br />00177<br />00178<br />00179<br />00180<br />
00181<br />00182<br />00183<br />00184<br />00185<br />00186<br />00187<br />00188<br />00189<br />00190<br />00191<br />00192<br />00193<br />00194<br />00195<br />00196<br />00197<br />00198<br />00199<br />00200<br />
00201<br />00202<br />00203<br />00204<br />00205<br />00206<br />00207<br />00208<br />00209<br />00210<br />00211<br />00212<br />00213<br />00214<br />00215<br />00216<br />00217<br />00218<br />00219<br />00220<br />
00221<br />00222<br />00223<br />00224<br />00225<br />00226<br />00227<br />00228<br />00229<br />00230<br />00231<br />00232<br />00233<br />00234<br />00235<br />00236<br />00237<br />00238<br />00239<br />00240<br />
00241<br />00242<br />00243<br />00244<br />00245<br />00246<br />00247<br />00248<br />00249<br />00250<br />00251<br />00252<br />00253<br />00254<br />00255<br />00256<br />00257<br />00258<br />00259<br />00260<br />
00261<br />00262<br />00263<br />00264<br />00265<br />00266<br />00267<br />00268<br />00269<br />00270<br />00271<br />00272<br />00273<br />00274<br />00275<br />00276<br />00277<br />00278<br />00279<br />00280<br />
00281<br />00282<br />00283<br />00284<br />00285<br />00286<br />00287<br />00288<br />00289<br />00290<br />00291<br />00292<br />00293<br />00294<br />00295<br />00296<br />00297<br />00298<br />00299<br />00300<br />
00301<br />00302<br />00303<br />00304<br />00305<br />00306<br />00307<br />00308<br />00309<br />00310<br />00311<br />00312<br />00313<br />00314<br />00315<br />00316<br />00317<br />00318<br />00319<br />00320<br />
00321<br />00322<br />00323<br />00324<br />00325<br />00326<br />00327<br />00328<br />00329<br />00330<br />00331<br />00332<br />00333<br />00334<br />00335<br />00336<br />00337<br />00338<br />00339<br />00340<br />
00341<br />00342<br />00343<br />00344<br />00345<br />00346<br />00347<br />00348<br />00349<br />00350<br />00351<br />00352<br />00353<br />00354<br />00355<br />00356<br />00357<br />00358<br />00359<br />00360<br />
00361<br />00362<br />00363<br />00364<br />00365<br />00366<br />00367<br />00368<br />00369<br />00370<br />00371<br />00372<br />00373<br />00374<br />00375<br />00376<br />00377<br />00378<br />00379<br />00380<br />
00381<br />00382<br />00383<br />00384<br />00385<br />00386<br />00387<br />00388<br />00389<br />00390<br />00391<br />00392<br />00393<br />00394<br />00395<br />00396<br />00397<br />00398<br />00399<br />00400<br />
00401<br />00402<br />00403<br />00404<br />00405<br />00406<br />00407<br />00408<br />00409<br />00410<br />00411<br />00412<br />00413<br />00414<br />00415<br />00416<br />00417<br />00418<br />00419<br />00420<br />
00421<br />00422<br />00423<br />00424<br />00425<br />00426<br />00427<br />00428<br />00429<br />00430<br />00431<br />00432<br />00433<br />00434<br />00435<br />00436<br />00437<br />00438<br />00439<br />00440<br />
00441<br />00442<br />00443<br />00444<br />00445<br />00446<br />00447<br />00448<br />00449<br />00450<br />00451<br />00452<br />00453<br />00454<br />00455<br />00456<br />00457<br />00458<br />00459<br />00460<br />
00461<br />00462<br />00463<br />00464<br />00465<br />00466<br />00467<br />00468<br />00469<br />00470<br />00471<br />00472<br />00473<br />00474<br />00475<br />00476<br />00477<br />00478<br />00479<br />00480<br />
00481<br />00482<br />00483<br />00484<br />00485<br />00486<br />00487<br />00488<br />00489<br />00490<br />00491<br />00492<br />00493<br />00494<br />00495<br />00496<br />00497<br />00498<br />00499<br />00500<br />
00501<br />00502<br />00503<br />00504<br />00505<br />00506<br />00507<br />00508<br />00509<br />00510<br />00511<br />00512<br />00513<br />00514<br />00515<br />00516<br />00517<br />00518<br />00519<br />00520<br />
00521<br />00522<br />00523<br />00524<br />00525<br />00526<br />00527<br />00528<br />00529<br />00530<br />00531<br />00532<br />00533<br />00534<br />00535<br />00536<br />00537<br />00538<br />00539<br />00540<br />
00541<br />00542<br />00543<br />00544<br />00545<br />00546<br />00547<br />00548<br />00549<br />00550<br />00551<br />00552<br />00553<br />00554<br />00555<br />00556<br />00557<br />00558<br />00559<br />00560<br />
00561<br />00562<br />00563<br />00564<br />00565<br />00566<br />00567<br />00568<br />00569<br />00570<br />00571<br />00572<br />00573<br />00574<br />00575<br />00576<br />00577<br />00578<br />00579<br />00580<br />
00581<br />00582<br />00583<br />00584<br />00585<br />00586<br />00587<br />00588<br />00589<br />00590<br />00591<br />00592<br />00593<br />00594<br />00595<br />00596<br />00597<br />00598<br />00599<br />00600<br />
00601<br />00602<br />00603<br />00604<br />00605<br />00606<br />00607<br />00608<br />00609<br />00610<br />00611<br />00612<br />00613<br />00614<br />00615<br />00616<br />00617<br />00618<br />00619<br />00620<br />
00621<br />00622<br />00623<br />00624<br />00625<br />00626<br />00627<br />00628<br />00629<br />00630<br />00631<br />00632<br />00633<br />00634<br />00635<br />00636<br />00637<br />00638<br />00639<br />00640<br />
00641<br />00642<br />00643<br />00644<br />00645<br />00646<br />00647<br />00648<br />00649<br />00650<br />00651<br />00652<br />00653<br />00654<br />00655<br />00656<br />00657<br />00658<br />00659<br />00660<br />
00661<br />00662<br />00663<br />00664<br />00665<br />00666<br />00667<br />00668<br />00669<br />00670<br />00671<br />00672<br />00673<br />00674<br />00675<br />00676<br />00677<br />00678<br />00679<br />00680<br />
00681<br />00682<br />00683<br />00684<br />00685<br />00686<br />00687<br />00688<br />00689<br />00690<br />00691<br />00692<br />00693<br />00694<br />00695<br />00696<br />00697<br />00698<br />00699<br />00700<br />
00701<br />00702<br />00703<br />00704<br />00705<br />00706<br />00707<br />00708<br />00709<br />00710<br />00711<br />00712<br />00713<br />00714<br />00715<br />00716<br />00717<br />00718<br />00719<br />00720<br />
00721<br />00722<br />00723<br />00724<br />00725<br />00726<br />00727<br />00728<br />00729<br />00730<br />00731<br />00732<br />00733<br />00734<br />00735<br />00736<br />00737<br />00738<br />00739<br />00740<br />
00741<br />00742<br />00743<br />00744<br />00745<br />00746<br />00747<br />00748<br />00749<br />00750<br />00751<br />00752<br />00753<br />00754<br />00755<br />00756<br />00757<br />00758<br />00759<br />00760<br />
00761<br />00762<br />00763<br />00764<br />00765<br />00766<br />00767<br />00768<br />00769<br />00770<br />00771<br />00772<br />00773<br />00774<br />00775<br />00776<br />00777<br />00778<br />00779<br />00780<br />
00781<br />00782<br />00783<br />00784<br />00785<br />00786<br />00787<br />00788<br />00789<br />00790<br />00791<br />00792<br />00793<br />00794<br />00795<br />00796<br />00797<br />00798<br />00799<br />00800<br />
00801<br />00802<br />00803<br />00804<br />00805<br />00806<br />00807<br />00808<br />00809<br />00810<br />00811<br />00812<br />00813<br />00814<br />00815<br />00816<br />00817<br />00818<br />00819<br />00820<br />
00821<br />00822<br />00823<br />00824<br />00825<br />00826<br />00827<br />00828<br />00829<br />00830<br />00831<br />00832<br />00833<br />00834<br />00835<br />00836<br />00837<br />00838<br />00839<br />00840<br />
00841<br />00842<br />00843<br />00844<br />00845<br />00846<br />00847<br />00848<br />00849<br />00850<br />00851<br />00852<br />00853<br />00854<br />00855<br />00856<br />00857<br />00858<br />00859<br />00860<br />
00861<br />00862<br />00863<br />00864<br />00865<br />00866<br />00867<br />00868<br />00869<br />00870<br />00871<br />00872<br />00873<br />00874<br />00875<br />00876<br />00877<br />00878<br />00879<br />00880<br />
00881<br />00882<br />00883<br />00884<br />00885<br />00886<br />00887<br />00888<br />00889<br />00890<br />00891<br />00892<br />00893<br />00894<br />00895<br />00896<br />00897<br />00898<br />00899<br />00900<br />
00901<br />00902<br />00903<br />00904<br />00905<br />00906<br />00907<br />00908<br />00909<br />00910<br />00911<br />00912<br />00913<br />00914<br />00915<br />00916<br />00917<br />00918<br />00919<br />00920<br />
00921<br />00922<br />00923<br />00924<br />00925<br />00926<br />00927<br />00928<br />00929<br />00930<br />00931<br />00932<br />00933<br />00934<br />00935<br />00936<br />00937<br />00938<br />00939<br />00940<br />
00941<br />00942<br />00943<br />00944<br />00945<br />00946<br />00947<br />00948<br />00949<br />00950<br />00951<br />00952<br />00953<br />00954<br />00955<br />00956<br />00957<br />00958<br />00959<br />00960<br />
00961<br />00962<br />00963<br />00964<br />00965<br />00966<br />00967<br />00968<br />00969<br />00970<br />00971<br />00972<br />00973<br />00974<br />00975<br />00976<br />00977<br />00978<br />00979<br />00980<br />
00981<br />00982<br />00983<br />00984<br />00985<br />00986<br />00987<br />00988<br />00989<br />00990<br />00991<br />00992<br />00993<br />00994<br />00995<br />00996<br />00997<br />00998<br />00999<br />01000<br />
01001<br />01002<br />01003<br />01004<br />01005<br />01006<br />01007<br />01008<br />01009<br />01010<br />01011<br />01012<br />01013<br />01014<br />01015<br />01016<br />01017<br />01018<br />01019<br />01020<br />
01021<br />01022<br />01023<br />01024<br />01025<br />01026<br />01027<br />01028<br />01029<br />01030<br />01031<br />01032<br />01033<br />01034<br />01035<br />01036<br />01037<br />01038<br />01039<br />01040<br />
01041<br />01042<br />01043<br />01044<br />01045<br />01046<br />01047<br />01048<br />01049<br />01050<br />01051<br />01052<br />01053<br />01054<br />01055<br />01056<br />01057<br />01058<br />01059<br />01060<br />
01061<br />01062<br />01063<br />01064<br />01065<br />01066<br />01067<br />01068<br />01069<br />01070<br />01071<br />01072<br />01073<br />01074<br />01075<br />01076<br />01077<br />01078<br />01079<br />01080<br />
01081<br />01082<br />01083<br />01084<br />01085<br />01086<br />01087<br />01088<br />01089<br />01090<br />01091<br />01092<br />01093<br />01094<br />01095<br />01096<br />01097<br />01098<br />01099<br />01100<br />
01101<br />01102<br />01103<br />01104<br />01105<br />01106<br />01107<br />01108<br />01109<br />01110<br />01111<br />01112<br />01113<br />01114<br />01115<br />01116<br />01117<br />01118<br />01119<br />01120<br />
01121<br />01122<br />01123<br />01124<br />01125<br />01126<br />01127<br />01128<br />01129<br />01130<br />01131<br />01132</span></td>
<td class="source"><pre class="source"><a name="1"></a><span class="source_comment">//==============================================================================
</span><a name="2"></a><span class="source_comment">//  WebAdmin handler for activities related to the game currently in
</span><a name="3"></a><span class="source_comment">//  progress on the server
</span><a name="4"></a><span class="source_comment">//
</span><a name="5"></a><span class="source_comment">//  Written by Michael Comeau
</span><a name="6"></a><span class="source_comment">//  Revised by Ron Prestenback
</span><a name="7"></a><span class="source_comment">//  © 2003,2004 Epic Games, Inc. All Rights Reserved
</span><a name="8"></a><span class="source_comment">//==============================================================================
</span><a name="9"></a>
<a name="10"></a><span class="source_type">class</span> <span class="source_type"><a href="../xwebadmin/xwebquerycurrent.html" class="source">xWebQueryCurrent</a></span> extends <span class="source_type"><a href="../xwebadmin/xwebqueryhandler.html" class="source">xWebQueryHandler</a></span>
<a name="11"></a>	config;
<a name="12"></a>
<a name="13"></a>var config <span class="source_type">string</span> CurrentIndexPage;		<span class="source_comment">// This is the page with the Menu
</span><a name="14"></a>var config <span class="source_type">string</span> CurrentPlayersPage;
<a name="15"></a>var config <span class="source_type">string</span> CurrentGamePage;
<a name="16"></a>var config <span class="source_type">string</span> CurrentConsolePage;
<a name="17"></a>var config <span class="source_type">string</span> CurrentConsoleLogPage;
<a name="18"></a>var config <span class="source_type">string</span> CurrentConsoleSendPage;
<a name="19"></a>var config <span class="source_type">string</span> CurrentMutatorsPage;
<a name="20"></a>var config <span class="source_type">string</span> CurrentBotsPage;
<a name="21"></a>var config <span class="source_type">string</span> CurrentRestartPage;
<a name="22"></a><span class="source_comment">//if _RO_
</span><a name="23"></a>var config <span class="source_type">string</span> CurrentResetPage;
<a name="24"></a><span class="source_comment">//end _RO_
</span><a name="25"></a>var config <span class="source_type">string</span> DefaultSendText;
<a name="26"></a>var config <span class="source_type">string</span> StatTable;
<a name="27"></a>var config <span class="source_type">string</span> StatTableRow;
<a name="28"></a>
<a name="29"></a><span class="source_comment">// Custom Skin Support
</span><a name="30"></a>var config <span class="source_type">string</span> PlayerListHeader;
<a name="31"></a>var config <span class="source_type">string</span> PlayerListLinkedHeader;
<a name="32"></a>var config <span class="source_type">string</span> PlayerListMinPlayers;
<a name="33"></a>var config <span class="source_type">string</span> ConsoleRefreshTag;
<a name="34"></a>var config <span class="source_type">string</span> MutatorTablePage;
<a name="35"></a>var config <span class="source_type">string</span> MutatorGroupTitle;
<a name="36"></a>var config <span class="source_type">string</span> MutatorGroupMember;
<a name="37"></a>
<a name="38"></a>
<a name="39"></a><span class="source_comment">// Localization
</span><a name="40"></a><span class="source_comment">// Sections & Titles
</span><a name="41"></a>var localized <span class="source_type">string</span> BadGameType;
<a name="42"></a>var localized <span class="source_type">string</span> CurrentLinks[<span class="source_int">6</span>];
<a name="43"></a>var localized <span class="source_type">string</span> NoBotsTitle;
<a name="44"></a>
<a name="45"></a><span class="source_comment">// Labels
</span><a name="46"></a>var localized <span class="source_type">string</span> KickButtonText[<span class="source_int">3</span>];
<a name="47"></a>var localized <span class="source_type">string</span> NoPlayersConnected;
<a name="48"></a>var localized <span class="source_type">string</span> SelectedMutators;
<a name="49"></a>var localized <span class="source_type">string</span> PickMutators;
<a name="50"></a>var localized <span class="source_type">string</span> GameTypeUnsupported;
<a name="51"></a>var localized <span class="source_type">string</span> NoBots;
<a name="52"></a>var localized <span class="source_type">string</span> Added;
<a name="53"></a>var localized <span class="source_type">string</span> Removed;
<a name="54"></a>var localized <span class="source_type">string</span> BotStatus;
<a name="55"></a>var localized <span class="source_type">string</span> SingleBotStatus;
<a name="56"></a>var localized <span class="source_type">string</span> ConsoleUserlist;
<a name="57"></a>
<a name="58"></a><span class="source_comment">// Help messages
</span><a name="59"></a>var localized <span class="source_type">string</span> NoteGamePage;
<a name="60"></a>var localized <span class="source_type">string</span> NotePlayersPage;
<a name="61"></a>var localized <span class="source_type">string</span> NoteConsolePage;
<a name="62"></a>var localized <span class="source_type">string</span> NoteMutatorsPage;
<a name="63"></a>var localized <span class="source_type">string</span> NoteBotsPage;
<a name="64"></a>
<a name="65"></a>var <span class="source_type"><a href="../xwebadmin/stringarray.html" class="source">StringArray</a></span>	SpeciesNames;
<a name="66"></a>var array&lt;<span class="source_type"><a href="../xwebadmin/stringarray.html" class="source">StringArray</a></span>&gt;  BotList;		<span class="source_comment">// Sorted bot list by species
</span><a name="67"></a>
<a name="68"></a>function <span class="source_type">bool</span> Query(<span class="source_type"><a href="../uweb/webrequest.html" class="source">WebRequest</a></span> Request, <span class="source_type"><a href="../uweb/webresponse.html" class="source">WebResponse</a></span> <span class="source_type">Response</span>)
<a name="69"></a>{
<a name="70"></a>	if (!CanPerform(NeededPrivs))
<a name="71"></a>		return false;
<a name="72"></a>
<a name="73"></a>	<span class="source_type">switch</span> (Mid(Request.URI, <span class="source_int">1</span>))
<a name="74"></a>	{
<a name="75"></a>		case DefaultPage:
<a name="76"></a>			QueryCurrentFrame(Request, <span class="source_type">Response</span>);
<a name="77"></a>			return true;
<a name="78"></a>
<a name="79"></a>		case CurrentIndexPage:
<a name="80"></a>			QueryCurrentMenu(Request, <span class="source_type">Response</span>);
<a name="81"></a>			return true;
<a name="82"></a>
<a name="83"></a>		case CurrentPlayersPage:
<a name="84"></a>			if (!MapIsChanging())
<a name="85"></a>				QueryCurrentPlayers(Request, <span class="source_type">Response</span>);
<a name="86"></a>			return true;
<a name="87"></a>
<a name="88"></a>		case CurrentGamePage:
<a name="89"></a>			if (!MapIsChanging())
<a name="90"></a>				QueryCurrentGame(Request, <span class="source_type">Response</span>);
<a name="91"></a>			return true;
<a name="92"></a>
<a name="93"></a>		case CurrentConsolePage:
<a name="94"></a>			if (!MapIsChanging())
<a name="95"></a>				QueryCurrentConsole(Request, <span class="source_type">Response</span>);
<a name="96"></a>			return true;
<a name="97"></a>
<a name="98"></a>		case CurrentConsoleLogPage:
<a name="99"></a>			if (!MapIsChanging())
<a name="100"></a>				QueryCurrentConsoleLog(Request, <span class="source_type">Response</span>);
<a name="101"></a>			return true;
<a name="102"></a>
<a name="103"></a>		case CurrentConsoleSendPage:
<a name="104"></a>			QueryCurrentConsoleSend(Request, <span class="source_type">Response</span>);
<a name="105"></a>			return true;
<a name="106"></a>
<a name="107"></a>		case CurrentMutatorsPage:
<a name="108"></a>			if (!MapIsChanging())
<a name="109"></a>				QueryCurrentMutators(Request, <span class="source_type">Response</span>);
<a name="110"></a>			return true;
<a name="111"></a>
<a name="112"></a>		case CurrentBotsPage:
<a name="113"></a>			if (!MapIsChanging())
<a name="114"></a>				QueryCurrentBots(Request, <span class="source_type">Response</span>);
<a name="115"></a>			return true;
<a name="116"></a>
<a name="117"></a>		case CurrentRestartPage:
<a name="118"></a>			if (!MapIsChanging())
<a name="119"></a>				QueryRestartPage(Request, <span class="source_type">Response</span>);
<a name="120"></a>			return true;
<a name="121"></a>	}
<a name="122"></a>	return false;
<a name="123"></a>}
<a name="124"></a>
<a name="125"></a><span class="source_comment">//*****************************************************************************
</span><a name="126"></a>function QueryCurrentFrame(<span class="source_type"><a href="../uweb/webrequest.html" class="source">WebRequest</a></span> Request, <span class="source_type"><a href="../uweb/webresponse.html" class="source">WebResponse</a></span> <span class="source_type">Response</span>)
<a name="127"></a>{
<a name="128"></a>local <span class="source_type">String</span> Page;
<a name="129"></a>
<a name="130"></a>	<span class="source_comment">// if no page specified, use the default
</span><a name="131"></a>	Page = Request.GetVariable(<span class="source_string">"Page"</span>, CurrentGamePage);
<a name="132"></a>
<a name="133"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"IndexURI"</span>, 	CurrentIndexPage$<span class="source_string">"?Page="</span>$Page);
<a name="134"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"MainURI"</span>, 	Page);
<a name="135"></a>
<a name="136"></a>	ShowFrame(<span class="source_type">Response</span>, DefaultPage);
<a name="137"></a>}
<a name="138"></a>
<a name="139"></a>function QueryCurrentMenu(<span class="source_type"><a href="../uweb/webrequest.html" class="source">WebRequest</a></span> Request, <span class="source_type"><a href="../uweb/webresponse.html" class="source">WebResponse</a></span> <span class="source_type">Response</span>)
<a name="140"></a>{
<a name="141"></a>	local <span class="source_type">String</span> Page;
<a name="142"></a>
<a name="143"></a>	Page = Request.GetVariable(<span class="source_string">"Page"</span>, CurrentGamePage);
<a name="144"></a>
<a name="145"></a>	<span class="source_comment">// set background colors
</span><a name="146"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"DefaultBG"</span>, DefaultBG);	<span class="source_comment">// for unused tabs
</span><a name="147"></a>
<a name="148"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"PlayersBG"</span>, DefaultBG);
<a name="149"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"GameBG"</span>, 	DefaultBG);
<a name="150"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"ConsoleBG"</span>,	DefaultBG);
<a name="151"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"MutatorsBG"</span>,DefaultBG);
<a name="152"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"RestartBG"</span>, DefaultBG);
<a name="153"></a>
<a name="154"></a>	<span class="source_type">switch</span>(Page)
<a name="155"></a>	{
<a name="156"></a>		case CurrentPlayersPage:
<a name="157"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"PlayersBG"</span>,	HighlightedBG);
<a name="158"></a>			break;
<a name="159"></a>		case CurrentGamePage:
<a name="160"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"GameBG"</span>, 	HighlightedBG);
<a name="161"></a>			break;
<a name="162"></a>		case CurrentConsolePage:
<a name="163"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"ConsoleBG"</span>,	HighlightedBG);
<a name="164"></a>			break;
<a name="165"></a>		case CurrentMutatorsPage:
<a name="166"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"MutatorsBG"</span>,HighlightedBG);
<a name="167"></a>			break;
<a name="168"></a>		case CurrentRestartPage:
<a name="169"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"RestartBG"</span>, HighlightedBG);
<a name="170"></a>			break;
<a name="171"></a>	}
<a name="172"></a>
<a name="173"></a>	<span class="source_comment">// Set URIs
</span><a name="174"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"PlayersURI"</span>, 	DefaultPage$<span class="source_string">"?Page="</span>$CurrentPlayersPage);
<a name="175"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"GameURI"</span>,		DefaultPage$<span class="source_string">"?Page="</span>$CurrentGamePage);
<a name="176"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"ConsoleURI"</span>, 	DefaultPage$<span class="source_string">"?Page="</span>$CurrentConsolePage);
<a name="177"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"MutatorsURI"</span>, 	DefaultPage$<span class="source_string">"?Page="</span>$CurrentMutatorsPage);
<a name="178"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"RestartURI"</span>, 	DefaultPage$<span class="source_string">"?Page="</span>$CurrentRestartPage);
<a name="179"></a>
<a name="180"></a>	<span class="source_comment">// Set link text
</span><a name="181"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"GameLink"</span>, 		CurrentLinks[<span class="source_int">0</span>]);
<a name="182"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"PlayerLink"</span>, 	CurrentLinks[<span class="source_int">1</span>]);
<a name="183"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"ConsoleLink"</span>,	CurrentLinks[<span class="source_int">2</span>]);
<a name="184"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"MutatorLink"</span>,	CurrentLinks[<span class="source_int">3</span>]);
<a name="185"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"RestartLink"</span>,	CurrentLinks[<span class="source_int">4</span>]);
<a name="186"></a>
<a name="187"></a>	ShowPage(<span class="source_type">Response</span>, CurrentIndexPage);
<a name="188"></a>}
<a name="189"></a>
<a name="190"></a>function QueryCurrentPlayers(<span class="source_type"><a href="../uweb/webrequest.html" class="source">WebRequest</a></span> Request, <span class="source_type"><a href="../uweb/webresponse.html" class="source">WebResponse</a></span> <span class="source_type">Response</span>)
<a name="191"></a>{
<a name="192"></a>	local <span class="source_type">string</span> Sort, PlayerListSubst, TempStr, TempTag, TempData;
<a name="193"></a>	local <span class="source_type">string</span> TableHeaders, <span class="source_type">GameType</span>, Reverse, ColorNames[<span class="source_int">2</span>], <span class="source_type">Last</span>;
<a name="194"></a>	local <span class="source_type"><a href="../xwebadmin/stringarray.html" class="source">StringArray</a></span>	PlayerList;
<a name="195"></a>	local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">P</span>, NextP;
<a name="196"></a>	local <span class="source_type">int</span> <span class="source_type">i</span>, Cols, mlength;
<a name="197"></a>	local <span class="source_type">string</span> IP, ID;
<a name="198"></a>	local <span class="source_type">bool</span> bCanKick, bCanBan, bCanKickBots;
<a name="199"></a>
<a name="200"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"Section"</span>, CurrentLinks[<span class="source_int">1</span>]);
<a name="201"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"PostAction"</span>, CurrentPlayersPage);
<a name="202"></a>	ColorNames[<span class="source_int">0</span>] = <span class="source_type">class</span><span class="source_name">'TeamInfo'</span>.default.ColorNames[<span class="source_int">0</span>];
<a name="203"></a>	ColorNames[<span class="source_int">1</span>] = <span class="source_type">class</span><span class="source_name">'TeamInfo'</span>.default.ColorNames[<span class="source_int">1</span>];
<a name="204"></a>	MLength = <span class="source_type">int</span>(Eval(<span class="source_type">Len</span>(ColorNames[<span class="source_int">0</span>]) &gt; <span class="source_type">Len</span>(ColorNames[<span class="source_int">1</span>]), <span class="source_type">string</span>(<span class="source_type">Len</span>(ColorNames[<span class="source_int">0</span>])), <span class="source_type">string</span>(<span class="source_type">Len</span>(ColorNames[<span class="source_int">1</span>]))));
<a name="205"></a>
<a name="206"></a>	if (CanPerform(<span class="source_string">"Xp|Kp|Kb|Ko"</span>))
<a name="207"></a>	{
<a name="208"></a>		PlayerList = new(None) <span class="source_type">class</span><span class="source_name">'SortedStringArray'</span>;
<a name="209"></a>
<a name="210"></a>		Sort = Request.GetVariable(<span class="source_string">"Sort"</span>, <span class="source_string">"Name"</span>);
<a name="211"></a>		<span class="source_type">Last</span> = Request.GetVariable(<span class="source_string">"Last"</span>);
<a name="212"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"Sort"</span>, Sort);
<a name="213"></a>		Cols = <span class="source_int">0</span>;
<a name="214"></a>
<a name="215"></a>		bCanKick = CanPerform(<span class="source_string">"Kp"</span>);
<a name="216"></a>		bCanBan = CanPerform(<span class="source_string">"Kb"</span>);
<a name="217"></a>		bCanKickBots = CanPerform(<span class="source_string">"Ko|Mb"</span>);
<a name="218"></a>		if (<span class="source_type">Last</span> == Sort && Request.GetVariable(<span class="source_string">"ReverseSort"</span>) == <span class="source_string">""</span>)
<a name="219"></a>		{
<a name="220"></a>			PlayerList.ToggleSort();
<a name="221"></a>			Reverse = <span class="source_string">"?ReverseSort=True"</span>;
<a name="222"></a>		}
<a name="223"></a>
<a name="224"></a>		else Reverse = <span class="source_string">""</span>;
<a name="225"></a>
<a name="226"></a>		<span class="source_comment">// Count the number of Columns allowed
</span><a name="227"></a>		if (bCanKick || bCanBan || bCanKickBots)
<a name="228"></a>		{
<a name="229"></a>		<span class="source_comment">// Use 'do-while' to avoid access-none when destroying Controllers within the loop
</span><a name="230"></a>			<span class="source_type">P</span> = <span class="source_type">Level</span>.ControllerList;
<a name="231"></a>			if (<span class="source_type">P</span> != None)
<a name="232"></a>			{
<a name="233"></a>				do {
<a name="234"></a>					NextP = <span class="source_type">P</span>.NextController;
<a name="235"></a>					if(		<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>) != None
<a name="236"></a>						&&	<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None
<a name="237"></a>						&&	NetConnection(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>).<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>) != None)
<a name="238"></a>					{
<a name="239"></a>						if ( bCanBan && Request.GetVariable(<span class="source_string">"Ban"</span> $ <span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerID</span>)) != <span class="source_string">""</span> )
<a name="240"></a>							<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/accesscontrol.html" class="source">AccessControl</a></span>.KickBanPlayer(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>));
<a name="241"></a>
<a name="242"></a>						<span class="source_comment">//if _RO_
</span><a name="243"></a>						else if ( bCanBan && Request.GetVariable(<span class="source_string">"Session"</span> $ <span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerID</span>)) != <span class="source_string">""</span> )
<a name="244"></a>							<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/accesscontrol.html" class="source">AccessControl</a></span>.BanPlayer(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>), true);
<a name="245"></a>						<span class="source_comment">//end _RO_
</span><a name="246"></a>
<a name="247"></a>						else if ( bCanKick && Request.GetVariable(<span class="source_string">"Kick"</span> $ <span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerID</span>)) != <span class="source_string">""</span> )
<a name="248"></a>							<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/accesscontrol.html" class="source">AccessControl</a></span>.KickPlayer(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>));
<a name="249"></a>					}
<a name="250"></a>
<a name="251"></a>					else if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>) == None && bCanKickBots && <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None &&
<a name="252"></a>						  	  Request.GetVariable(<span class="source_string">"Kick"</span> $ <span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerID</span>)) != <span class="source_string">""</span>)
<a name="253"></a>					{	<span class="source_comment">// Kick Bots
</span><a name="254"></a>						<span class="source_type">P</span>.Destroy();
<a name="255"></a>					}
<a name="256"></a>					<span class="source_type">P</span> = NextP;
<a name="257"></a>				} until (<span class="source_type">P</span> == None);
<a name="258"></a>			}
<a name="259"></a>
<a name="260"></a>			if (bCanKick || bCanKickBots) Cols += <span class="source_int">1</span>;
<a name="261"></a>			if (bCanBan) Cols += <span class="source_int">2</span>;
<a name="262"></a>
<a name="263"></a>            <span class="source_type">Response</span>.Subst(<span class="source_string">"KickButton"</span>, SubmitButton(<span class="source_string">"Kick"</span>, KickButtonText[Cols-<span class="source_int">1</span>]));
<a name="264"></a>
<a name="265"></a>			<span class="source_comment">// Build of valid TableHeaders
</span><a name="266"></a>			TableHeaders = <span class="source_string">""</span>;
<a name="267"></a>			if (bCanKick || bCanKickBots)
<a name="268"></a>			{
<a name="269"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"HeadTitle"</span>, <span class="source_string">"Kick"</span>);
<a name="270"></a>				TableHeaders $= WebInclude(PlayerListHeader);
<a name="271"></a>			}
<a name="272"></a>
<a name="273"></a>			if (bCanBan)
<a name="274"></a>			{
<a name="275"></a>			    <span class="source_comment">//if _RO_
</span><a name="276"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"HeadTitle"</span>, <span class="source_string">"Session"</span>);
<a name="277"></a>				TableHeaders $= WebInclude(PlayerListHeader);
<a name="278"></a>				<span class="source_comment">//end _RO_
</span><a name="279"></a>
<a name="280"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"HeadTitle"</span>, <span class="source_string">"Ban"</span>);
<a name="281"></a>				TableHeaders $= WebInclude(PlayerListHeader);
<a name="282"></a>			}
<a name="283"></a>
<a name="284"></a>			if (Sort ~= <span class="source_string">"Name"</span>) <span class="source_type">Response</span>.Subst(<span class="source_string">"ReverseSort"</span>, Reverse);
<a name="285"></a>			else <span class="source_type">Response</span>.Subst(<span class="source_string">"ReverseSort"</span>, <span class="source_string">""</span>);
<a name="286"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"HeadTitle"</span>, <span class="source_string">"Name"</span>);
<a name="287"></a>			TableHeaders $= WebInclude(PlayerListLinkedHeader);
<a name="288"></a>
<a name="289"></a>			if (<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>.bTeamGame)
<a name="290"></a>			{
<a name="291"></a>				if (Sort ~= <span class="source_string">"Team"</span>)	<span class="source_type">Response</span>.Subst(<span class="source_string">"ReverseSort"</span>, Reverse);
<a name="292"></a>				else <span class="source_type">Response</span>.Subst(<span class="source_string">"ReverseSort"</span>, <span class="source_string">""</span>);
<a name="293"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"HeadTitle"</span>, <span class="source_string">"Team"</span>);
<a name="294"></a>				TableHeaders $= WebInclude(PlayerListLinkedHeader);
<a name="295"></a>			}
<a name="296"></a>
<a name="297"></a>			if (Sort ~= <span class="source_string">"Ping"</span>)	<span class="source_type">Response</span>.Subst(<span class="source_string">"ReverseSort"</span>, Reverse);
<a name="298"></a>			else <span class="source_type">Response</span>.Subst(<span class="source_string">"ReverseSort"</span>, <span class="source_string">""</span>);
<a name="299"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"HeadTitle"</span>, <span class="source_string">"Ping"</span>);
<a name="300"></a>			TableHeaders $= WebInclude(PlayerListLinkedHeader);
<a name="301"></a>
<a name="302"></a>			if (Sort ~= <span class="source_string">"Score"</span>) <span class="source_type">Response</span>.Subst(<span class="source_string">"ReverseSort"</span>, Reverse);
<a name="303"></a>			else <span class="source_type">Response</span>.Subst(<span class="source_string">"ReverseSort"</span>, <span class="source_string">""</span>);
<a name="304"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"HeadTitle"</span>, <span class="source_string">"Score"</span>);
<a name="305"></a>			TableHeaders $= WebInclude(PlayerListLinkedHeader);
<a name="306"></a>
<a name="307"></a>            <span class="source_comment">//if _RO_
</span><a name="308"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"HeadTitle"</span>, <span class="source_string">"Team Kills"</span>);
<a name="309"></a>			TableHeaders $= WebInclude(PlayerListHeader);
<a name="310"></a>			<span class="source_comment">//end _RO_
</span><a name="311"></a>
<a name="312"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"HeadTitle"</span>, <span class="source_string">"IP"</span>);
<a name="313"></a>			TableHeaders $= WebInclude(PlayerListHeader);
<a name="314"></a>
<a name="315"></a>			<span class="source_comment">// evo ---
</span><a name="316"></a>			if (<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/accesscontrol.html" class="source">AccessControl</a></span>.bBanbyID)
<a name="317"></a>			{
<a name="318"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"HeadTitle"</span>, <span class="source_string">"Global ID"</span>);
<a name="319"></a>				TableHeaders $= WebInclude(PlayerListHeader);
<a name="320"></a>			}
<a name="321"></a>			<span class="source_comment">// --- evo
</span><a name="322"></a>
<a name="323"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"TableHeaders"</span>, TableHeaders);
<a name="324"></a>		}
<a name="325"></a>
<a name="326"></a>		if (CanPerform(<span class="source_string">"Ms"</span>))
<a name="327"></a>		{
<a name="328"></a>			<span class="source_type">GameType</span> = <span class="source_type">Level</span>.GetItemName(SetGamePI(<span class="source_type">GameType</span>));
<a name="329"></a>			if (GamePI != None && GamePI.Settings[GamePI.FindIndex(<span class="source_type">GameType</span>$<span class="source_string">".MinPlayers"</span>)].SecLevel &lt;= CurAdmin.MaxSecLevel())
<a name="330"></a>			{
<a name="331"></a>				if ((Request.GetVariable(<span class="source_string">"SetMinPlayers"</span>, <span class="source_string">""</span>) != <span class="source_string">""</span>) && <span class="source_type"><a href="../unrealgame/unrealmpgameinfo.html" class="source">UnrealMPGameInfo</a></span>(<span class="source_type">Level</span>.Game) != None)
<a name="332"></a>				{
<a name="333"></a>					<span class="source_type"><a href="../unrealgame/unrealmpgameinfo.html" class="source">UnrealMPGameInfo</a></span>(<span class="source_type">Level</span>.Game).MinPlayers = Min(<span class="source_type">Max</span>(<span class="source_type">int</span>(Request.GetVariable(<span class="source_string">"MinPlayers"</span>, <span class="source_type">String</span>(<span class="source_int">0</span>))), <span class="source_int">0</span>), <span class="source_int">32</span>);
<a name="334"></a>					<span class="source_type">Level</span>.Game.SaveConfig();
<a name="335"></a>				}
<a name="336"></a>
<a name="337"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"MinPlayers"</span>, <span class="source_type">string</span>(<span class="source_type"><a href="../unrealgame/unrealmpgameinfo.html" class="source">UnrealMPGameInfo</a></span>(<span class="source_type">Level</span>.Game).MinPlayers));
<a name="338"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"MinPlayerPart"</span>, WebInclude(PlayerListMinPlayers));
<a name="339"></a>			}
<a name="340"></a>
<a name="341"></a>			else
<a name="342"></a>			{
<a name="343"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"MinPlayers"</span>, <span class="source_string">""</span>);
<a name="344"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"MinPlayersPart"</span>, <span class="source_string">""</span>);
<a name="345"></a>			}
<a name="346"></a>		}
<a name="347"></a>
<a name="348"></a>		for (<span class="source_type">P</span>=<span class="source_type">Level</span>.ControllerList; <span class="source_type">P</span>!=None; <span class="source_type">P</span>=<span class="source_type">P</span>.NextController)
<a name="349"></a>		{
<a name="350"></a>			TempData = <span class="source_string">""</span>;
<a name="351"></a>			if (!<span class="source_type">P</span>.bDeleteMe && <span class="source_type">P</span>.bIsPlayer && <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None)
<a name="352"></a>			{
<a name="353"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, CheckBox(<span class="source_string">"Kick"</span> $ <span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerID</span>), False));
<a name="354"></a>				if (CanPerform(<span class="source_string">"Kp"</span>))
<a name="355"></a>					TempData $= WebInclude(CellCenter);
<a name="356"></a>
<a name="357"></a>				if (CanPerform(<span class="source_string">"Kb"</span>))
<a name="358"></a>				{
<a name="359"></a>				    <span class="source_comment">//if _RO_
</span><a name="360"></a>					if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>) != None )
<a name="361"></a>					{
<a name="362"></a>						<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, Checkbox(<span class="source_string">"Session"</span> $ <span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerID</span>), False));
<a name="363"></a>						TempData $= WebInclude(CellCenter);
<a name="364"></a>						<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, Checkbox(<span class="source_string">"Ban"</span> $ <span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerID</span>), False));
<a name="365"></a>						TempData $= WebInclude(CellCenter);
<a name="366"></a>					}
<a name="367"></a>					else
<a name="368"></a>					{
<a name="369"></a>					    <span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, <span class="source_string">""</span>);
<a name="370"></a>					    TempData $= WebInclude(CellCenter)$WebInclude(CellCenter);
<a name="371"></a>					}
<a name="372"></a>					<span class="source_comment">//else
</span><a name="373"></a>					<span class="source_comment">//if ( PlayerController(P) != None )
</span><a name="374"></a>					<span class="source_comment">//	Response.Subst("Content", Checkbox("Ban" $ string(P.PlayerReplicationInfo.PlayerID), False));
</span><a name="375"></a>					<span class="source_comment">//else Response.Subst("Content", "");
</span><a name="376"></a>					<span class="source_comment">//TempData $= WebInclude(CellCenter);
</span><a name="377"></a>					<span class="source_comment">//end _RO_
</span><a name="378"></a>				}
<a name="379"></a>
<a name="380"></a>				TempStr = <span class="source_string">""</span>;
<a name="381"></a>				if (<span class="source_type"><a href="../unrealgame/deathmatch.html" class="source">DeathMatch</a></span>(<span class="source_type">Level</span>.Game) != None && <span class="source_type"><a href="../unrealgame/deathmatch.html" class="source">DeathMatch</a></span>(<span class="source_type">Level</span>.Game).bTournament && <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bReadyToPlay)
<a name="382"></a>					TempStr = <span class="source_string">" (Ready) "</span>;
<a name="383"></a>
<a name="384"></a>				else if (<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bIsSpectator)
<a name="385"></a>					TempStr = <span class="source_string">" (Spectator) "</span>;
<a name="386"></a>
<a name="387"></a>				else if (<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>) == None)
<a name="388"></a>					TempStr = <span class="source_string">" (Bot) "</span>;
<a name="389"></a>
<a name="390"></a>				if( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>) != None )
<a name="391"></a>				{
<a name="392"></a>					IP = <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>).GetPlayerNetworkAddress();
<a name="393"></a>					IP = HtmlEncode(<span class="source_string">" "</span> $ Left(IP, InStr(IP, <span class="source_string">":"</span>)));
<a name="394"></a>					<span class="source_comment">// evo ---
</span><a name="395"></a>					ID = HtmlEncode(<span class="source_string">" "</span> $ Eval(<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/accesscontrol.html" class="source">AccessControl</a></span>.bBanbyID, <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>).GetPlayerIDHash(), <span class="source_string">" "</span>));
<a name="396"></a>					<span class="source_comment">// --- evo
</span><a name="397"></a>				}
<a name="398"></a>
<a name="399"></a>				else
<a name="400"></a>				{
<a name="401"></a>					IP = HtmlEncode(<span class="source_string">"  "</span>);
<a name="402"></a>					ID = HtmlEncode(<span class="source_string">"  "</span>);
<a name="403"></a>				}
<a name="404"></a>
<a name="405"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, HtmlEncode(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span> $ TempStr));
<a name="406"></a>				TempData $= WebInclude(NowrapLeft);
<a name="407"></a>
<a name="408"></a>				if (<span class="source_type">Level</span>.Game.bTeamGame)
<a name="409"></a>				{
<a name="410"></a>					if (<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> != None && <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex &lt; <span class="source_int">4</span>)
<a name="411"></a>						<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, <span class="source_string">"&lt;span style='background-color: "</span>$<span class="source_type">class</span><span class="source_name">'TeamInfo'</span>.default.ColorNames[<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex]$<span class="source_string">"'&gt;"</span>$HtmlEncode(<span class="source_string">"  "</span>)$<span class="source_string">"&lt;/span&gt;"</span>$HtmlEncode(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.GetHumanReadableName()));
<a name="412"></a>
<a name="413"></a>					else if (<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bIsSpectator)
<a name="414"></a>						<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, HtmlEncode(<span class="source_string">"  "</span>));
<a name="415"></a>
<a name="416"></a>					TempData $= WebInclude(NowrapCenter);
<a name="417"></a>				}
<a name="418"></a>
<a name="419"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, <span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.Ping*<span class="source_int">4</span>));
<a name="420"></a>				TempData $= WebInclude(CellCenter);
<a name="421"></a>
<a name="422"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, <span class="source_type">string</span>(<span class="source_type">int</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span>)));
<a name="423"></a>				TempData $= WebInclude(CellCenter);
<a name="424"></a>
<a name="425"></a>                <span class="source_comment">//if _RO_
</span><a name="426"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, <span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.FFKills));
<a name="427"></a>				TempData $= WebInclude(CellCenter);
<a name="428"></a>				<span class="source_comment">//end _RO_
</span><a name="429"></a>
<a name="430"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, IP);
<a name="431"></a>				TempData $= WebInclude(CellCenter);
<a name="432"></a>
<a name="433"></a>				if (<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/accesscontrol.html" class="source">AccessControl</a></span>.bBanbyID)
<a name="434"></a>				{
<a name="435"></a>					<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, ID);
<a name="436"></a>					TempData $= WebInclude(CellCenter);
<a name="437"></a>				}
<a name="438"></a>
<a name="439"></a>				<span class="source_type">switch</span> (Sort)
<a name="440"></a>				{
<a name="441"></a>					case <span class="source_string">"Name"</span>:
<a name="442"></a>						TempTag = <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>; break;
<a name="443"></a>					case <span class="source_string">"Team"</span>:	<span class="source_comment">// Ordered by Team, then subordered by last selected sort method
</span><a name="444"></a>						TempTag = PadRight(<span class="source_type">class</span><span class="source_name">'TeamInfo'</span>.default.ColorNames[<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex],MLength,<span class="source_string">"0"</span>);
<a name="445"></a>						<span class="source_type">switch</span> (<span class="source_type">Last</span>)
<a name="446"></a>						{
<a name="447"></a>							case <span class="source_string">"Name"</span>:
<a name="448"></a>								TempTag $= <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>; break;
<a name="449"></a>							case <span class="source_string">"Ping"</span>:
<a name="450"></a>								TempTag $= PadLeft(<span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.Ping*<span class="source_int">4</span>), <span class="source_int">5</span>, <span class="source_string">"0"</span>); break;
<a name="451"></a>							default:
<a name="452"></a>								TempTag $= PadLeft(<span class="source_type">string</span>(<span class="source_type">int</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span>)), <span class="source_int">4</span>, <span class="source_string">"0"</span>); break;
<a name="453"></a>						}
<a name="454"></a>						break;
<a name="455"></a>					case <span class="source_string">"Ping"</span>:
<a name="456"></a>						TempTag = PadLeft(<span class="source_type">string</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.Ping*<span class="source_int">4</span>), <span class="source_int">5</span>, <span class="source_string">"0"</span>); break;
<a name="457"></a>					default:
<a name="458"></a>						TempTag = PadLeft(<span class="source_type">string</span>(<span class="source_type">int</span>(<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span>)), <span class="source_int">4</span>, <span class="source_string">"0"</span>); break;
<a name="459"></a>				}
<a name="460"></a>
<a name="461"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"RowContent"</span>, TempData);
<a name="462"></a>				PlayerList.Add( WebInclude(RowLeft), TempTag);
<a name="463"></a>			}
<a name="464"></a>		}
<a name="465"></a>
<a name="466"></a>		PlayerListSubst = <span class="source_string">""</span>;
<a name="467"></a>		if (PlayerList.Count() &gt; <span class="source_int">0</span>)
<a name="468"></a>		{
<a name="469"></a>			for ( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;PlayerList.Count(); <span class="source_type">i</span>++)
<a name="470"></a>			{
<a name="471"></a>				if (Sort ~= <span class="source_string">"Score"</span>)
<a name="472"></a>					PlayerListSubst = PlayerList.GetItem(<span class="source_type">i</span>) $ PlayerListSubst;
<a name="473"></a>
<a name="474"></a>				else PlayerListSubst $= PlayerList.GetItem(<span class="source_type">i</span>);
<a name="475"></a>			}
<a name="476"></a>		}
<a name="477"></a>
<a name="478"></a>		else
<a name="479"></a>		{
<a name="480"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"SpanContent"</span>, NoPlayersConnected);
<a name="481"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"SpanLength"</span>, <span class="source_string">"6"</span>);
<a name="482"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"RowContent"</span>, WebInclude(CellColSpan));
<a name="483"></a>			PlayerListSubst = WebInclude(RowCenter);
<a name="484"></a>		}
<a name="485"></a>
<a name="486"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"PlayerList"</span>, PlayerListSubst);
<a name="487"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"MinPlayers"</span>, <span class="source_type">string</span>(<span class="source_type"><a href="../unrealgame/unrealmpgameinfo.html" class="source">UnrealMPGameInfo</a></span>(<span class="source_type">Level</span>.Game).MinPlayers));
<a name="488"></a>
<a name="489"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"PageHelp"</span>, NotePlayersPage);
<a name="490"></a>		MapTitle(<span class="source_type">Response</span>);
<a name="491"></a>		ShowPage(<span class="source_type">Response</span>, CurrentPlayersPage);
<a name="492"></a>	}
<a name="493"></a>	else
<a name="494"></a>		AccessDenied(<span class="source_type">Response</span>);
<a name="495"></a>}
<a name="496"></a>
<a name="497"></a>function QueryCurrentGame(<span class="source_type"><a href="../uweb/webrequest.html" class="source">WebRequest</a></span> Request, <span class="source_type"><a href="../uweb/webresponse.html" class="source">WebResponse</a></span> <span class="source_type">Response</span>)
<a name="498"></a>{
<a name="499"></a>local <span class="source_type"><a href="../xwebadmin/stringarray.html" class="source">StringArray</a></span>	ExcludeMaps, IncludeMaps, MovedMaps;
<a name="500"></a>local <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/gameinfo.html" class="source">GameInfo</a></span>&gt; <span class="source_type">GameClass</span>;
<a name="501"></a>local <span class="source_type">string</span> NewGameType, SwitchButtonName, GameState, NewMap;
<a name="502"></a>local <span class="source_type">bool</span> bMakeChanges;
<a name="503"></a>local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="504"></a>local <span class="source_type"><a href="../xgame/xplayer.html" class="source">xPlayer</a></span> XP;
<a name="505"></a>local <span class="source_type"><a href="../unrealgame/teamplayerreplicationinfo.html" class="source">TeamPlayerReplicationInfo</a></span> PRI;
<a name="506"></a>local <span class="source_type">int</span> MultiKills, Sprees, GameIndex;
<a name="507"></a>
<a name="508"></a>	if (CanPerform(<span class="source_string">"Mt|Mm"</span>))
<a name="509"></a>	{
<a name="510"></a>		if (Request.GetVariable(<span class="source_string">"SwitchGameTypeAndMap"</span>, <span class="source_string">""</span>) != <span class="source_string">""</span>)
<a name="511"></a>		{
<a name="512"></a>			if (CanPerform(<span class="source_string">"Mt"</span>))
<a name="513"></a>				ServerChangeMap(Request, <span class="source_type">Response</span>, Request.GetVariable(<span class="source_string">"MapSelect"</span>), Request.GetVariable(<span class="source_string">"GameTypeSelect"</span>));
<a name="514"></a>
<a name="515"></a>			else AccessDenied(<span class="source_type">Response</span>);
<a name="516"></a>
<a name="517"></a>			return;
<a name="518"></a>		}
<a name="519"></a>
<a name="520"></a>		else if (Request.GetVariable(<span class="source_string">"SwitchMap"</span>, <span class="source_string">""</span>) != <span class="source_string">""</span>)
<a name="521"></a>		{
<a name="522"></a>			if (CanPerform(<span class="source_string">"Mm|Mt"</span>))
<a name="523"></a>			{
<a name="524"></a>				NewMap = Request.GetVariable(<span class="source_string">"MapSelect"</span>);
<a name="525"></a>				<span class="source_type">Level</span>.ServerTravel(NewMap$<span class="source_string">"?game="</span>$<span class="source_type">Level</span>.Game.<span class="source_type">Class</span>$<span class="source_string">"?mutator="</span>$UsedMutators(), false);
<a name="526"></a>				ShowMessage(<span class="source_type">Response</span>, WaitTitle, Repl(MapChangingTo, <span class="source_string">"%MapName%"</span>, NewMap));
<a name="527"></a>			}
<a name="528"></a>
<a name="529"></a>			else AccessDenied(<span class="source_type">Response</span>);
<a name="530"></a>
<a name="531"></a>			return;
<a name="532"></a>		}
<a name="533"></a>
<a name="534"></a>		bMakeChanges = (Request.GetVariable(<span class="source_string">"ApplySettings"</span>, <span class="source_string">""</span>) != <span class="source_string">""</span>);
<a name="535"></a>		if (CanPerform(<span class="source_string">"Mt"</span>) && (bMakeChanges || Request.GetVariable(<span class="source_string">"SwitchGameType"</span>, <span class="source_string">""</span>) != <span class="source_string">""</span>))
<a name="536"></a>		{
<a name="537"></a>			NewGameType = Request.GetVariable(<span class="source_string">"GameTypeSelect"</span>);
<a name="538"></a>			<span class="source_type">GameClass</span> = <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/gameinfo.html" class="source">GameInfo</a></span>&gt;(DynamicLoadObject(NewGameType, <span class="source_type">class</span><span class="source_name">'Class'</span>));
<a name="539"></a>		}
<a name="540"></a>		else <span class="source_type">GameClass</span> = None;
<a name="541"></a>
<a name="542"></a>		if (<span class="source_type">GameClass</span> == None)
<a name="543"></a>		{
<a name="544"></a>			<span class="source_type">GameClass</span> = <span class="source_type">Level</span>.Game.<span class="source_type">Class</span>;
<a name="545"></a>			NewGameType = <span class="source_type">String</span>(<span class="source_type">GameClass</span>);
<a name="546"></a>		}
<a name="547"></a>
<a name="548"></a>		GameIndex = <span class="source_type">Level</span>.Game.MaplistHandler.GetGameIndex(NewGameType);
<a name="549"></a>		ExcludeMaps = ReloadExcludeMaps(NewGameType);
<a name="550"></a>		IncludeMaps = ReloadIncludeMaps(ExcludeMaps, GameIndex, <span class="source_type">Level</span>.Game.MaplistHandler.GetActiveList(GameIndex));
<a name="551"></a>
<a name="552"></a>		GameState = <span class="source_string">""</span>;
<a name="553"></a>		<span class="source_comment">// Show game status if admin has necessary privs
</span><a name="554"></a>		if (CanPerform(<span class="source_string">"Ma"</span>))
<a name="555"></a>		{
<a name="556"></a>			if (<span class="source_type">Level</span>.Game.NumPlayers &gt; <span class="source_int">0</span>)
<a name="557"></a>			{
<a name="558"></a>				for (<span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController)
<a name="559"></a>				{
<a name="560"></a>					MultiKills = <span class="source_int">0</span>;
<a name="561"></a>					Sprees = <span class="source_int">0</span>;
<a name="562"></a>					PRI = None;
<a name="563"></a>					XP = <span class="source_type"><a href="../xgame/xplayer.html" class="source">xPlayer</a></span>(<span class="source_type">C</span>);
<a name="564"></a>					if (XP != None && !XP.bDeleteMe)
<a name="565"></a>					{
<a name="566"></a>						if (<span class="source_type"><a href="../unrealgame/teamplayerreplicationinfo.html" class="source">TeamPlayerReplicationInfo</a></span>(XP.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>) != None)
<a name="567"></a>							PRI = <span class="source_type"><a href="../unrealgame/teamplayerreplicationinfo.html" class="source">TeamPlayerReplicationInfo</a></span>(XP.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>);
<a name="568"></a>
<a name="569"></a>						if (PRI != None)
<a name="570"></a>						{
<a name="571"></a>							<span class="source_type">Response</span>.Subst(<span class="source_string">"PlayerName"</span>, HtmlEncode(PRI.<span class="source_type">PlayerName</span>));
<a name="572"></a>							<span class="source_type">Response</span>.Subst(<span class="source_string">"Kills"</span>, <span class="source_type">string</span>(PRI.Kills));
<a name="573"></a>							<span class="source_comment">//if _RO_
</span><a name="574"></a>							<span class="source_type">Response</span>.Subst(<span class="source_string">"FFKills"</span>, <span class="source_type">string</span>(PRI.FFKills));
<a name="575"></a>							<span class="source_comment">//end _RO_
</span><a name="576"></a>							<span class="source_type">Response</span>.Subst(<span class="source_string">"Deaths"</span>, <span class="source_type">string</span>(PRI.Deaths));
<a name="577"></a>							<span class="source_type">Response</span>.Subst(<span class="source_string">"Suicides"</span>,<span class="source_type">string</span>(PRI.Suicides));
<a name="578"></a>							<span class="source_comment">//if _RO_
</span><a name="579"></a>							<span class="source_comment">/*
<a name="580"></a>							//end _RO_
<a name="581"></a>							for (i = 0; i &lt; 7; i++)
<a name="582"></a>								MultiKills += PRI.MultiKills[i];
<a name="583"></a>							Response.Subst("MultiKills", string(MultiKills));
<a name="584"></a>							for (i = 0; i &lt; 6; i++)
<a name="585"></a>								Sprees += PRI.Spree[i];
<a name="586"></a>							Response.Subst("Sprees", string(Sprees));
<a name="587"></a>							//if _RO_
<a name="588"></a>							*/</span>
<a name="589"></a>							<span class="source_comment">//end _RO_
</span><a name="590"></a>							GameState $= WebInclude(StatTableRow);
<a name="591"></a>						}
<a name="592"></a>					}
<a name="593"></a>				}
<a name="594"></a>			}
<a name="595"></a>            else
<a name="596"></a>                <span class="source_comment">//if _RO_
</span><a name="597"></a>                GameState = <span class="source_string">"&lt;tr&gt;&lt;td colspan=\"5\" align=\"center\"&gt;"</span>@NoPlayersConnected@<span class="source_string">"&lt;/td&gt;&lt;/tr&gt;"</span>;
<a name="598"></a>                <span class="source_comment">//else
</span><a name="599"></a>                <span class="source_comment">//GameState = "&lt;tr&gt;&lt;td colspan=\"6\" align=\"center\"&gt;"@NoPlayersConnected@"&lt;/td&gt;&lt;/tr&gt;";
</span><a name="600"></a>                <span class="source_comment">//end _RO_
</span><a name="601"></a>
<a name="602"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"StatRows"</span>, GameState);
<a name="603"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"GameState"</span>, WebInclude(StatTable));
<a name="604"></a>		}
<a name="605"></a>
<a name="606"></a>		if (<span class="source_type">GameClass</span> == <span class="source_type">Level</span>.Game.<span class="source_type">Class</span>)
<a name="607"></a>		{
<a name="608"></a>			SwitchButtonName=<span class="source_string">"SwitchMap"</span>;
<a name="609"></a>			MovedMaps = New(None) <span class="source_type">Class</span><span class="source_name">'SortedStringArray'</span>;
<a name="610"></a>			MovedMaps.CopyFromId(IncludeMaps, IncludeMaps.FindTagId(Left(<span class="source_type">string</span>(<span class="source_type">Level</span>), InStr(<span class="source_type">string</span>(<span class="source_type">Level</span>), <span class="source_string">"."</span>))));
<a name="611"></a>		}
<a name="612"></a>		else SwitchButtonName=<span class="source_string">"SwitchGameTypeAndMap"</span>;
<a name="613"></a>
<a name="614"></a>		if (CanPerform(<span class="source_string">"Mt"</span>))
<a name="615"></a>		{
<a name="616"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, Select(<span class="source_string">"GameTypeSelect"</span>, GenerateGameTypeOptions(NewGameType)));
<a name="617"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"GameTypeButton"</span>, SubmitButton(<span class="source_string">"SwitchGameType"</span>, SwitchText));
<a name="618"></a>		}
<a name="619"></a>		else <span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, <span class="source_type">Level</span>.Game.Default.GameName);
<a name="620"></a>
<a name="621"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"GameTypeSelect"</span>, WebInclude(CellLeft));
<a name="622"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, Select(<span class="source_string">"MapSelect"</span>, GenerateMapListSelect(IncludeMaps, MovedMaps)));
<a name="623"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"MapSelect"</span>, WebInclude(CellLeft));
<a name="624"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"MapButton"</span>, SubmitButton(SwitchButtonName, SwitchText));
<a name="625"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"PostAction"</span>, CurrentGamePage);
<a name="626"></a>
<a name="627"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"Section"</span>, CurrentLinks[<span class="source_int">0</span>]);
<a name="628"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"PageHelp"</span>, NoteGamePage);
<a name="629"></a>		MapTitle(<span class="source_type">Response</span>);
<a name="630"></a>		ShowPage(<span class="source_type">Response</span>, CurrentGamePage);
<a name="631"></a>	}
<a name="632"></a>	else AccessDenied(<span class="source_type">Response</span>);
<a name="633"></a>}
<a name="634"></a>
<a name="635"></a>function QueryCurrentConsole(<span class="source_type"><a href="../uweb/webrequest.html" class="source">WebRequest</a></span> Request, <span class="source_type"><a href="../uweb/webresponse.html" class="source">WebResponse</a></span> <span class="source_type">Response</span>)
<a name="636"></a>{
<a name="637"></a>local <span class="source_type">String</span> SendStr, OutStr;
<a name="638"></a>
<a name="639"></a>	if (CanPerform(<span class="source_string">"Xc"</span>))
<a name="640"></a>	{
<a name="641"></a>		SendStr = Request.GetVariable(<span class="source_string">"SendText"</span>, <span class="source_string">""</span>);
<a name="642"></a>		if (SendStr != <span class="source_string">""</span> && !(Left(SendStr, <span class="source_int">6</span>) ~= <span class="source_string">"debug "</span> || SendStr ~= <span class="source_string">"debug"</span>))
<a name="643"></a>		{
<a name="644"></a>			if (Left(SendStr, <span class="source_int">4</span>) ~= <span class="source_string">"say "</span>)
<a name="645"></a>				<span class="source_type">Level</span>.Game.Broadcast(Spectator, Mid(SendStr, <span class="source_int">4</span>), <span class="source_name">'Say'</span>);
<a name="646"></a>			else if (SendStr ~= <span class="source_string">"pause"</span>)
<a name="647"></a>			{
<a name="648"></a>				if (<span class="source_type">Level</span>.Pauser == None)
<a name="649"></a>					<span class="source_type">Level</span>.Pauser = Spectator.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>;
<a name="650"></a>				else <span class="source_type">Level</span>.Pauser = None;
<a name="651"></a>			}
<a name="652"></a>			else if (SendStr ~= <span class="source_string">"dump"</span>)
<a name="653"></a>				Spectator.Dump();
<a name="654"></a>
<a name="655"></a>			else if ((Left(SendStr, <span class="source_int">4</span>) ~= <span class="source_string">"get "</span> || Left(SendStr,<span class="source_int">4</span>) ~= <span class="source_string">"set "</span>) &&
<a name="656"></a>			(InStr(Caps(SendStr), <span class="source_string">"XADMINCONFIG"</span>) != -<span class="source_int">1</span> || !CanPerform(<span class="source_string">"Ms"</span>)) )
<a name="657"></a>			{
<a name="658"></a>				if ( InStr(Caps(SendStr), <span class="source_string">"XADMINCONFIG"</span>) != -<span class="source_int">1</span> )
<a name="659"></a>				{
<a name="660"></a>					StatusError(<span class="source_type">Response</span>, ConsoleUserlist);
<a name="661"></a>					ShowMessage(<span class="source_type">Response</span>, <span class="source_type">Error</span>, <span class="source_string">""</span>);
<a name="662"></a>					log(<span class="source_string">"User attempted to modify or enumerate admin account information illegally using the webadmin console.  User:"</span>$Request.Username$<span class="source_string">"."</span>,<span class="source_name">'WebAdmin'</span>);
<a name="663"></a>				}
<a name="664"></a>
<a name="665"></a>				else if ( !CanPerform(<span class="source_string">"Ms"</span>) )
<a name="666"></a>					AccessDenied(<span class="source_type">Response</span>);
<a name="667"></a>			}
<a name="668"></a>			else
<a name="669"></a>			{
<a name="670"></a>				OutStr = <span class="source_type">Level</span>.ConsoleCommand(SendStr);
<a name="671"></a>				if (OutStr != <span class="source_string">""</span>)
<a name="672"></a>					Spectator.AddMessage(None, OutStr, <span class="source_name">'Console'</span>);
<a name="673"></a>			}
<a name="674"></a>		}
<a name="675"></a>
<a name="676"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"LogURI"</span>, CurrentConsoleLogPage);
<a name="677"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"SayURI"</span>, CurrentConsoleSendPage);
<a name="678"></a>		ShowPage(<span class="source_type">Response</span>, CurrentConsolePage);
<a name="679"></a>	}
<a name="680"></a>	else
<a name="681"></a>		AccessDenied(<span class="source_type">Response</span>);
<a name="682"></a>}
<a name="683"></a>
<a name="684"></a>function QueryCurrentConsoleLog(<span class="source_type"><a href="../uweb/webrequest.html" class="source">WebRequest</a></span> Request, <span class="source_type"><a href="../uweb/webresponse.html" class="source">WebResponse</a></span> <span class="source_type">Response</span>)
<a name="685"></a>{
<a name="686"></a>local <span class="source_type">String</span> LogSubst, LogStr;
<a name="687"></a>local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="688"></a>
<a name="689"></a>
<a name="690"></a>	if (CanPerform(<span class="source_string">"Xc"</span>))
<a name="691"></a>	{
<a name="692"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"Section"</span>, CurrentLinks[<span class="source_int">2</span>]);
<a name="693"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"SubTitle"</span>, <span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>.GameName$<span class="source_string">" in "</span>$<span class="source_type">Level</span>.Title);
<a name="694"></a>
<a name="695"></a>		<span class="source_type">i</span> = Spectator.LastMessage();
<a name="696"></a>		LogStr = HtmlEncode(Spectator.NextMessage(<span class="source_type">i</span>));
<a name="697"></a>		while (LogStr  != <span class="source_string">""</span>)
<a name="698"></a>		{
<a name="699"></a>			LogSubst = LogSubst$<span class="source_string">"&gt; "</span>$LogStr$<span class="source_string">"&lt;br&gt;"</span>;
<a name="700"></a>			LogStr = HtmlEncode(Spectator.NextMessage(<span class="source_type">i</span>));
<a name="701"></a>		}
<a name="702"></a>
<a name="703"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"RefreshMeta"</span>, ConsoleRefreshTag $ CurrentConsoleLogPage $ <span class="source_string">"#END\"&gt;"</span>);
<a name="704"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"LogText"</span>, LogSubst);
<a name="705"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"PageHelp"</span>, NoteConsolePage);
<a name="706"></a>		MapTitle(<span class="source_type">Response</span>);
<a name="707"></a>		ShowPage(<span class="source_type">Response</span>, CurrentConsoleLogPage);
<a name="708"></a>	}
<a name="709"></a>	else
<a name="710"></a>		AccessDenied(<span class="source_type">Response</span>);
<a name="711"></a>}
<a name="712"></a>
<a name="713"></a>function QueryCurrentConsoleSend(<span class="source_type"><a href="../uweb/webrequest.html" class="source">WebRequest</a></span> Request, <span class="source_type"><a href="../uweb/webresponse.html" class="source">WebResponse</a></span> <span class="source_type">Response</span>)
<a name="714"></a>{
<a name="715"></a>	if (CanPerform(<span class="source_string">"Xc"</span>))
<a name="716"></a>	{
<a name="717"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"DefaultSendText"</span>, DefaultSendText);
<a name="718"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"PostAction"</span>, CurrentConsolePage);
<a name="719"></a>		ShowPage(<span class="source_type">Response</span>, CurrentConsoleSendPage);
<a name="720"></a>	}
<a name="721"></a>	else
<a name="722"></a>		AccessDenied(<span class="source_type">Response</span>);
<a name="723"></a>}
<a name="724"></a>
<a name="725"></a>function QueryCurrentMutators(<span class="source_type"><a href="../uweb/webrequest.html" class="source">WebRequest</a></span> Request, <span class="source_type"><a href="../uweb/webresponse.html" class="source">WebResponse</a></span> <span class="source_type">Response</span>)
<a name="726"></a>{
<a name="727"></a>local <span class="source_type">int</span> <span class="source_type">i</span>, j, k, <span class="source_type">z</span>;
<a name="728"></a>local <span class="source_type">string</span> selectedmutes, lastgroup, nextgroup, thisgroup, Checked, tmp;
<a name="729"></a>local <span class="source_type"><a href="../xwebadmin/stringarray.html" class="source">StringArray</a></span>	GroupedMutators, SoloMutators;
<a name="730"></a>
<a name="731"></a>	if (CanPerform(<span class="source_string">"Mu"</span>))
<a name="732"></a>	{
<a name="733"></a>		SoloMutators = new(None) <span class="source_type">class</span><span class="source_name">'SortedStringArray'</span>;
<a name="734"></a>		GroupedMutators = new(None) <span class="source_type">class</span><span class="source_name">'StringArray'</span>;
<a name="735"></a>
<a name="736"></a>		if (Request.GetVariable(<span class="source_string">"SetMutes"</span>, <span class="source_string">""</span>) != <span class="source_string">""</span>)
<a name="737"></a>		{
<a name="738"></a>			AIncMutators.Reset();
<a name="739"></a>			lastgroup = <span class="source_string">""</span>;
<a name="740"></a>			for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span>&lt;AExcMutators.Count(); <span class="source_type">i</span>++)
<a name="741"></a>			{
<a name="742"></a>				j = <span class="source_type">int</span>(AExcMutators.GetItem(<span class="source_type">i</span>));
<a name="743"></a>				if (j &lt; <span class="source_int">0</span>) continue;
<a name="744"></a>
<a name="745"></a>				thisgroup = AllMutators[j].GroupName;
<a name="746"></a>				if (Request.GetVariable(AExcMutators.GetTag(<span class="source_type">i</span>), <span class="source_string">""</span>) != <span class="source_string">""</span> || Request.GetVariable(thisgroup) == AllMutators[j].<span class="source_type">ClassName</span>)
<a name="747"></a>					AIncMutators.Add(AExcMutators.GetItem(<span class="source_type">i</span>), AllMutators[j].<span class="source_type">FriendlyName</span>);
<a name="748"></a>			}
<a name="749"></a>		}
<a name="750"></a>
<a name="751"></a>		<span class="source_comment">// Make a list sorted by friendly name
</span><a name="752"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span>&lt;AExcMutators.Count(); <span class="source_type">i</span>++)
<a name="753"></a>		{
<a name="754"></a>			j = <span class="source_type">int</span>(AExcMutators.GetItem(<span class="source_type">i</span>));
<a name="755"></a>			if (j &lt; <span class="source_int">0</span>) continue;
<a name="756"></a>
<a name="757"></a>			SoloMutators.Add(<span class="source_type">string</span>(j), AllMutators[j].<span class="source_type">FriendlyName</span>);
<a name="758"></a>		}
<a name="759"></a>
<a name="760"></a>		<span class="source_comment">// First, Display Selected Mutators, 1 per line
</span><a name="761"></a>		selectedmutes = <span class="source_string">""</span>;
<a name="762"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span>&lt;AIncMutators.Count(); <span class="source_type">i</span>++)
<a name="763"></a>		{
<a name="764"></a>			tmp = <span class="source_string">""</span>;
<a name="765"></a>			j = <span class="source_type">int</span>(AIncMutators.GetItem(<span class="source_type">i</span>));
<a name="766"></a>			if (j &lt; <span class="source_int">0</span>) continue;
<a name="767"></a>
<a name="768"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, HtmlEncode(AllMutators[j].<span class="source_type">FriendlyName</span>));
<a name="769"></a>			tmp = WebInclude(CellLeft);
<a name="770"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, HtmlEncode(AllMutators[j].Description));
<a name="771"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"RowContent"</span>, tmp $ WebInclude(CellLeft));
<a name="772"></a>			selectedmutes $= WebInclude(RowLeft);
<a name="773"></a>		}
<a name="774"></a>
<a name="775"></a>		if (selectedmutes != <span class="source_string">""</span>)
<a name="776"></a>		{
<a name="777"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"TableTitle"</span>, SelectedMutators);
<a name="778"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"TableRows"</span>, selectedmutes);
<a name="779"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"SelectedTable"</span>, WebInclude(MutatorTablePage));
<a name="780"></a>		}
<a name="781"></a>
<a name="782"></a>		CreateFullMutatorList(SoloMutators, GroupedMutators);
<a name="783"></a>		lastgroup = <span class="source_string">""</span>; selectedmutes = <span class="source_string">""</span>;
<a name="784"></a>
<a name="785"></a>		<span class="source_comment">// First, display all grouped mutators, sorted by friendly name
</span><a name="786"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span>&lt;GroupedMutators.Count(); <span class="source_type">i</span>++)
<a name="787"></a>		{
<a name="788"></a>			j = <span class="source_type">int</span>(GroupedMutators.GetItem(<span class="source_type">i</span>));
<a name="789"></a>			if (j &lt; <span class="source_int">0</span>) continue;
<a name="790"></a>
<a name="791"></a>		<span class="source_comment">// If mod author has forgotten to specify a group name for this mutator,
</span><a name="792"></a>		<span class="source_comment">// then add unique group name, to avoid all mutes without group names from
</span><a name="793"></a>		<span class="source_comment">// being considered in the same group
</span><a name="794"></a>			if (AllMutators[j].GroupName==<span class="source_string">""</span>)
<a name="795"></a>				thisgroup = <span class="source_string">"Z"</span> $ <span class="source_type">string</span>(<span class="source_type">z</span>++);
<a name="796"></a>
<a name="797"></a>			else thisgroup = AllMutators[j].GroupName;
<a name="798"></a>
<a name="799"></a>			if ( (<span class="source_type">i</span> + <span class="source_int">1</span>) == GroupedMutators.Count())
<a name="800"></a>				nextgroup = <span class="source_string">""</span>;
<a name="801"></a>
<a name="802"></a>			else
<a name="803"></a>			{
<a name="804"></a>				k = <span class="source_type">int</span>(GroupedMutators.GetItem(<span class="source_type">i</span> + <span class="source_int">1</span>));
<a name="805"></a>				if (k &lt; <span class="source_int">0</span>) continue;
<a name="806"></a>
<a name="807"></a>				if (AllMutators[k].GroupName==<span class="source_string">""</span>)
<a name="808"></a>					nextgroup = <span class="source_string">"Z"</span> $ <span class="source_type">string</span>(<span class="source_type">z</span>);
<a name="809"></a>
<a name="810"></a>				else nextgroup = AllMutators[k].GroupName;
<a name="811"></a>			}
<a name="812"></a>
<a name="813"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"GroupName"</span>, thisgroup);
<a name="814"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"MutatorClass"</span>, AllMutators[j].<span class="source_type">ClassName</span>);
<a name="815"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"MutatorName"</span>, AllMutators[j].<span class="source_type">FriendlyName</span>);
<a name="816"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"MutatorDesc"</span>, AllMutators[j].Description);
<a name="817"></a>
<a name="818"></a>			if (lastgroup != thisgroup && thisgroup == nextgroup) <span class="source_comment">// and the next mut is in the same group as this one
</span><a name="819"></a>			{
<a name="820"></a>                <span class="source_type">Response</span>.Subst(<span class="source_string">"Checked"</span>, <span class="source_string">"checked"</span>);
<a name="821"></a>				selectedmutes $= WebInclude(MutatorGroupTitle);
<a name="822"></a>			}
<a name="823"></a>
<a name="824"></a>			Checked = Eval(AIncMutators.FindItemId(<span class="source_type">string</span>(j)) &gt;= <span class="source_int">0</span>, <span class="source_string">" checked"</span>, <span class="source_string">""</span>);
<a name="825"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"Checked"</span>, Checked);
<a name="826"></a>
<a name="827"></a>			selectedmutes $= WebInclude(MutatorGroupMember);
<a name="828"></a>			lastgroup = thisgroup;
<a name="829"></a>		}
<a name="830"></a>
<a name="831"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; SoloMutators.Count(); <span class="source_type">i</span>++)
<a name="832"></a>		{
<a name="833"></a>			tmp = <span class="source_string">""</span>;	<span class="source_comment">// Some sort of bug in WebInclude...must empty this var each time I use it
</span><a name="834"></a>			j = <span class="source_type">int</span>(SoloMutators.GetItem(<span class="source_type">i</span>));
<a name="835"></a>
<a name="836"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, CheckBox(AllMutators[j].<span class="source_type">ClassName</span>, AIncMutators.FindItemId(<span class="source_type">string</span>(j)) &gt;= <span class="source_int">0</span>) $ <span class="source_string">"&nbsp;"</span> $ AllMutators[j].<span class="source_type">FriendlyName</span>);
<a name="837"></a>			tmp = WebInclude(NowrapLeft);
<a name="838"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"Content"</span>, AllMutators[j].Description);
<a name="839"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"RowContent"</span>, tmp $ WebInclude(CellLeft));
<a name="840"></a>			selectedmutes $= WebInclude(RowLeft);
<a name="841"></a>		}
<a name="842"></a>
<a name="843"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"TableTitle"</span>, PickMutators);
<a name="844"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"TableRows"</span>, selectedmutes);
<a name="845"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"ChooseTable"</span>, WebInclude(MutatorTablePage));
<a name="846"></a>
<a name="847"></a>		MapTitle(<span class="source_type">Response</span>);
<a name="848"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"Section"</span>, CurrentLinks[<span class="source_int">3</span>]);
<a name="849"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"PageHelp"</span>, NoteMutatorsPage);
<a name="850"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"PostAction"</span>, CurrentMutatorsPage);
<a name="851"></a>		ShowPage(<span class="source_type">Response</span>, CurrentMutatorsPage);
<a name="852"></a>	}
<a name="853"></a>
<a name="854"></a>	else AccessDenied(<span class="source_type">Response</span>);
<a name="855"></a>}
<a name="856"></a>
<a name="857"></a>function QueryCurrentBots(<span class="source_type"><a href="../uweb/webrequest.html" class="source">WebRequest</a></span> Request, <span class="source_type"><a href="../uweb/webresponse.html" class="source">WebResponse</a></span> <span class="source_type">Response</span>)
<a name="858"></a>{
<a name="859"></a>local array&lt;<span class="source_type"><a href="../xgame/xutil.html" class="source">xUtil</a></span>.<span class="source_type"><a href="../xgame/xutil.html#PlayerRecord" class="source">PlayerRecord</a></span>&gt; PlayerRecords;
<a name="860"></a>local <span class="source_type">string</span> OutStr, BotName, LeftTable, RightTable;
<a name="861"></a>local <span class="source_type">int</span> <span class="source_type">i</span>, j, BotCount, maxbots, cnt, Col1Count;
<a name="862"></a>local <span class="source_type"><a href="../xgame/xbot.html" class="source">xBot</a></span>	<span class="source_type">B</span>;
<a name="863"></a>local <span class="source_type">bool</span> oldstate, <span class="source_type">newstate</span>, bInMatch;
<a name="864"></a>local <span class="source_type"><a href="../unrealgame/deathmatch.html" class="source">DeathMatch</a></span>	DM;
<a name="865"></a>
<a name="866"></a>	if (!CanPerform(<span class="source_string">"Mb"</span>))
<a name="867"></a>	{
<a name="868"></a>		AccessDenied(<span class="source_type">Response</span>);
<a name="869"></a>		return;
<a name="870"></a>	}
<a name="871"></a>
<a name="872"></a>	DM = <span class="source_type"><a href="../unrealgame/deathmatch.html" class="source">DeathMatch</a></span>(<span class="source_type">Level</span>.Game);
<a name="873"></a>	if (DM == None)
<a name="874"></a>	{
<a name="875"></a>		ShowMessage(<span class="source_type">Response</span>, BadGameType, Repl(GameTypeUnsupported, <span class="source_string">"%GameType%"</span>, <span class="source_type">string</span>(<span class="source_type">Level</span>.Game.<span class="source_type">Class</span>)));
<a name="876"></a>		return;
<a name="877"></a>	}
<a name="878"></a>
<a name="879"></a>	<span class="source_comment">// Disable any type of Bots controls when stats are on
</span><a name="880"></a>	if (DM.bEnableStatLogging && DM.NumBots == <span class="source_int">0</span>)
<a name="881"></a>	{
<a name="882"></a>		ShowMessage(<span class="source_type">Response</span>, NoBotsTitle, NoBots);
<a name="883"></a>		return;
<a name="884"></a>	}
<a name="885"></a>
<a name="886"></a>	<span class="source_comment">// Make a sorted list of all species and group bots
</span><a name="887"></a>	if (SpeciesNames == None)
<a name="888"></a>	{
<a name="889"></a>		<span class="source_type">class</span><span class="source_name">'xUtil'</span>.static.GetPlayerList(PlayerRecords);
<a name="890"></a>		SpeciesNames = new(None) <span class="source_type">class</span><span class="source_name">'SortedStringArray'</span>;
<a name="891"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span>&lt;PlayerRecords.Length; <span class="source_type">i</span>++)
<a name="892"></a>			SpeciesNames.Add(PlayerRecords[<span class="source_type">i</span>].Species.default.SpeciesName, PlayerRecords[<span class="source_type">i</span>].Species.default.SpeciesName, true);
<a name="893"></a>
<a name="894"></a>		BotList.Length = SpeciesNames.Count();	<span class="source_comment">// Preset Bot list size
</span><a name="895"></a>
<a name="896"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span>&lt;PlayerRecords.Length; <span class="source_type">i</span>++)
<a name="897"></a>		{
<a name="898"></a>			j = SpeciesNames.FindTagId(PlayerRecords[<span class="source_type">i</span>].Species.default.SpeciesName);
<a name="899"></a>			if (j &gt;= <span class="source_int">0</span> && BotList[j] == None)
<a name="900"></a>				BotList[j] = new(None) <span class="source_type">class</span><span class="source_name">'SortedStringArray'</span>;
<a name="901"></a>
<a name="902"></a>			<span class="source_comment">// Add the player record to the BotList
</span><a name="903"></a>			BotList[j].Add(PlayerRecords[<span class="source_type">i</span>].DefaultName, PlayerRecords[<span class="source_type">i</span>].DefaultName);
<a name="904"></a>		}
<a name="905"></a>	}
<a name="906"></a>
<a name="907"></a>	bInMatch = <span class="source_type">Level</span>.Game.IsInState(<span class="source_name">'MatchInProgress'</span>);
<a name="908"></a>
<a name="909"></a>	if (Request.GetVariable(<span class="source_string">"addbotnum"</span>, <span class="source_string">""</span>) != <span class="source_string">""</span>)
<a name="910"></a>	{
<a name="911"></a>		BotCount = <span class="source_type">int</span>(Request.GetVariable(<span class="source_string">"addnum"</span>, <span class="source_string">"0"</span>));
<a name="912"></a>		if (Request.GetVariable(<span class="source_string">"BotAction"</span>, <span class="source_string">""</span>) ~= <span class="source_string">"Add"</span>)
<a name="913"></a>		{
<a name="914"></a>			maxbots = <span class="source_int">32</span>-(DM.NumPlayers + DM.NumBots);
<a name="915"></a>
<a name="916"></a>			BotCount = Clamp(BotCount, <span class="source_int">0</span>, maxbots);
<a name="917"></a>			for (<span class="source_type">i</span>=<span class="source_int">0</span>;<span class="source_type">i</span>&lt;BotCount; <span class="source_type">i</span>++)
<a name="918"></a>				DM.ForceAddBot();
<a name="919"></a>
<a name="920"></a>			<span class="source_comment">// Save the change
</span><a name="921"></a>			if (BotCount == <span class="source_int">0</span>)
<a name="922"></a>				StatusError(<span class="source_type">Response</span>, <span class="source_string">"0"</span> @ Repl(BotStatus, <span class="source_string">"%Action%"</span>, Added));
<a name="923"></a>
<a name="924"></a>			else if (BotCount == <span class="source_int">1</span>)
<a name="925"></a>				StatusOk(<span class="source_type">Response</span>, <span class="source_string">"1"</span> @ Repl(SingleBotStatus, <span class="source_string">"%Action%"</span>, Added));
<a name="926"></a>
<a name="927"></a>			else
<a name="928"></a>				StatusOk(<span class="source_type">Response</span>, BotCount @ Repl(BotStatus, <span class="source_string">"%Action%"</span>, Added));
<a name="929"></a>		}
<a name="930"></a>
<a name="931"></a>		else if (Request.GetVariable(<span class="source_string">"BotAction"</span>, <span class="source_string">""</span>) ~= <span class="source_string">"Remove"</span>)
<a name="932"></a>		{
<a name="933"></a>			BotCount = Clamp(BotCount, <span class="source_int">0</span>, DM.NumBots);
<a name="934"></a>
<a name="935"></a>			DM.MinPlayers = DM.NumPlayers + DM.NumBots - BotCount;
<a name="936"></a>			if (BotCount == <span class="source_int">0</span>)
<a name="937"></a>				StatusError(<span class="source_type">Response</span>, <span class="source_string">"0"</span> @ Repl(BotStatus, <span class="source_string">"%Action%"</span>, Removed));
<a name="938"></a>
<a name="939"></a>			else if (BotCount == <span class="source_int">1</span>)
<a name="940"></a>				StatusOk(<span class="source_type">Response</span>, <span class="source_string">"1"</span> @ Repl(SingleBotStatus, <span class="source_string">"%Action%"</span>, Removed));
<a name="941"></a>
<a name="942"></a>			else
<a name="943"></a>				StatusOk(<span class="source_type">Response</span>, BotCount@Repl(BotStatus, <span class="source_string">"%Action%"</span>, Removed));
<a name="944"></a>		}
<a name="945"></a>	}
<a name="946"></a>	else if (Request.GetVariable(<span class="source_string">"selectbots"</span>, <span class="source_string">""</span>) != <span class="source_string">""</span> && bInMatch)
<a name="947"></a>	{
<a name="948"></a>		<span class="source_comment">// Read as many bot infos as available
</span><a name="949"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span>&lt;SpeciesNames.Count(); <span class="source_type">i</span>++)
<a name="950"></a>		{
<a name="951"></a>			for (j = <span class="source_int">0</span>; j&lt;BotList[<span class="source_type">i</span>].Count(); j++)
<a name="952"></a>			{
<a name="953"></a>				oldstate = Request.GetVariable(<span class="source_string">"BotX"</span>$<span class="source_type">i</span>$<span class="source_string">"."</span>$j, <span class="source_string">""</span>) != <span class="source_string">""</span>;
<a name="954"></a>				<span class="source_type">newstate</span> = Request.GetVariable(<span class="source_string">"Bot"</span>$<span class="source_type">i</span>$<span class="source_string">"."</span>$j, <span class="source_string">""</span>) != <span class="source_string">""</span>;
<a name="955"></a>				BotName = BotList[<span class="source_type">i</span>].GetItem(j);
<a name="956"></a>				if (oldstate != <span class="source_type">newstate</span>)
<a name="957"></a>				{
<a name="958"></a>					if (oldstate)	<span class="source_comment">// remove the bot
</span><a name="959"></a>					{
<a name="960"></a>						<span class="source_type">B</span> = FindPlayingBot(BotName);
<a name="961"></a>						if (<span class="source_type">B</span> != None)
<a name="962"></a>						{
<a name="963"></a>							DM.MinPlayers = DM.NumPlayers + DM.NumBots - <span class="source_int">1</span>;
<a name="964"></a>							<span class="source_type">B</span>.Destroy();
<a name="965"></a>						}
<a name="966"></a>					}
<a name="967"></a>					else
<a name="968"></a>					{
<a name="969"></a>						DM.MinPlayers = DM.NumPlayers + DM.NumBots;
<a name="970"></a>						DM.AddNamedBot(BotName);
<a name="971"></a>					}
<a name="972"></a>				}
<a name="973"></a>			}
<a name="974"></a>		}
<a name="975"></a>	}
<a name="976"></a>
<a name="977"></a>	<span class="source_comment">// Build our BotList
</span><a name="978"></a>	if (SpeciesNames != None)
<a name="979"></a>	{
<a name="980"></a>		BotCount = <span class="source_int">0</span>;
<a name="981"></a>		for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; SpeciesNames.Count(); <span class="source_type">i</span>++ )
<a name="982"></a>			BotCount += BotList[<span class="source_type">i</span>].Count();
<a name="983"></a>
<a name="984"></a>		for (<span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span>&lt;SpeciesNames.Count(); <span class="source_type">i</span>++)
<a name="985"></a>		{
<a name="986"></a>			OutStr = <span class="source_string">""</span>;
<a name="987"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"SpeciesName"</span>, SpeciesNames.GetItem(<span class="source_type">i</span>));
<a name="988"></a>			OutStr = WebInclude(CurrentBotsPage$<span class="source_string">"_species"</span>);
<a name="989"></a>			for (j = <span class="source_int">0</span>; j&lt;BotList[<span class="source_type">i</span>].Count(); j++)
<a name="990"></a>			{
<a name="991"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"BotChecked"</span>, <span class="source_string">""</span>);
<a name="992"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"BotIndex"</span>, <span class="source_type">String</span>(<span class="source_type">i</span>)$<span class="source_string">"."</span>$<span class="source_type">String</span>(j));
<a name="993"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"BotName"</span>, BotList[<span class="source_type">i</span>].GetItem(j));
<a name="994"></a>				<span class="source_type">B</span> = FindPlayingBot(BotList[<span class="source_type">i</span>].GetItem(j));
<a name="995"></a>
<a name="996"></a>				<span class="source_type">Response</span>.Subst(<span class="source_string">"DisabledBots"</span>, <span class="source_string">""</span>);
<a name="997"></a>				if (!bInMatch)
<a name="998"></a>					<span class="source_type">Response</span>.Subst(<span class="source_string">"DisabledBots"</span>, <span class="source_string">" DISABLED"</span>);
<a name="999"></a>				<span class="source_comment">// The following are set only if bot is currently in the game
</span><a name="1000"></a>				if (<span class="source_type">B</span> != None)
<a name="1001"></a>				{
<a name="1002"></a>					<span class="source_type">Response</span>.Subst(<span class="source_string">"BotColor"</span>, GetTeamColor(<span class="source_type">B</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>));
<a name="1003"></a>					<span class="source_type">Response</span>.Subst(<span class="source_string">"BotTeamName"</span>, GetTeamName(<span class="source_type">B</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>));
<a name="1004"></a>					OutStr $= WebInclude(CurrentBotsPage$<span class="source_string">"_row_sel"</span>);
<a name="1005"></a>				}
<a name="1006"></a>
<a name="1007"></a>				else OutStr $= WebInclude(CurrentBotsPage$<span class="source_string">"_row"</span>);
<a name="1008"></a>
<a name="1009"></a>			}
<a name="1010"></a>
<a name="1011"></a>			<span class="source_type">Response</span>.Subst(<span class="source_string">"BotList"</span>, OutStr);
<a name="1012"></a>
<a name="1013"></a>			<span class="source_comment">// Attempt to balance the bot lists
</span><a name="1014"></a>			if ( cnt + BotList[<span class="source_type">i</span>].Count() &lt; BotCount / <span class="source_int">2</span> )
<a name="1015"></a>			{
<a name="1016"></a>				<span class="source_comment">// Fill the left list until it has more than half the total number of bots
</span><a name="1017"></a>				Col1Count = cnt + BotList[<span class="source_type">i</span>].Count();
<a name="1018"></a>				LeftTable $= WebInclude(CurrentBotsPage $ <span class="source_string">"_species_group"</span>);
<a name="1019"></a>			}
<a name="1020"></a>			else
<a name="1021"></a>			{
<a name="1022"></a>				if ( cnt - Col1Count &gt; Col1Count )
<a name="1023"></a>				{
<a name="1024"></a>					<span class="source_comment">// Account for any species that contained a large number of bots by adding smaller
</span><a name="1025"></a>					<span class="source_comment">// species to the first column
</span><a name="1026"></a>					Col1Count += Botlist[<span class="source_type">i</span>].Count();
<a name="1027"></a>					LeftTable $= WebInclude(CurrentBotsPage $ <span class="source_string">"_species_group"</span>);
<a name="1028"></a>				}
<a name="1029"></a>				else RightTable $= WebInclude(CurrentBotsPage $ <span class="source_string">"_species_group"</span>);
<a name="1030"></a>			}
<a name="1031"></a>			cnt += BotList[<span class="source_type">i</span>].Count();
<a name="1032"></a>		}
<a name="1033"></a>	}
<a name="1034"></a>
<a name="1035"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"LeftBotTable"</span>, LeftTable);
<a name="1036"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"RightBotTable"</span>, RightTable);
<a name="1037"></a>
<a name="1038"></a>	<span class="source_comment">// If not in match, make sure that the bots selection button is disabled
</span><a name="1039"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"DisabledBots"</span>, <span class="source_string">""</span>);
<a name="1040"></a>	if (!bInMatch)
<a name="1041"></a>		<span class="source_type">Response</span>.Subst(<span class="source_string">"DisabledBots"</span>, <span class="source_string">" DISABLED"</span>);
<a name="1042"></a>	MapTitle(<span class="source_type">Response</span>);
<a name="1043"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"PageHelp"</span>, NoteBotsPage);
<a name="1044"></a>	<span class="source_type">Response</span>.Subst(<span class="source_string">"Section"</span>, CurrentLinks[<span class="source_int">4</span>]);
<a name="1045"></a>	ShowPage(<span class="source_type">Response</span>, CurrentBotsPage);
<a name="1046"></a>}
<a name="1047"></a>
<a name="1048"></a>function <span class="source_type"><a href="../xgame/xbot.html" class="source">xBot</a></span> FindPlayingBot(<span class="source_type">string</span> BotName) <span class="source_comment">// Returns -1 on failure, or index for team/color
</span><a name="1049"></a>{
<a name="1050"></a>local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="1051"></a>local <span class="source_type"><a href="../xgame/xbot.html" class="source">xBot</a></span> <span class="source_type">B</span>;
<a name="1052"></a>
<a name="1053"></a>	for (<span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController)
<a name="1054"></a>	{
<a name="1055"></a>		<span class="source_type">B</span> = <span class="source_type"><a href="../xgame/xbot.html" class="source">xBot</a></span>(<span class="source_type">C</span>);
<a name="1056"></a>		if (<span class="source_type">B</span> != None)
<a name="1057"></a>			if (<span class="source_type">B</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span> == BotName)
<a name="1058"></a>				return <span class="source_type">B</span>;
<a name="1059"></a>	}
<a name="1060"></a>	return None;
<a name="1061"></a>}
<a name="1062"></a>
<a name="1063"></a>function <span class="source_type">string</span> GetTeamColor(<span class="source_type"><a href="../engine/teaminfo.html" class="source">TeamInfo</a></span> <span class="source_type">Team</span>)
<a name="1064"></a>{
<a name="1065"></a>	if (<span class="source_type">Team</span> == None)
<a name="1066"></a>		return <span class="source_string">""</span>;
<a name="1067"></a>
<a name="1068"></a>	if (<span class="source_type">Team</span>.TeamIndex &lt; <span class="source_int">4</span>)
<a name="1069"></a>		return <span class="source_type">Team</span>.ColorNames[<span class="source_type">Team</span>.TeamIndex];
<a name="1070"></a>
<a name="1071"></a>	return <span class="source_string">"#CCCCCC"</span>;
<a name="1072"></a>}
<a name="1073"></a>
<a name="1074"></a>function <span class="source_type">string</span> GetTeamName(<span class="source_type"><a href="../engine/teaminfo.html" class="source">TeamInfo</a></span> <span class="source_type">Team</span>)
<a name="1075"></a>{
<a name="1076"></a>	if (<span class="source_type">Team</span> == None)
<a name="1077"></a>		return <span class="source_string">""</span>;
<a name="1078"></a>
<a name="1079"></a>	return <span class="source_type">Team</span>.GetHumanReadableName();
<a name="1080"></a>}
<a name="1081"></a>
<a name="1082"></a>defaultproperties
<a name="1083"></a>{
<a name="1084"></a>     CurrentIndexPage=<span class="source_string">"current_menu"</span>
<a name="1085"></a>     CurrentPlayersPage=<span class="source_string">"current_players"</span>
<a name="1086"></a>     CurrentGamePage=<span class="source_string">"current_game"</span>
<a name="1087"></a>     CurrentConsolePage=<span class="source_string">"current_console"</span>
<a name="1088"></a>     CurrentConsoleLogPage=<span class="source_string">"current_console_log"</span>
<a name="1089"></a>     CurrentConsoleSendPage=<span class="source_string">"current_console_send"</span>
<a name="1090"></a>     CurrentMutatorsPage=<span class="source_string">"current_mutators"</span>
<a name="1091"></a>     CurrentBotsPage=<span class="source_string">"current_bots"</span>
<a name="1092"></a>     CurrentRestartPage=<span class="source_string">"current_restart"</span>
<a name="1093"></a>     DefaultSendText=<span class="source_string">"say "</span>
<a name="1094"></a>     StatTable=<span class="source_string">"current_game_stat_table"</span>
<a name="1095"></a>     StatTableRow=<span class="source_string">"current_game_stat_table_row"</span>
<a name="1096"></a>     PlayerListHeader=<span class="source_string">"current_players_list_head"</span>
<a name="1097"></a>     PlayerListLinkedHeader=<span class="source_string">"current_players_list_head_link"</span>
<a name="1098"></a>     PlayerListMinPlayers=<span class="source_string">"current_players_minp"</span>
<a name="1099"></a>     ConsoleRefreshTag=<span class="source_string">"&lt;meta http-equiv="</span>refresh<span class="source_string">" CONTENT="</span><span class="source_int">5</span>; <span class="source_type"><a href="../engine/gameengine.html#URL" class="source">URL</a></span>=<span class="source_string">"</span>
<a name="1100"></a>     MutatorTablePage=<span class="source_string">"current_mutators_table"</span>
<a name="1101"></a>     MutatorGroupTitle=<span class="source_string">"current_mutators_group"</span>
<a name="1102"></a>     MutatorGroupMember=<span class="source_string">"current_mutators_group_row"</span>
<a name="1103"></a>     BadGameType=<span class="source_string">"Unsupported Game Type"</span>
<a name="1104"></a>     CurrentLinks(<span class="source_int">0</span>)=<span class="source_string">"Current Game"</span>
<a name="1105"></a>     CurrentLinks(<span class="source_int">1</span>)=<span class="source_string">"Player List"</span>
<a name="1106"></a>     CurrentLinks(<span class="source_int">2</span>)=<span class="source_string">"Server Console"</span>
<a name="1107"></a>     CurrentLinks(<span class="source_int">3</span>)=<span class="source_string">"Mutators"</span>
<a name="1108"></a>     CurrentLinks(<span class="source_int">4</span>)=<span class="source_string">"Restart Map"</span>
<a name="1109"></a>     NoBotsTitle=<span class="source_string">"Bots unavailable"</span>
<a name="1110"></a>     KickButtonText(<span class="source_int">0</span>)=<span class="source_string">"Kick"</span>
<a name="1111"></a>     KickButtonText(<span class="source_int">1</span>)=<span class="source_string">"Ban"</span>
<a name="1112"></a>     KickButtonText(<span class="source_int">2</span>)=<span class="source_string">"Kick/Ban"</span>
<a name="1113"></a>     NoPlayersConnected=<span class="source_string">"** No Players Connected **"</span>
<a name="1114"></a>     SelectedMutators=<span class="source_string">"Selected Mutators"</span>
<a name="1115"></a>     PickMutators=<span class="source_string">"Select desired mutators"</span>
<a name="1116"></a>     GameTypeUnsupported=<span class="source_string">"The Game Type '%GameType%' does not use standard bots."</span>
<a name="1117"></a>     NoBots=<span class="source_string">"You cannot add bots while World Stats Logging is enabled."</span>
<a name="1118"></a>     Added=<span class="source_string">"added."</span>
<a name="1119"></a>     Removed=<span class="source_string">"removed."</span>
<a name="1120"></a>     BotStatus=<span class="source_string">"bots were %Action%"</span>
<a name="1121"></a>     SingleBotStatus=<span class="source_string">"bot was %Action%"</span>
<a name="1122"></a>     ConsoleUserlist=<span class="source_string">"Getting or setting admin accounts and groups is not allowed through the webadmin console.  This action has been logged."</span>
<a name="1123"></a>     NoteGamePage=<span class="source_string">"You can view and select maps from other gametypes by using the combo box.  Selecting maps from other gametypes will automatically switch the server to that gametype."</span>
<a name="1124"></a>     NotePlayersPage=<span class="source_string">"In order to see the global ID for connected players, change the value for bBanbyID in the [Engine.AccessControl] section of your ini to 'True'.  Bots cannot be banned."</span>
<a name="1125"></a>     NoteConsolePage=<span class="source_string">"You may communicate with the players in the game by entering text at the text box and clicking 'Send'.  You can also enter console commands to control the server.  Game messages are shown in the log window, with the exception of team messages."</span>
<a name="1126"></a>     NoteMutatorsPage=<span class="source_string">"Select which mutators you want to be used when you hit the Restart Server Link"</span>
<a name="1127"></a>     NoteBotsPage=<span class="source_string">"You may only add bots once the game has started.  Adding bots has an adverse effect on the MinPlayers setting, and may cause this value to change.  If stats are enabled, you may only add bots if bots are already in the game."</span>
<a name="1128"></a>     DefaultPage=<span class="source_string">"currentframe"</span>
<a name="1129"></a>     Title=<span class="source_string">"Current"</span>
<a name="1130"></a>     NeededPrivs=<span class="source_string">"X|K|M|Xs|Xc|Xp|Xi|Kp|Kb|Ko|Mb|Mt|Mm|Mu|Ma"</span>
<a name="1131"></a>}
<a name="1132"></a></pre></td></tr></table></div>
<hr />
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../xwebadmin/xwebadmin-overview.html">Package</a></td>
	<td class="header"><a href="../xwebadmin/xwebquerycurrent.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#xWebQueryCurrent">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_xwebadmin/xwebqueryadmins.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_xwebadmin/xwebquerydefaults.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>

<div class="stats">Class file time: Fri 13-10-2023 03:17:28.000 - Creation time: Fri 13-10-2023 03:19:11.049 - Created with <a href="http://wiki.beyondunreal.com/wiki/UnCodeX" target="_blank">UnCodeX</a></div>

</body>
</html>