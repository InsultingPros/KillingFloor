<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>UnCodeX - Source: KFMod.KFGameType</title>
	<meta name="Generator" content="UnCodeX 241" />
	<link rel="stylesheet" href="../DocStyle2.css" type="text/css" title="Original Purple" />
	<link rel="alternative stylesheet" href="../DocStyle2-blue.css" type="text/css" title="Blue" />
	<link rel="alternative stylesheet" href="../DocStyle2-red.css" type="text/css" title="Red" />
	<!--[if IE]>
	<link rel="stylesheet" href="../DocStyle2-msie.css" type="text/css" />
	<![endif]-->
	<script src="../styleswitcher.js" type="text/javascript"></script>
</head>
<body>

<div class="header">
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../kfmod/kfmod-overview.html">Package</a></td>
	<td class="header"><a href="../kfmod/kfgametype.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#KFGameType">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_kfmod/kfgamereplicationinfo.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_kfmod/kfgib.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html#Source_kfmod/kfgametype.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>
</div>
<div class="spacer"></div>

<h1><a href="../kfmod/kfmod-overview.html">KFMod</a>.<a href="../kfmod/kfgametype.html">KFGameType</a></h1>
<br />
<div class="source"><table class="source"><tr><td class="source_lineno"><span class="source_lineno">00001<br />00002<br />00003<br />00004<br />00005<br />00006<br />00007<br />00008<br />00009<br />00010<br />00011<br />00012<br />00013<br />00014<br />00015<br />00016<br />00017<br />00018<br />00019<br />00020<br />
00021<br />00022<br />00023<br />00024<br />00025<br />00026<br />00027<br />00028<br />00029<br />00030<br />00031<br />00032<br />00033<br />00034<br />00035<br />00036<br />00037<br />00038<br />00039<br />00040<br />
00041<br />00042<br />00043<br />00044<br />00045<br />00046<br />00047<br />00048<br />00049<br />00050<br />00051<br />00052<br />00053<br />00054<br />00055<br />00056<br />00057<br />00058<br />00059<br />00060<br />
00061<br />00062<br />00063<br />00064<br />00065<br />00066<br />00067<br />00068<br />00069<br />00070<br />00071<br />00072<br />00073<br />00074<br />00075<br />00076<br />00077<br />00078<br />00079<br />00080<br />
00081<br />00082<br />00083<br />00084<br />00085<br />00086<br />00087<br />00088<br />00089<br />00090<br />00091<br />00092<br />00093<br />00094<br />00095<br />00096<br />00097<br />00098<br />00099<br />00100<br />
00101<br />00102<br />00103<br />00104<br />00105<br />00106<br />00107<br />00108<br />00109<br />00110<br />00111<br />00112<br />00113<br />00114<br />00115<br />00116<br />00117<br />00118<br />00119<br />00120<br />
00121<br />00122<br />00123<br />00124<br />00125<br />00126<br />00127<br />00128<br />00129<br />00130<br />00131<br />00132<br />00133<br />00134<br />00135<br />00136<br />00137<br />00138<br />00139<br />00140<br />
00141<br />00142<br />00143<br />00144<br />00145<br />00146<br />00147<br />00148<br />00149<br />00150<br />00151<br />00152<br />00153<br />00154<br />00155<br />00156<br />00157<br />00158<br />00159<br />00160<br />
00161<br />00162<br />00163<br />00164<br />00165<br />00166<br />00167<br />00168<br />00169<br />00170<br />00171<br />00172<br />00173<br />00174<br />00175<br />00176<br />00177<br />00178<br />00179<br />00180<br />
00181<br />00182<br />00183<br />00184<br />00185<br />00186<br />00187<br />00188<br />00189<br />00190<br />00191<br />00192<br />00193<br />00194<br />00195<br />00196<br />00197<br />00198<br />00199<br />00200<br />
00201<br />00202<br />00203<br />00204<br />00205<br />00206<br />00207<br />00208<br />00209<br />00210<br />00211<br />00212<br />00213<br />00214<br />00215<br />00216<br />00217<br />00218<br />00219<br />00220<br />
00221<br />00222<br />00223<br />00224<br />00225<br />00226<br />00227<br />00228<br />00229<br />00230<br />00231<br />00232<br />00233<br />00234<br />00235<br />00236<br />00237<br />00238<br />00239<br />00240<br />
00241<br />00242<br />00243<br />00244<br />00245<br />00246<br />00247<br />00248<br />00249<br />00250<br />00251<br />00252<br />00253<br />00254<br />00255<br />00256<br />00257<br />00258<br />00259<br />00260<br />
00261<br />00262<br />00263<br />00264<br />00265<br />00266<br />00267<br />00268<br />00269<br />00270<br />00271<br />00272<br />00273<br />00274<br />00275<br />00276<br />00277<br />00278<br />00279<br />00280<br />
00281<br />00282<br />00283<br />00284<br />00285<br />00286<br />00287<br />00288<br />00289<br />00290<br />00291<br />00292<br />00293<br />00294<br />00295<br />00296<br />00297<br />00298<br />00299<br />00300<br />
00301<br />00302<br />00303<br />00304<br />00305<br />00306<br />00307<br />00308<br />00309<br />00310<br />00311<br />00312<br />00313<br />00314<br />00315<br />00316<br />00317<br />00318<br />00319<br />00320<br />
00321<br />00322<br />00323<br />00324<br />00325<br />00326<br />00327<br />00328<br />00329<br />00330<br />00331<br />00332<br />00333<br />00334<br />00335<br />00336<br />00337<br />00338<br />00339<br />00340<br />
00341<br />00342<br />00343<br />00344<br />00345<br />00346<br />00347<br />00348<br />00349<br />00350<br />00351<br />00352<br />00353<br />00354<br />00355<br />00356<br />00357<br />00358<br />00359<br />00360<br />
00361<br />00362<br />00363<br />00364<br />00365<br />00366<br />00367<br />00368<br />00369<br />00370<br />00371<br />00372<br />00373<br />00374<br />00375<br />00376<br />00377<br />00378<br />00379<br />00380<br />
00381<br />00382<br />00383<br />00384<br />00385<br />00386<br />00387<br />00388<br />00389<br />00390<br />00391<br />00392<br />00393<br />00394<br />00395<br />00396<br />00397<br />00398<br />00399<br />00400<br />
00401<br />00402<br />00403<br />00404<br />00405<br />00406<br />00407<br />00408<br />00409<br />00410<br />00411<br />00412<br />00413<br />00414<br />00415<br />00416<br />00417<br />00418<br />00419<br />00420<br />
00421<br />00422<br />00423<br />00424<br />00425<br />00426<br />00427<br />00428<br />00429<br />00430<br />00431<br />00432<br />00433<br />00434<br />00435<br />00436<br />00437<br />00438<br />00439<br />00440<br />
00441<br />00442<br />00443<br />00444<br />00445<br />00446<br />00447<br />00448<br />00449<br />00450<br />00451<br />00452<br />00453<br />00454<br />00455<br />00456<br />00457<br />00458<br />00459<br />00460<br />
00461<br />00462<br />00463<br />00464<br />00465<br />00466<br />00467<br />00468<br />00469<br />00470<br />00471<br />00472<br />00473<br />00474<br />00475<br />00476<br />00477<br />00478<br />00479<br />00480<br />
00481<br />00482<br />00483<br />00484<br />00485<br />00486<br />00487<br />00488<br />00489<br />00490<br />00491<br />00492<br />00493<br />00494<br />00495<br />00496<br />00497<br />00498<br />00499<br />00500<br />
00501<br />00502<br />00503<br />00504<br />00505<br />00506<br />00507<br />00508<br />00509<br />00510<br />00511<br />00512<br />00513<br />00514<br />00515<br />00516<br />00517<br />00518<br />00519<br />00520<br />
00521<br />00522<br />00523<br />00524<br />00525<br />00526<br />00527<br />00528<br />00529<br />00530<br />00531<br />00532<br />00533<br />00534<br />00535<br />00536<br />00537<br />00538<br />00539<br />00540<br />
00541<br />00542<br />00543<br />00544<br />00545<br />00546<br />00547<br />00548<br />00549<br />00550<br />00551<br />00552<br />00553<br />00554<br />00555<br />00556<br />00557<br />00558<br />00559<br />00560<br />
00561<br />00562<br />00563<br />00564<br />00565<br />00566<br />00567<br />00568<br />00569<br />00570<br />00571<br />00572<br />00573<br />00574<br />00575<br />00576<br />00577<br />00578<br />00579<br />00580<br />
00581<br />00582<br />00583<br />00584<br />00585<br />00586<br />00587<br />00588<br />00589<br />00590<br />00591<br />00592<br />00593<br />00594<br />00595<br />00596<br />00597<br />00598<br />00599<br />00600<br />
00601<br />00602<br />00603<br />00604<br />00605<br />00606<br />00607<br />00608<br />00609<br />00610<br />00611<br />00612<br />00613<br />00614<br />00615<br />00616<br />00617<br />00618<br />00619<br />00620<br />
00621<br />00622<br />00623<br />00624<br />00625<br />00626<br />00627<br />00628<br />00629<br />00630<br />00631<br />00632<br />00633<br />00634<br />00635<br />00636<br />00637<br />00638<br />00639<br />00640<br />
00641<br />00642<br />00643<br />00644<br />00645<br />00646<br />00647<br />00648<br />00649<br />00650<br />00651<br />00652<br />00653<br />00654<br />00655<br />00656<br />00657<br />00658<br />00659<br />00660<br />
00661<br />00662<br />00663<br />00664<br />00665<br />00666<br />00667<br />00668<br />00669<br />00670<br />00671<br />00672<br />00673<br />00674<br />00675<br />00676<br />00677<br />00678<br />00679<br />00680<br />
00681<br />00682<br />00683<br />00684<br />00685<br />00686<br />00687<br />00688<br />00689<br />00690<br />00691<br />00692<br />00693<br />00694<br />00695<br />00696<br />00697<br />00698<br />00699<br />00700<br />
00701<br />00702<br />00703<br />00704<br />00705<br />00706<br />00707<br />00708<br />00709<br />00710<br />00711<br />00712<br />00713<br />00714<br />00715<br />00716<br />00717<br />00718<br />00719<br />00720<br />
00721<br />00722<br />00723<br />00724<br />00725<br />00726<br />00727<br />00728<br />00729<br />00730<br />00731<br />00732<br />00733<br />00734<br />00735<br />00736<br />00737<br />00738<br />00739<br />00740<br />
00741<br />00742<br />00743<br />00744<br />00745<br />00746<br />00747<br />00748<br />00749<br />00750<br />00751<br />00752<br />00753<br />00754<br />00755<br />00756<br />00757<br />00758<br />00759<br />00760<br />
00761<br />00762<br />00763<br />00764<br />00765<br />00766<br />00767<br />00768<br />00769<br />00770<br />00771<br />00772<br />00773<br />00774<br />00775<br />00776<br />00777<br />00778<br />00779<br />00780<br />
00781<br />00782<br />00783<br />00784<br />00785<br />00786<br />00787<br />00788<br />00789<br />00790<br />00791<br />00792<br />00793<br />00794<br />00795<br />00796<br />00797<br />00798<br />00799<br />00800<br />
00801<br />00802<br />00803<br />00804<br />00805<br />00806<br />00807<br />00808<br />00809<br />00810<br />00811<br />00812<br />00813<br />00814<br />00815<br />00816<br />00817<br />00818<br />00819<br />00820<br />
00821<br />00822<br />00823<br />00824<br />00825<br />00826<br />00827<br />00828<br />00829<br />00830<br />00831<br />00832<br />00833<br />00834<br />00835<br />00836<br />00837<br />00838<br />00839<br />00840<br />
00841<br />00842<br />00843<br />00844<br />00845<br />00846<br />00847<br />00848<br />00849<br />00850<br />00851<br />00852<br />00853<br />00854<br />00855<br />00856<br />00857<br />00858<br />00859<br />00860<br />
00861<br />00862<br />00863<br />00864<br />00865<br />00866<br />00867<br />00868<br />00869<br />00870<br />00871<br />00872<br />00873<br />00874<br />00875<br />00876<br />00877<br />00878<br />00879<br />00880<br />
00881<br />00882<br />00883<br />00884<br />00885<br />00886<br />00887<br />00888<br />00889<br />00890<br />00891<br />00892<br />00893<br />00894<br />00895<br />00896<br />00897<br />00898<br />00899<br />00900<br />
00901<br />00902<br />00903<br />00904<br />00905<br />00906<br />00907<br />00908<br />00909<br />00910<br />00911<br />00912<br />00913<br />00914<br />00915<br />00916<br />00917<br />00918<br />00919<br />00920<br />
00921<br />00922<br />00923<br />00924<br />00925<br />00926<br />00927<br />00928<br />00929<br />00930<br />00931<br />00932<br />00933<br />00934<br />00935<br />00936<br />00937<br />00938<br />00939<br />00940<br />
00941<br />00942<br />00943<br />00944<br />00945<br />00946<br />00947<br />00948<br />00949<br />00950<br />00951<br />00952<br />00953<br />00954<br />00955<br />00956<br />00957<br />00958<br />00959<br />00960<br />
00961<br />00962<br />00963<br />00964<br />00965<br />00966<br />00967<br />00968<br />00969<br />00970<br />00971<br />00972<br />00973<br />00974<br />00975<br />00976<br />00977<br />00978<br />00979<br />00980<br />
00981<br />00982<br />00983<br />00984<br />00985<br />00986<br />00987<br />00988<br />00989<br />00990<br />00991<br />00992<br />00993<br />00994<br />00995<br />00996<br />00997<br />00998<br />00999<br />01000<br />
01001<br />01002<br />01003<br />01004<br />01005<br />01006<br />01007<br />01008<br />01009<br />01010<br />01011<br />01012<br />01013<br />01014<br />01015<br />01016<br />01017<br />01018<br />01019<br />01020<br />
01021<br />01022<br />01023<br />01024<br />01025<br />01026<br />01027<br />01028<br />01029<br />01030<br />01031<br />01032<br />01033<br />01034<br />01035<br />01036<br />01037<br />01038<br />01039<br />01040<br />
01041<br />01042<br />01043<br />01044<br />01045<br />01046<br />01047<br />01048<br />01049<br />01050<br />01051<br />01052<br />01053<br />01054<br />01055<br />01056<br />01057<br />01058<br />01059<br />01060<br />
01061<br />01062<br />01063<br />01064<br />01065<br />01066<br />01067<br />01068<br />01069<br />01070<br />01071<br />01072<br />01073<br />01074<br />01075<br />01076<br />01077<br />01078<br />01079<br />01080<br />
01081<br />01082<br />01083<br />01084<br />01085<br />01086<br />01087<br />01088<br />01089<br />01090<br />01091<br />01092<br />01093<br />01094<br />01095<br />01096<br />01097<br />01098<br />01099<br />01100<br />
01101<br />01102<br />01103<br />01104<br />01105<br />01106<br />01107<br />01108<br />01109<br />01110<br />01111<br />01112<br />01113<br />01114<br />01115<br />01116<br />01117<br />01118<br />01119<br />01120<br />
01121<br />01122<br />01123<br />01124<br />01125<br />01126<br />01127<br />01128<br />01129<br />01130<br />01131<br />01132<br />01133<br />01134<br />01135<br />01136<br />01137<br />01138<br />01139<br />01140<br />
01141<br />01142<br />01143<br />01144<br />01145<br />01146<br />01147<br />01148<br />01149<br />01150<br />01151<br />01152<br />01153<br />01154<br />01155<br />01156<br />01157<br />01158<br />01159<br />01160<br />
01161<br />01162<br />01163<br />01164<br />01165<br />01166<br />01167<br />01168<br />01169<br />01170<br />01171<br />01172<br />01173<br />01174<br />01175<br />01176<br />01177<br />01178<br />01179<br />01180<br />
01181<br />01182<br />01183<br />01184<br />01185<br />01186<br />01187<br />01188<br />01189<br />01190<br />01191<br />01192<br />01193<br />01194<br />01195<br />01196<br />01197<br />01198<br />01199<br />01200<br />
01201<br />01202<br />01203<br />01204<br />01205<br />01206<br />01207<br />01208<br />01209<br />01210<br />01211<br />01212<br />01213<br />01214<br />01215<br />01216<br />01217<br />01218<br />01219<br />01220<br />
01221<br />01222<br />01223<br />01224<br />01225<br />01226<br />01227<br />01228<br />01229<br />01230<br />01231<br />01232<br />01233<br />01234<br />01235<br />01236<br />01237<br />01238<br />01239<br />01240<br />
01241<br />01242<br />01243<br />01244<br />01245<br />01246<br />01247<br />01248<br />01249<br />01250<br />01251<br />01252<br />01253<br />01254<br />01255<br />01256<br />01257<br />01258<br />01259<br />01260<br />
01261<br />01262<br />01263<br />01264<br />01265<br />01266<br />01267<br />01268<br />01269<br />01270<br />01271<br />01272<br />01273<br />01274<br />01275<br />01276<br />01277<br />01278<br />01279<br />01280<br />
01281<br />01282<br />01283<br />01284<br />01285<br />01286<br />01287<br />01288<br />01289<br />01290<br />01291<br />01292<br />01293<br />01294<br />01295<br />01296<br />01297<br />01298<br />01299<br />01300<br />
01301<br />01302<br />01303<br />01304<br />01305<br />01306<br />01307<br />01308<br />01309<br />01310<br />01311<br />01312<br />01313<br />01314<br />01315<br />01316<br />01317<br />01318<br />01319<br />01320<br />
01321<br />01322<br />01323<br />01324<br />01325<br />01326<br />01327<br />01328<br />01329<br />01330<br />01331<br />01332<br />01333<br />01334<br />01335<br />01336<br />01337<br />01338<br />01339<br />01340<br />
01341<br />01342<br />01343<br />01344<br />01345<br />01346<br />01347<br />01348<br />01349<br />01350<br />01351<br />01352<br />01353<br />01354<br />01355<br />01356<br />01357<br />01358<br />01359<br />01360<br />
01361<br />01362<br />01363<br />01364<br />01365<br />01366<br />01367<br />01368<br />01369<br />01370<br />01371<br />01372<br />01373<br />01374<br />01375<br />01376<br />01377<br />01378<br />01379<br />01380<br />
01381<br />01382<br />01383<br />01384<br />01385<br />01386<br />01387<br />01388<br />01389<br />01390<br />01391<br />01392<br />01393<br />01394<br />01395<br />01396<br />01397<br />01398<br />01399<br />01400<br />
01401<br />01402<br />01403<br />01404<br />01405<br />01406<br />01407<br />01408<br />01409<br />01410<br />01411<br />01412<br />01413<br />01414<br />01415<br />01416<br />01417<br />01418<br />01419<br />01420<br />
01421<br />01422<br />01423<br />01424<br />01425<br />01426<br />01427<br />01428<br />01429<br />01430<br />01431<br />01432<br />01433<br />01434<br />01435<br />01436<br />01437<br />01438<br />01439<br />01440<br />
01441<br />01442<br />01443<br />01444<br />01445<br />01446<br />01447<br />01448<br />01449<br />01450<br />01451<br />01452<br />01453<br />01454<br />01455<br />01456<br />01457<br />01458<br />01459<br />01460<br />
01461<br />01462<br />01463<br />01464<br />01465<br />01466<br />01467<br />01468<br />01469<br />01470<br />01471<br />01472<br />01473<br />01474<br />01475<br />01476<br />01477<br />01478<br />01479<br />01480<br />
01481<br />01482<br />01483<br />01484<br />01485<br />01486<br />01487<br />01488<br />01489<br />01490<br />01491<br />01492<br />01493<br />01494<br />01495<br />01496<br />01497<br />01498<br />01499<br />01500<br />
01501<br />01502<br />01503<br />01504<br />01505<br />01506<br />01507<br />01508<br />01509<br />01510<br />01511<br />01512<br />01513<br />01514<br />01515<br />01516<br />01517<br />01518<br />01519<br />01520<br />
01521<br />01522<br />01523<br />01524<br />01525<br />01526<br />01527<br />01528<br />01529<br />01530<br />01531<br />01532<br />01533<br />01534<br />01535<br />01536<br />01537<br />01538<br />01539<br />01540<br />
01541<br />01542<br />01543<br />01544<br />01545<br />01546<br />01547<br />01548<br />01549<br />01550<br />01551<br />01552<br />01553<br />01554<br />01555<br />01556<br />01557<br />01558<br />01559<br />01560<br />
01561<br />01562<br />01563<br />01564<br />01565<br />01566<br />01567<br />01568<br />01569<br />01570<br />01571<br />01572<br />01573<br />01574<br />01575<br />01576<br />01577<br />01578<br />01579<br />01580<br />
01581<br />01582<br />01583<br />01584<br />01585<br />01586<br />01587<br />01588<br />01589<br />01590<br />01591<br />01592<br />01593<br />01594<br />01595<br />01596<br />01597<br />01598<br />01599<br />01600<br />
01601<br />01602<br />01603<br />01604<br />01605<br />01606<br />01607<br />01608<br />01609<br />01610<br />01611<br />01612<br />01613<br />01614<br />01615<br />01616<br />01617<br />01618<br />01619<br />01620<br />
01621<br />01622<br />01623<br />01624<br />01625<br />01626<br />01627<br />01628<br />01629<br />01630<br />01631<br />01632<br />01633<br />01634<br />01635<br />01636<br />01637<br />01638<br />01639<br />01640<br />
01641<br />01642<br />01643<br />01644<br />01645<br />01646<br />01647<br />01648<br />01649<br />01650<br />01651<br />01652<br />01653<br />01654<br />01655<br />01656<br />01657<br />01658<br />01659<br />01660<br />
01661<br />01662<br />01663<br />01664<br />01665<br />01666<br />01667<br />01668<br />01669<br />01670<br />01671<br />01672<br />01673<br />01674<br />01675<br />01676<br />01677<br />01678<br />01679<br />01680<br />
01681<br />01682<br />01683<br />01684<br />01685<br />01686<br />01687<br />01688<br />01689<br />01690<br />01691<br />01692<br />01693<br />01694<br />01695<br />01696<br />01697<br />01698<br />01699<br />01700<br />
01701<br />01702<br />01703<br />01704<br />01705<br />01706<br />01707<br />01708<br />01709<br />01710<br />01711<br />01712<br />01713<br />01714<br />01715<br />01716<br />01717<br />01718<br />01719<br />01720<br />
01721<br />01722<br />01723<br />01724<br />01725<br />01726<br />01727<br />01728<br />01729<br />01730<br />01731<br />01732<br />01733<br />01734<br />01735<br />01736<br />01737<br />01738<br />01739<br />01740<br />
01741<br />01742<br />01743<br />01744<br />01745<br />01746<br />01747<br />01748<br />01749<br />01750<br />01751<br />01752<br />01753<br />01754<br />01755<br />01756<br />01757<br />01758<br />01759<br />01760<br />
01761<br />01762<br />01763<br />01764<br />01765<br />01766<br />01767<br />01768<br />01769<br />01770<br />01771<br />01772<br />01773<br />01774<br />01775<br />01776<br />01777<br />01778<br />01779<br />01780<br />
01781<br />01782<br />01783<br />01784<br />01785<br />01786<br />01787<br />01788<br />01789<br />01790<br />01791<br />01792<br />01793<br />01794<br />01795<br />01796<br />01797<br />01798<br />01799<br />01800<br />
01801<br />01802<br />01803<br />01804<br />01805<br />01806<br />01807<br />01808<br />01809<br />01810<br />01811<br />01812<br />01813<br />01814<br />01815<br />01816<br />01817<br />01818<br />01819<br />01820<br />
01821<br />01822<br />01823<br />01824<br />01825<br />01826<br />01827<br />01828<br />01829<br />01830<br />01831<br />01832<br />01833<br />01834<br />01835<br />01836<br />01837<br />01838<br />01839<br />01840<br />
01841<br />01842<br />01843<br />01844<br />01845<br />01846<br />01847<br />01848<br />01849<br />01850<br />01851<br />01852<br />01853<br />01854<br />01855<br />01856<br />01857<br />01858<br />01859<br />01860<br />
01861<br />01862<br />01863<br />01864<br />01865<br />01866<br />01867<br />01868<br />01869<br />01870<br />01871<br />01872<br />01873<br />01874<br />01875<br />01876<br />01877<br />01878<br />01879<br />01880<br />
01881<br />01882<br />01883<br />01884<br />01885<br />01886<br />01887<br />01888<br />01889<br />01890<br />01891<br />01892<br />01893<br />01894<br />01895<br />01896<br />01897<br />01898<br />01899<br />01900<br />
01901<br />01902<br />01903<br />01904<br />01905<br />01906<br />01907<br />01908<br />01909<br />01910<br />01911<br />01912<br />01913<br />01914<br />01915<br />01916<br />01917<br />01918<br />01919<br />01920<br />
01921<br />01922<br />01923<br />01924<br />01925<br />01926<br />01927<br />01928<br />01929<br />01930<br />01931<br />01932<br />01933<br />01934<br />01935<br />01936<br />01937<br />01938<br />01939<br />01940<br />
01941<br />01942<br />01943<br />01944<br />01945<br />01946<br />01947<br />01948<br />01949<br />01950<br />01951<br />01952<br />01953<br />01954<br />01955<br />01956<br />01957<br />01958<br />01959<br />01960<br />
01961<br />01962<br />01963<br />01964<br />01965<br />01966<br />01967<br />01968<br />01969<br />01970<br />01971<br />01972<br />01973<br />01974<br />01975<br />01976<br />01977<br />01978<br />01979<br />01980<br />
01981<br />01982<br />01983<br />01984<br />01985<br />01986<br />01987<br />01988<br />01989<br />01990<br />01991<br />01992<br />01993<br />01994<br />01995<br />01996<br />01997<br />01998<br />01999<br />02000<br />
02001<br />02002<br />02003<br />02004<br />02005<br />02006<br />02007<br />02008<br />02009<br />02010<br />02011<br />02012<br />02013<br />02014<br />02015<br />02016<br />02017<br />02018<br />02019<br />02020<br />
02021<br />02022<br />02023<br />02024<br />02025<br />02026<br />02027<br />02028<br />02029<br />02030<br />02031<br />02032<br />02033<br />02034<br />02035<br />02036<br />02037<br />02038<br />02039<br />02040<br />
02041<br />02042<br />02043<br />02044<br />02045<br />02046<br />02047<br />02048<br />02049<br />02050<br />02051<br />02052<br />02053<br />02054<br />02055<br />02056<br />02057<br />02058<br />02059<br />02060<br />
02061<br />02062<br />02063<br />02064<br />02065<br />02066<br />02067<br />02068<br />02069<br />02070<br />02071<br />02072<br />02073<br />02074<br />02075<br />02076<br />02077<br />02078<br />02079<br />02080<br />
02081<br />02082<br />02083<br />02084<br />02085<br />02086<br />02087<br />02088<br />02089<br />02090<br />02091<br />02092<br />02093<br />02094<br />02095<br />02096<br />02097<br />02098<br />02099<br />02100<br />
02101<br />02102<br />02103<br />02104<br />02105<br />02106<br />02107<br />02108<br />02109<br />02110<br />02111<br />02112<br />02113<br />02114<br />02115<br />02116<br />02117<br />02118<br />02119<br />02120<br />
02121<br />02122<br />02123<br />02124<br />02125<br />02126<br />02127<br />02128<br />02129<br />02130<br />02131<br />02132<br />02133<br />02134<br />02135<br />02136<br />02137<br />02138<br />02139<br />02140<br />
02141<br />02142<br />02143<br />02144<br />02145<br />02146<br />02147<br />02148<br />02149<br />02150<br />02151<br />02152<br />02153<br />02154<br />02155<br />02156<br />02157<br />02158<br />02159<br />02160<br />
02161<br />02162<br />02163<br />02164<br />02165<br />02166<br />02167<br />02168<br />02169<br />02170<br />02171<br />02172<br />02173<br />02174<br />02175<br />02176<br />02177<br />02178<br />02179<br />02180<br />
02181<br />02182<br />02183<br />02184<br />02185<br />02186<br />02187<br />02188<br />02189<br />02190<br />02191<br />02192<br />02193<br />02194<br />02195<br />02196<br />02197<br />02198<br />02199<br />02200<br />
02201<br />02202<br />02203<br />02204<br />02205<br />02206<br />02207<br />02208<br />02209<br />02210<br />02211<br />02212<br />02213<br />02214<br />02215<br />02216<br />02217<br />02218<br />02219<br />02220<br />
02221<br />02222<br />02223<br />02224<br />02225<br />02226<br />02227<br />02228<br />02229<br />02230<br />02231<br />02232<br />02233<br />02234<br />02235<br />02236<br />02237<br />02238<br />02239<br />02240<br />
02241<br />02242<br />02243<br />02244<br />02245<br />02246<br />02247<br />02248<br />02249<br />02250<br />02251<br />02252<br />02253<br />02254<br />02255<br />02256<br />02257<br />02258<br />02259<br />02260<br />
02261<br />02262<br />02263<br />02264<br />02265<br />02266<br />02267<br />02268<br />02269<br />02270<br />02271<br />02272<br />02273<br />02274<br />02275<br />02276<br />02277<br />02278<br />02279<br />02280<br />
02281<br />02282<br />02283<br />02284<br />02285<br />02286<br />02287<br />02288<br />02289<br />02290<br />02291<br />02292<br />02293<br />02294<br />02295<br />02296<br />02297<br />02298<br />02299<br />02300<br />
02301<br />02302<br />02303<br />02304<br />02305<br />02306<br />02307<br />02308<br />02309<br />02310<br />02311<br />02312<br />02313<br />02314<br />02315<br />02316<br />02317<br />02318<br />02319<br />02320<br />
02321<br />02322<br />02323<br />02324<br />02325<br />02326<br />02327<br />02328<br />02329<br />02330<br />02331<br />02332<br />02333<br />02334<br />02335<br />02336<br />02337<br />02338<br />02339<br />02340<br />
02341<br />02342<br />02343<br />02344<br />02345<br />02346<br />02347<br />02348<br />02349<br />02350<br />02351<br />02352<br />02353<br />02354<br />02355<br />02356<br />02357<br />02358<br />02359<br />02360<br />
02361<br />02362<br />02363<br />02364<br />02365<br />02366<br />02367<br />02368<br />02369<br />02370<br />02371<br />02372<br />02373<br />02374<br />02375<br />02376<br />02377<br />02378<br />02379<br />02380<br />
02381<br />02382<br />02383<br />02384<br />02385<br />02386<br />02387<br />02388<br />02389<br />02390<br />02391<br />02392<br />02393<br />02394<br />02395<br />02396<br />02397<br />02398<br />02399<br />02400<br />
02401<br />02402<br />02403<br />02404<br />02405<br />02406<br />02407<br />02408<br />02409<br />02410<br />02411<br />02412<br />02413<br />02414<br />02415<br />02416<br />02417<br />02418<br />02419<br />02420<br />
02421<br />02422<br />02423<br />02424<br />02425<br />02426<br />02427<br />02428<br />02429<br />02430<br />02431<br />02432<br />02433<br />02434<br />02435<br />02436<br />02437<br />02438<br />02439<br />02440<br />
02441<br />02442<br />02443<br />02444<br />02445<br />02446<br />02447<br />02448<br />02449<br />02450<br />02451<br />02452<br />02453<br />02454<br />02455<br />02456<br />02457<br />02458<br />02459<br />02460<br />
02461<br />02462<br />02463<br />02464<br />02465<br />02466<br />02467<br />02468<br />02469<br />02470<br />02471<br />02472<br />02473<br />02474<br />02475<br />02476<br />02477<br />02478<br />02479<br />02480<br />
02481<br />02482<br />02483<br />02484<br />02485<br />02486<br />02487<br />02488<br />02489<br />02490<br />02491<br />02492<br />02493<br />02494<br />02495<br />02496<br />02497<br />02498<br />02499<br />02500<br />
02501<br />02502<br />02503<br />02504<br />02505<br />02506<br />02507<br />02508<br />02509<br />02510<br />02511<br />02512<br />02513<br />02514<br />02515<br />02516<br />02517<br />02518<br />02519<br />02520<br />
02521<br />02522<br />02523<br />02524<br />02525<br />02526<br />02527<br />02528<br />02529<br />02530<br />02531<br />02532<br />02533<br />02534<br />02535<br />02536<br />02537<br />02538<br />02539<br />02540<br />
02541<br />02542<br />02543<br />02544<br />02545<br />02546<br />02547<br />02548<br />02549<br />02550<br />02551<br />02552<br />02553<br />02554<br />02555<br />02556<br />02557<br />02558<br />02559<br />02560<br />
02561<br />02562<br />02563<br />02564<br />02565<br />02566<br />02567<br />02568<br />02569<br />02570<br />02571<br />02572<br />02573<br />02574<br />02575<br />02576<br />02577<br />02578<br />02579<br />02580<br />
02581<br />02582<br />02583<br />02584<br />02585<br />02586<br />02587<br />02588<br />02589<br />02590<br />02591<br />02592<br />02593<br />02594<br />02595<br />02596<br />02597<br />02598<br />02599<br />02600<br />
02601<br />02602<br />02603<br />02604<br />02605<br />02606<br />02607<br />02608<br />02609<br />02610<br />02611<br />02612<br />02613<br />02614<br />02615<br />02616<br />02617<br />02618<br />02619<br />02620<br />
02621<br />02622<br />02623<br />02624<br />02625<br />02626<br />02627<br />02628<br />02629<br />02630<br />02631<br />02632<br />02633<br />02634<br />02635<br />02636<br />02637<br />02638<br />02639<br />02640<br />
02641<br />02642<br />02643<br />02644<br />02645<br />02646<br />02647<br />02648<br />02649<br />02650<br />02651<br />02652<br />02653<br />02654<br />02655<br />02656<br />02657<br />02658<br />02659<br />02660<br />
02661<br />02662<br />02663<br />02664<br />02665<br />02666<br />02667<br />02668<br />02669<br />02670<br />02671<br />02672<br />02673<br />02674<br />02675<br />02676<br />02677<br />02678<br />02679<br />02680<br />
02681<br />02682<br />02683<br />02684<br />02685<br />02686<br />02687<br />02688<br />02689<br />02690<br />02691<br />02692<br />02693<br />02694<br />02695<br />02696<br />02697<br />02698<br />02699<br />02700<br />
02701<br />02702<br />02703<br />02704<br />02705<br />02706<br />02707<br />02708<br />02709<br />02710<br />02711<br />02712<br />02713<br />02714<br />02715<br />02716<br />02717<br />02718<br />02719<br />02720<br />
02721<br />02722<br />02723<br />02724<br />02725<br />02726<br />02727<br />02728<br />02729<br />02730<br />02731<br />02732<br />02733<br />02734<br />02735<br />02736<br />02737<br />02738<br />02739<br />02740<br />
02741<br />02742<br />02743<br />02744<br />02745<br />02746<br />02747<br />02748<br />02749<br />02750<br />02751<br />02752<br />02753<br />02754<br />02755<br />02756<br />02757<br />02758<br />02759<br />02760<br />
02761<br />02762<br />02763<br />02764<br />02765<br />02766<br />02767<br />02768<br />02769<br />02770<br />02771<br />02772<br />02773<br />02774<br />02775<br />02776<br />02777<br />02778<br />02779<br />02780<br />
02781<br />02782<br />02783<br />02784<br />02785<br />02786<br />02787<br />02788<br />02789<br />02790<br />02791<br />02792<br />02793<br />02794<br />02795<br />02796<br />02797<br />02798<br />02799<br />02800<br />
02801<br />02802<br />02803<br />02804<br />02805<br />02806<br />02807<br />02808<br />02809<br />02810<br />02811<br />02812<br />02813<br />02814<br />02815<br />02816<br />02817<br />02818<br />02819<br />02820<br />
02821<br />02822<br />02823<br />02824<br />02825<br />02826<br />02827<br />02828<br />02829<br />02830<br />02831<br />02832<br />02833<br />02834<br />02835<br />02836<br />02837<br />02838<br />02839<br />02840<br />
02841<br />02842<br />02843<br />02844<br />02845<br />02846<br />02847<br />02848<br />02849<br />02850<br />02851<br />02852<br />02853<br />02854<br />02855<br />02856<br />02857<br />02858<br />02859<br />02860<br />
02861<br />02862<br />02863<br />02864<br />02865<br />02866<br />02867<br />02868<br />02869<br />02870<br />02871<br />02872<br />02873<br />02874<br />02875<br />02876<br />02877<br />02878<br />02879<br />02880<br />
02881<br />02882<br />02883<br />02884<br />02885<br />02886<br />02887<br />02888<br />02889<br />02890<br />02891<br />02892<br />02893<br />02894<br />02895<br />02896<br />02897<br />02898<br />02899<br />02900<br />
02901<br />02902<br />02903<br />02904<br />02905<br />02906<br />02907<br />02908<br />02909<br />02910<br />02911<br />02912<br />02913<br />02914<br />02915<br />02916<br />02917<br />02918<br />02919<br />02920<br />
02921<br />02922<br />02923<br />02924<br />02925<br />02926<br />02927<br />02928<br />02929<br />02930<br />02931<br />02932<br />02933<br />02934<br />02935<br />02936<br />02937<br />02938<br />02939<br />02940<br />
02941<br />02942<br />02943<br />02944<br />02945<br />02946<br />02947<br />02948<br />02949<br />02950<br />02951<br />02952<br />02953<br />02954<br />02955<br />02956<br />02957<br />02958<br />02959<br />02960<br />
02961<br />02962<br />02963<br />02964<br />02965<br />02966<br />02967<br />02968<br />02969<br />02970<br />02971<br />02972<br />02973<br />02974<br />02975<br />02976<br />02977<br />02978<br />02979<br />02980<br />
02981<br />02982<br />02983<br />02984<br />02985<br />02986<br />02987<br />02988<br />02989<br />02990<br />02991<br />02992<br />02993<br />02994<br />02995<br />02996<br />02997<br />02998<br />02999<br />03000<br />
03001<br />03002<br />03003<br />03004<br />03005<br />03006<br />03007<br />03008<br />03009<br />03010<br />03011<br />03012<br />03013<br />03014<br />03015<br />03016<br />03017<br />03018<br />03019<br />03020<br />
03021<br />03022<br />03023<br />03024<br />03025<br />03026<br />03027<br />03028<br />03029<br />03030<br />03031<br />03032<br />03033<br />03034<br />03035<br />03036<br />03037<br />03038<br />03039<br />03040<br />
03041<br />03042<br />03043<br />03044<br />03045<br />03046<br />03047<br />03048<br />03049<br />03050<br />03051<br />03052<br />03053<br />03054<br />03055<br />03056<br />03057<br />03058<br />03059<br />03060<br />
03061<br />03062<br />03063<br />03064<br />03065<br />03066<br />03067<br />03068<br />03069<br />03070<br />03071<br />03072<br />03073<br />03074<br />03075<br />03076<br />03077<br />03078<br />03079<br />03080<br />
03081<br />03082<br />03083<br />03084<br />03085<br />03086<br />03087<br />03088<br />03089<br />03090<br />03091<br />03092<br />03093<br />03094<br />03095<br />03096<br />03097<br />03098<br />03099<br />03100<br />
03101<br />03102<br />03103<br />03104<br />03105<br />03106<br />03107<br />03108<br />03109<br />03110<br />03111<br />03112<br />03113<br />03114<br />03115<br />03116<br />03117<br />03118<br />03119<br />03120<br />
03121<br />03122<br />03123<br />03124<br />03125<br />03126<br />03127<br />03128<br />03129<br />03130<br />03131<br />03132<br />03133<br />03134<br />03135<br />03136<br />03137<br />03138<br />03139<br />03140<br />
03141<br />03142<br />03143<br />03144<br />03145<br />03146<br />03147<br />03148<br />03149<br />03150<br />03151<br />03152<br />03153<br />03154<br />03155<br />03156<br />03157<br />03158<br />03159<br />03160<br />
03161<br />03162<br />03163<br />03164<br />03165<br />03166<br />03167<br />03168<br />03169<br />03170<br />03171<br />03172<br />03173<br />03174<br />03175<br />03176<br />03177<br />03178<br />03179<br />03180<br />
03181<br />03182<br />03183<br />03184<br />03185<br />03186<br />03187<br />03188<br />03189<br />03190<br />03191<br />03192<br />03193<br />03194<br />03195<br />03196<br />03197<br />03198<br />03199<br />03200<br />
03201<br />03202<br />03203<br />03204<br />03205<br />03206<br />03207<br />03208<br />03209<br />03210<br />03211<br />03212<br />03213<br />03214<br />03215<br />03216<br />03217<br />03218<br />03219<br />03220<br />
03221<br />03222<br />03223<br />03224<br />03225<br />03226<br />03227<br />03228<br />03229<br />03230<br />03231<br />03232<br />03233<br />03234<br />03235<br />03236<br />03237<br />03238<br />03239<br />03240<br />
03241<br />03242<br />03243<br />03244<br />03245<br />03246<br />03247<br />03248<br />03249<br />03250<br />03251<br />03252<br />03253<br />03254<br />03255<br />03256<br />03257<br />03258<br />03259<br />03260<br />
03261<br />03262<br />03263<br />03264<br />03265<br />03266<br />03267<br />03268<br />03269<br />03270<br />03271<br />03272<br />03273<br />03274<br />03275<br />03276<br />03277<br />03278<br />03279<br />03280<br />
03281<br />03282<br />03283<br />03284<br />03285<br />03286<br />03287<br />03288<br />03289<br />03290<br />03291<br />03292<br />03293<br />03294<br />03295<br />03296<br />03297<br />03298<br />03299<br />03300<br />
03301<br />03302<br />03303<br />03304<br />03305<br />03306<br />03307<br />03308<br />03309<br />03310<br />03311<br />03312<br />03313<br />03314<br />03315<br />03316<br />03317<br />03318<br />03319<br />03320<br />
03321<br />03322<br />03323<br />03324<br />03325<br />03326<br />03327<br />03328<br />03329<br />03330<br />03331<br />03332<br />03333<br />03334<br />03335<br />03336<br />03337<br />03338<br />03339<br />03340<br />
03341<br />03342<br />03343<br />03344<br />03345<br />03346<br />03347<br />03348<br />03349<br />03350<br />03351<br />03352<br />03353<br />03354<br />03355<br />03356<br />03357<br />03358<br />03359<br />03360<br />
03361<br />03362<br />03363<br />03364<br />03365<br />03366<br />03367<br />03368<br />03369<br />03370<br />03371<br />03372<br />03373<br />03374<br />03375<br />03376<br />03377<br />03378<br />03379<br />03380<br />
03381<br />03382<br />03383<br />03384<br />03385<br />03386<br />03387<br />03388<br />03389<br />03390<br />03391<br />03392<br />03393<br />03394<br />03395<br />03396<br />03397<br />03398<br />03399<br />03400<br />
03401<br />03402<br />03403<br />03404<br />03405<br />03406<br />03407<br />03408<br />03409<br />03410<br />03411<br />03412<br />03413<br />03414<br />03415<br />03416<br />03417<br />03418<br />03419<br />03420<br />
03421<br />03422<br />03423<br />03424<br />03425<br />03426<br />03427<br />03428<br />03429<br />03430<br />03431<br />03432<br />03433<br />03434<br />03435<br />03436<br />03437<br />03438<br />03439<br />03440<br />
03441<br />03442<br />03443<br />03444<br />03445<br />03446<br />03447<br />03448<br />03449<br />03450<br />03451<br />03452<br />03453<br />03454<br />03455<br />03456<br />03457<br />03458<br />03459<br />03460<br />
03461<br />03462<br />03463<br />03464<br />03465<br />03466<br />03467<br />03468<br />03469<br />03470<br />03471<br />03472<br />03473<br />03474<br />03475<br />03476<br />03477<br />03478<br />03479<br />03480<br />
03481<br />03482<br />03483<br />03484<br />03485<br />03486<br />03487<br />03488<br />03489<br />03490<br />03491<br />03492<br />03493<br />03494<br />03495<br />03496<br />03497<br />03498<br />03499<br />03500<br />
03501<br />03502<br />03503<br />03504<br />03505<br />03506<br />03507<br />03508<br />03509<br />03510<br />03511<br />03512<br />03513<br />03514<br />03515<br />03516<br />03517<br />03518<br />03519<br />03520<br />
03521<br />03522<br />03523<br />03524<br />03525<br />03526<br />03527<br />03528<br />03529<br />03530<br />03531<br />03532<br />03533<br />03534<br />03535<br />03536<br />03537<br />03538<br />03539<br />03540<br />
03541<br />03542<br />03543<br />03544<br />03545<br />03546<br />03547<br />03548<br />03549<br />03550<br />03551<br />03552<br />03553<br />03554<br />03555<br />03556<br />03557<br />03558<br />03559<br />03560<br />
03561<br />03562<br />03563<br />03564<br />03565<br />03566<br />03567<br />03568<br />03569<br />03570<br />03571<br />03572<br />03573<br />03574<br />03575<br />03576<br />03577<br />03578<br />03579<br />03580<br />
03581<br />03582<br />03583<br />03584<br />03585<br />03586<br />03587<br />03588<br />03589<br />03590<br />03591<br />03592<br />03593<br />03594<br />03595<br />03596<br />03597<br />03598<br />03599<br />03600<br />
03601<br />03602<br />03603<br />03604<br />03605<br />03606<br />03607<br />03608<br />03609<br />03610<br />03611<br />03612<br />03613<br />03614<br />03615<br />03616<br />03617<br />03618<br />03619<br />03620<br />
03621<br />03622<br />03623<br />03624<br />03625<br />03626<br />03627<br />03628<br />03629<br />03630<br />03631<br />03632<br />03633<br />03634<br />03635<br />03636<br />03637<br />03638<br />03639<br />03640<br />
03641<br />03642<br />03643<br />03644<br />03645<br />03646<br />03647<br />03648<br />03649<br />03650<br />03651<br />03652<br />03653<br />03654<br />03655<br />03656<br />03657<br />03658<br />03659<br />03660<br />
03661<br />03662<br />03663<br />03664<br />03665<br />03666<br />03667<br />03668<br />03669<br />03670<br />03671<br />03672<br />03673<br />03674<br />03675<br />03676<br />03677<br />03678<br />03679<br />03680<br />
03681<br />03682<br />03683<br />03684<br />03685<br />03686<br />03687<br />03688<br />03689<br />03690<br />03691<br />03692<br />03693<br />03694<br />03695<br />03696<br />03697<br />03698<br />03699<br />03700<br />
03701<br />03702<br />03703<br />03704<br />03705<br />03706<br />03707<br />03708<br />03709<br />03710<br />03711<br />03712<br />03713<br />03714<br />03715<br />03716<br />03717<br />03718<br />03719<br />03720<br />
03721<br />03722<br />03723<br />03724<br />03725<br />03726<br />03727<br />03728<br />03729<br />03730<br />03731<br />03732<br />03733<br />03734<br />03735<br />03736<br />03737<br />03738<br />03739<br />03740<br />
03741<br />03742<br />03743<br />03744<br />03745<br />03746<br />03747<br />03748<br />03749<br />03750<br />03751<br />03752<br />03753<br />03754<br />03755<br />03756<br />03757<br />03758<br />03759<br />03760<br />
03761<br />03762<br />03763<br />03764<br />03765<br />03766<br />03767<br />03768<br />03769<br />03770<br />03771<br />03772<br />03773<br />03774<br />03775<br />03776<br />03777<br />03778<br />03779<br />03780<br />
03781<br />03782<br />03783<br />03784<br />03785<br />03786<br />03787<br />03788<br />03789<br />03790<br />03791<br />03792<br />03793<br />03794<br />03795<br />03796<br />03797<br />03798<br />03799<br />03800<br />
03801<br />03802<br />03803<br />03804<br />03805<br />03806<br />03807<br />03808<br />03809<br />03810<br />03811<br />03812<br />03813<br />03814<br />03815<br />03816<br />03817<br />03818<br />03819<br />03820<br />
03821<br />03822<br />03823<br />03824<br />03825<br />03826<br />03827<br />03828<br />03829<br />03830<br />03831<br />03832<br />03833<br />03834<br />03835<br />03836<br />03837<br />03838<br />03839<br />03840<br />
03841<br />03842<br />03843<br />03844<br />03845<br />03846<br />03847<br />03848<br />03849<br />03850<br />03851<br />03852<br />03853<br />03854<br />03855<br />03856<br />03857<br />03858<br />03859<br />03860<br />
03861<br />03862<br />03863<br />03864<br />03865<br />03866<br />03867<br />03868<br />03869<br />03870<br />03871<br />03872<br />03873<br />03874<br />03875<br />03876<br />03877<br />03878<br />03879<br />03880<br />
03881<br />03882<br />03883<br />03884<br />03885<br />03886<br />03887<br />03888<br />03889<br />03890<br />03891<br />03892<br />03893<br />03894<br />03895<br />03896<br />03897<br />03898<br />03899<br />03900<br />
03901<br />03902<br />03903<br />03904<br />03905<br />03906<br />03907<br />03908<br />03909<br />03910<br />03911<br />03912<br />03913<br />03914<br />03915<br />03916<br />03917<br />03918<br />03919<br />03920<br />
03921<br />03922<br />03923<br />03924<br />03925<br />03926<br />03927<br />03928<br />03929<br />03930<br />03931<br />03932<br />03933<br />03934<br />03935<br />03936<br />03937<br />03938<br />03939<br />03940<br />
03941<br />03942<br />03943<br />03944<br />03945<br />03946<br />03947<br />03948<br />03949<br />03950<br />03951<br />03952<br />03953<br />03954<br />03955<br />03956<br />03957<br />03958<br />03959<br />03960<br />
03961<br />03962<br />03963<br />03964<br />03965<br />03966<br />03967<br />03968<br />03969<br />03970<br />03971<br />03972<br />03973<br />03974<br />03975<br />03976<br />03977<br />03978<br />03979<br />03980<br />
03981<br />03982<br />03983<br />03984<br />03985<br />03986<br />03987<br />03988<br />03989<br />03990<br />03991<br />03992<br />03993<br />03994<br />03995<br />03996<br />03997<br />03998<br />03999<br />04000<br />
04001<br />04002<br />04003<br />04004<br />04005<br />04006<br />04007<br />04008<br />04009<br />04010<br />04011<br />04012<br />04013<br />04014<br />04015<br />04016<br />04017<br />04018<br />04019<br />04020<br />
04021<br />04022<br />04023<br />04024<br />04025<br />04026<br />04027<br />04028<br />04029<br />04030<br />04031<br />04032<br />04033<br />04034<br />04035<br />04036<br />04037<br />04038<br />04039<br />04040<br />
04041<br />04042<br />04043<br />04044<br />04045<br />04046<br />04047<br />04048<br />04049<br />04050<br />04051<br />04052<br />04053<br />04054<br />04055<br />04056<br />04057<br />04058<br />04059<br />04060<br />
04061<br />04062<br />04063<br />04064<br />04065<br />04066<br />04067<br />04068<br />04069<br />04070<br />04071<br />04072<br />04073<br />04074<br />04075<br />04076<br />04077<br />04078<br />04079<br />04080<br />
04081<br />04082<br />04083<br />04084<br />04085<br />04086<br />04087<br />04088<br />04089<br />04090<br />04091<br />04092<br />04093<br />04094<br />04095<br />04096<br />04097<br />04098<br />04099<br />04100<br />
04101<br />04102<br />04103<br />04104<br />04105<br />04106<br />04107<br />04108<br />04109<br />04110<br />04111<br />04112<br />04113<br />04114<br />04115<br />04116<br />04117<br />04118<br />04119<br />04120<br />
04121<br />04122<br />04123<br />04124<br />04125<br />04126<br />04127<br />04128<br />04129<br />04130<br />04131<br />04132<br />04133<br />04134<br />04135<br />04136<br />04137<br />04138<br />04139<br />04140<br />
04141<br />04142<br />04143<br />04144<br />04145<br />04146<br />04147<br />04148<br />04149<br />04150<br />04151<br />04152<br />04153<br />04154<br />04155<br />04156<br />04157<br />04158<br />04159<br />04160<br />
04161<br />04162<br />04163<br />04164<br />04165<br />04166<br />04167<br />04168<br />04169<br />04170<br />04171<br />04172<br />04173<br />04174<br />04175<br />04176<br />04177<br />04178<br />04179<br />04180<br />
04181<br />04182<br />04183<br />04184<br />04185<br />04186<br />04187<br />04188<br />04189<br />04190<br />04191<br />04192<br />04193<br />04194<br />04195<br />04196<br />04197<br />04198<br />04199<br />04200<br />
04201<br />04202<br />04203<br />04204<br />04205<br />04206<br />04207<br />04208<br />04209<br />04210<br />04211<br />04212<br />04213<br />04214<br />04215<br />04216<br />04217<br />04218<br />04219<br />04220<br />
04221<br />04222<br />04223<br />04224<br />04225<br />04226<br />04227<br />04228<br />04229<br />04230<br />04231<br />04232<br />04233<br />04234<br />04235<br />04236<br />04237<br />04238<br />04239<br />04240<br />
04241<br />04242<br />04243<br />04244<br />04245<br />04246<br />04247<br />04248<br />04249<br />04250<br />04251<br />04252<br />04253<br />04254<br />04255<br />04256<br />04257<br />04258<br />04259<br />04260<br />
04261<br />04262<br />04263<br />04264<br />04265<br />04266<br />04267<br />04268<br />04269<br />04270<br />04271<br />04272<br />04273<br />04274<br />04275<br />04276<br />04277<br />04278<br />04279<br />04280<br />
04281<br />04282<br />04283<br />04284<br />04285<br />04286<br />04287<br />04288<br />04289<br />04290<br />04291<br />04292<br />04293<br />04294<br />04295<br />04296<br />04297<br />04298<br />04299<br />04300<br />
04301<br />04302<br />04303<br />04304<br />04305<br />04306<br />04307<br />04308<br />04309<br />04310<br />04311<br />04312<br />04313<br />04314<br />04315<br />04316<br />04317<br />04318<br />04319<br />04320<br />
04321<br />04322<br />04323<br />04324<br />04325<br />04326<br />04327<br />04328<br />04329<br />04330<br />04331<br />04332<br />04333<br />04334<br />04335<br />04336<br />04337<br />04338<br />04339<br />04340<br />
04341<br />04342<br />04343<br />04344<br />04345<br />04346<br />04347<br />04348<br />04349<br />04350<br />04351<br />04352<br />04353<br />04354<br />04355<br />04356<br />04357<br />04358<br />04359<br />04360<br />
04361<br />04362<br />04363<br />04364<br />04365<br />04366<br />04367<br />04368<br />04369<br />04370<br />04371<br />04372<br />04373<br />04374<br />04375<br />04376<br />04377<br />04378<br />04379<br />04380<br />
04381<br />04382<br />04383<br />04384<br />04385<br />04386<br />04387<br />04388<br />04389<br />04390<br />04391<br />04392<br />04393<br />04394<br />04395<br />04396<br />04397<br />04398<br />04399<br />04400<br />
04401<br />04402<br />04403<br />04404<br />04405<br />04406<br />04407<br />04408<br />04409<br />04410<br />04411<br />04412<br />04413<br />04414<br />04415<br />04416<br />04417<br />04418<br />04419<br />04420<br />
04421<br />04422<br />04423<br />04424<br />04425<br />04426<br />04427<br />04428<br />04429<br />04430<br />04431<br />04432<br />04433<br />04434<br />04435<br />04436<br />04437<br />04438<br />04439<br />04440<br />
04441<br />04442<br />04443<br />04444<br />04445<br />04446<br />04447<br />04448<br />04449<br />04450<br />04451<br />04452<br />04453<br />04454<br />04455<br />04456<br />04457<br />04458<br />04459<br />04460<br />
04461<br />04462<br />04463<br />04464<br />04465<br />04466<br />04467<br />04468<br />04469<br />04470<br />04471<br />04472<br />04473<br />04474<br />04475<br />04476<br />04477<br />04478<br />04479<br />04480<br />
04481<br />04482<br />04483<br />04484<br />04485<br />04486<br />04487<br />04488<br />04489<br />04490<br />04491<br />04492<br />04493<br />04494<br />04495<br />04496<br />04497<br />04498<br />04499<br />04500<br />
04501<br />04502<br />04503<br />04504<br />04505<br />04506<br />04507<br />04508<br />04509<br />04510<br />04511<br />04512<br />04513<br />04514<br />04515<br />04516<br />04517<br />04518<br />04519<br />04520<br />
04521<br />04522<br />04523<br />04524<br />04525<br />04526<br />04527<br />04528<br />04529<br />04530<br />04531<br />04532<br />04533<br />04534<br />04535<br />04536<br />04537<br />04538<br />04539<br />04540<br />
04541<br />04542<br />04543<br />04544<br />04545<br />04546<br />04547<br />04548<br />04549<br />04550<br />04551<br />04552<br />04553<br />04554<br />04555<br />04556<br />04557<br />04558<br />04559<br />04560<br />
04561<br />04562<br />04563<br />04564<br />04565<br />04566<br />04567<br />04568<br />04569<br />04570<br />04571<br />04572<br />04573<br />04574<br />04575<br />04576<br />04577<br />04578<br />04579<br />04580<br />
04581<br />04582<br />04583<br />04584<br />04585<br />04586<br />04587<br />04588<br />04589<br />04590<br />04591<br />04592<br />04593<br />04594<br />04595<br />04596<br />04597<br />04598<br />04599<br />04600<br />
04601<br />04602<br />04603<br />04604<br />04605<br />04606<br />04607<br />04608<br />04609<br />04610<br />04611<br />04612<br />04613<br />04614<br />04615<br />04616<br />04617<br />04618<br />04619<br />04620<br />
04621<br />04622<br />04623<br />04624<br />04625<br />04626<br />04627<br />04628<br />04629<br />04630<br />04631<br />04632<br />04633<br />04634<br />04635<br />04636<br />04637<br />04638<br />04639<br />04640<br />
04641<br />04642<br />04643<br />04644<br />04645<br />04646<br />04647<br />04648<br />04649<br />04650<br />04651<br />04652<br />04653<br />04654<br />04655<br />04656<br />04657<br />04658<br />04659<br />04660<br />
04661<br />04662<br />04663<br />04664<br />04665<br />04666<br />04667<br />04668<br />04669<br />04670<br />04671<br />04672<br />04673<br />04674<br />04675<br />04676<br />04677<br />04678<br />04679<br />04680<br />
04681<br />04682<br />04683<br />04684<br />04685<br />04686<br />04687<br />04688<br />04689<br />04690<br />04691<br />04692<br />04693<br />04694<br />04695<br />04696<br />04697<br />04698<br />04699<br />04700<br />
04701<br />04702<br />04703<br />04704<br />04705<br />04706<br />04707<br />04708<br />04709<br />04710<br />04711<br />04712<br />04713<br />04714<br />04715<br />04716<br />04717<br />04718<br />04719<br />04720<br />
04721<br />04722<br />04723<br />04724<br />04725<br />04726<br />04727<br />04728<br />04729<br />04730<br />04731<br />04732<br />04733<br />04734<br />04735<br />04736<br />04737<br />04738<br />04739<br />04740<br />
04741<br />04742<br />04743<br />04744<br />04745<br />04746<br />04747<br />04748<br />04749<br />04750<br />04751<br />04752<br />04753<br />04754<br />04755<br />04756<br />04757<br />04758<br />04759<br />04760<br />
04761<br />04762<br />04763<br />04764<br />04765<br />04766<br />04767<br />04768<br />04769<br />04770<br />04771<br />04772<br />04773<br />04774<br />04775<br />04776<br />04777<br />04778<br />04779<br />04780<br />
04781<br />04782<br />04783<br />04784<br />04785<br />04786<br />04787<br />04788<br />04789<br />04790<br />04791<br />04792<br />04793<br />04794<br />04795<br />04796<br />04797<br />04798<br />04799<br />04800<br />
04801<br />04802<br />04803<br />04804<br />04805<br />04806<br />04807<br />04808<br />04809<br />04810<br />04811<br />04812<br />04813<br />04814<br />04815<br />04816<br />04817<br />04818<br />04819<br />04820<br />
04821<br />04822<br />04823<br />04824<br />04825<br />04826<br />04827<br />04828<br />04829<br />04830<br />04831<br />04832<br />04833<br />04834<br />04835<br />04836<br />04837<br />04838<br />04839<br />04840<br />
04841<br />04842<br />04843<br />04844<br />04845<br />04846<br />04847<br />04848<br />04849<br />04850<br />04851<br />04852<br />04853<br />04854<br />04855<br />04856<br />04857<br />04858<br />04859<br />04860<br />
04861<br />04862<br />04863<br />04864<br />04865<br />04866<br />04867<br />04868<br />04869<br />04870<br />04871<br />04872<br />04873<br />04874<br />04875<br />04876<br />04877<br />04878<br />04879<br />04880<br />
04881<br />04882<br />04883<br />04884<br />04885<br />04886<br />04887<br />04888<br />04889<br />04890<br />04891<br />04892<br />04893<br />04894<br />04895<br />04896<br />04897<br />04898<br />04899<br />04900<br />
04901<br />04902<br />04903<br />04904<br />04905<br />04906<br />04907<br />04908<br />04909<br />04910<br />04911<br />04912<br />04913<br />04914<br />04915<br />04916<br />04917<br />04918<br />04919<br />04920<br />
04921<br />04922<br />04923<br />04924<br />04925<br />04926<br />04927<br />04928<br />04929<br />04930<br />04931<br />04932<br />04933<br />04934<br />04935<br />04936<br />04937<br />04938<br />04939<br />04940<br />
04941<br />04942<br />04943<br />04944<br />04945<br />04946<br />04947<br />04948<br />04949<br />04950<br />04951<br />04952<br />04953<br />04954<br />04955<br />04956<br />04957<br />04958<br />04959<br />04960<br />
04961<br />04962<br />04963<br />04964<br />04965<br />04966<br />04967<br />04968<br />04969<br />04970<br />04971<br />04972<br />04973<br />04974<br />04975<br />04976<br />04977<br />04978<br />04979<br />04980<br />
04981<br />04982<br />04983<br />04984<br />04985<br />04986<br />04987<br />04988<br />04989<br />04990<br />04991<br />04992<br />04993<br />04994<br />04995<br />04996<br />04997<br />04998<br />04999<br />05000<br />
05001<br />05002<br />05003<br />05004<br />05005<br />05006<br />05007<br />05008<br />05009<br />05010<br />05011<br />05012<br />05013<br />05014<br />05015<br />05016<br />05017<br />05018<br />05019<br />05020<br />
05021<br />05022<br />05023<br />05024<br />05025<br />05026<br />05027<br />05028<br />05029<br />05030<br />05031<br />05032<br />05033<br />05034<br />05035<br />05036<br />05037<br />05038<br />05039<br />05040<br />
05041<br />05042<br />05043<br />05044<br />05045<br />05046<br />05047<br />05048<br />05049<br />05050<br />05051<br />05052<br />05053<br />05054<br />05055<br />05056<br />05057<br />05058<br />05059<br />05060<br />
05061<br />05062<br />05063<br />05064<br />05065<br />05066<br />05067<br />05068<br />05069<br />05070<br />05071<br />05072<br />05073<br />05074<br />05075<br />05076<br />05077<br />05078<br />05079<br />05080<br />
05081<br />05082<br />05083<br />05084<br />05085<br />05086<br />05087<br />05088<br />05089<br />05090<br />05091<br />05092<br />05093<br />05094<br />05095<br />05096<br />05097<br />05098<br />05099<br />05100<br />
05101<br />05102<br />05103<br />05104<br />05105<br />05106<br />05107<br />05108<br />05109<br />05110<br />05111<br />05112<br />05113<br />05114<br />05115<br />05116<br />05117<br />05118<br />05119<br />05120<br />
05121<br />05122<br />05123<br />05124<br />05125<br />05126<br />05127<br />05128<br />05129<br />05130<br />05131<br />05132<br />05133<br />05134<br />05135<br />05136<br />05137<br />05138<br />05139<br />05140<br />
05141<br />05142<br />05143<br />05144<br />05145<br />05146<br />05147<br />05148<br />05149<br />05150<br />05151<br />05152<br />05153<br />05154<br />05155<br />05156<br />05157<br />05158<br />05159<br />05160<br />
05161<br />05162<br />05163<br />05164<br />05165<br />05166<br />05167<br />05168<br />05169<br />05170<br />05171<br />05172<br />05173<br />05174<br />05175<br />05176<br />05177<br />05178<br />05179<br />05180<br />
05181<br />05182<br />05183<br />05184<br />05185<br />05186<br />05187<br />05188<br />05189<br />05190<br />05191<br />05192<br />05193<br />05194<br />05195<br />05196<br />05197<br />05198<br />05199<br />05200<br />
05201<br />05202<br />05203<br />05204<br />05205<br />05206<br />05207<br />05208<br />05209<br />05210<br />05211<br />05212<br />05213<br />05214<br />05215<br />05216<br />05217<br />05218<br />05219<br />05220<br />
05221<br />05222<br />05223<br />05224<br />05225<br />05226<br />05227<br />05228<br />05229<br />05230<br />05231<br />05232<br />05233<br />05234<br />05235<br />05236<br />05237<br />05238<br />05239<br />05240<br />
05241<br />05242<br />05243<br />05244<br />05245<br />05246<br />05247<br />05248<br />05249<br />05250<br />05251<br />05252<br />05253<br />05254<br />05255<br />05256<br />05257<br />05258<br />05259<br />05260<br />
05261<br />05262<br />05263<br />05264<br />05265<br />05266<br />05267<br />05268<br />05269<br />05270<br />05271<br />05272<br />05273<br />05274<br />05275<br />05276<br />05277<br />05278<br />05279<br />05280<br />
05281<br />05282<br />05283<br />05284<br />05285<br />05286<br />05287<br />05288<br />05289<br />05290<br />05291<br />05292<br />05293<br />05294<br />05295<br />05296<br />05297<br />05298<br />05299<br />05300<br />
05301<br />05302<br />05303<br />05304<br />05305<br />05306<br />05307<br />05308<br />05309<br />05310<br />05311<br />05312<br />05313<br />05314<br />05315<br />05316<br />05317<br />05318<br />05319<br />05320<br />
05321<br />05322<br />05323<br />05324<br />05325<br />05326<br />05327<br />05328<br />05329<br />05330<br />05331<br />05332<br />05333<br />05334<br />05335<br />05336<br />05337<br />05338<br />05339<br />05340<br />
05341<br />05342<br />05343<br />05344<br />05345<br />05346<br />05347<br />05348<br />05349<br />05350<br />05351<br />05352<br />05353<br />05354<br />05355<br />05356<br />05357<br />05358<br />05359<br />05360<br />
05361<br />05362<br />05363<br />05364<br />05365<br />05366<br />05367<br />05368<br />05369<br />05370<br />05371<br />05372<br />05373<br />05374<br />05375<br />05376<br />05377<br />05378<br />05379<br />05380<br />
05381<br />05382<br />05383<br />05384<br />05385<br />05386<br />05387<br />05388<br />05389<br />05390<br />05391<br />05392<br />05393<br />05394<br />05395<br />05396<br />05397<br />05398<br />05399<br />05400<br />
05401<br />05402<br />05403<br />05404<br />05405<br />05406<br />05407<br />05408<br />05409<br />05410<br />05411<br />05412<br />05413<br />05414<br />05415<br />05416<br />05417<br />05418<br />05419<br />05420<br />
05421<br />05422<br />05423<br />05424<br />05425<br />05426<br />05427<br />05428<br />05429<br />05430<br />05431<br />05432<br />05433<br />05434<br />05435<br />05436<br />05437<br />05438<br />05439<br />05440<br />
05441<br />05442<br />05443<br />05444<br />05445<br />05446<br />05447<br />05448<br />05449<br />05450<br />05451<br />05452<br />05453<br />05454<br />05455<br />05456<br />05457<br />05458<br />05459<br />05460<br />
05461<br />05462<br />05463<br />05464<br />05465<br />05466<br />05467<br />05468<br />05469<br />05470<br />05471<br />05472<br />05473<br />05474<br />05475<br />05476<br />05477<br />05478<br />05479<br />05480<br />
05481<br />05482<br />05483<br />05484<br />05485<br />05486<br />05487<br />05488<br />05489<br />05490<br />05491<br />05492<br />05493<br />05494<br />05495<br />05496<br />05497<br />05498<br />05499<br />05500<br />
05501<br />05502<br />05503<br />05504<br />05505<br />05506<br />05507<br />05508<br />05509<br />05510<br />05511<br />05512<br />05513<br />05514<br />05515<br />05516<br />05517<br />05518<br />05519<br />05520<br />
05521<br />05522<br />05523<br />05524<br />05525<br />05526<br />05527<br />05528<br />05529<br />05530<br />05531</span></td>
<td class="source"><pre class="source"><a name="0"></a><span class="source_type">class</span> <span class="source_type"><a href="../kfmod/kfgametype.html" class="source">KFGameType</a></span> extends <span class="source_type"><a href="../old2k4/invasion.html" class="source">Invasion</a></span>
<a name="2"></a>    config;
<a name="3"></a>
<a name="4"></a><span class="source_macro">#exec OBJ LOAD FILE=KillingFloorTextures.utx
</span><a name="5"></a><span class="source_macro">#exec OBJ LOAD FILE=KillingFloorWeapons.utx
</span><a name="6"></a><span class="source_comment">//#exec OBJ LOAD FILE=KillingFloorManorTextures.utx
</span><a name="7"></a><span class="source_macro">#exec OBJ LOAD FILE=KillingFloorHUD.utx
</span><a name="8"></a><span class="source_macro">#exec OBJ LOAD FILE=KFX.utx
</span><a name="9"></a><span class="source_macro">#exec OBJ LOAD FILE=KFMaterials.utx
</span><a name="10"></a><span class="source_macro">#exec OBJ LOAD FILE=KillingFloorLabTextures.utx
</span><a name="11"></a><span class="source_macro">#exec OBJ LOAD FILE=KillingFloorStatics.usx
</span><a name="12"></a><span class="source_comment">//#exec OBJ LOAD FILE=KillingFloorManorStatics.usx
</span><a name="13"></a><span class="source_comment">//#exec OBJ LOAD FILE=KillingFloorLabStatics.usx
</span><a name="14"></a><span class="source_macro">#exec OBJ LOAD FILE=EffectsSM.usx
</span><a name="15"></a><span class="source_macro">#exec OBJ LOAD FILE=PatchStatics.usx
</span><a name="16"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_pickups2_Trip.usx
</span><a name="17"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_generic_sm.usx
</span><a name="18"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_Weapons_Trip_T.utx
</span><a name="19"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_Weapons2_Trip_T.utx
</span><a name="20"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_Weapons3rd_Trip_T.utx
</span><a name="21"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_Weapons3rd2_Trip_T.utx
</span><a name="22"></a><span class="source_macro">#exec OBJ LOAD FILE=KFPortraits.utx
</span><a name="23"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_Soldier_Trip_T.utx
</span><a name="24"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_Specimens_Trip_T.utx
</span><a name="25"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_Specimens_Trip_T_Two.utx
</span><a name="26"></a><span class="source_macro">#exec OBJ LOAD FILE=kf_generic_t.utx
</span><a name="27"></a><span class="source_macro">#exec OBJ LOAD FILE=kf_gore_trip_sm.usx
</span><a name="28"></a><span class="source_macro">#exec OBJ LOAD FILE=kf_fx_gore_T_Two.utx
</span><a name="29"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_PlayerGlobalSnd.uax
</span><a name="30"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_MAC10MPTex.utx
</span><a name="31"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_MAC10MPAnims.ukx
</span><a name="32"></a><span class="source_macro">#exec OBJ LOAD FILE=KF_MAC10MPSnd.ukx
</span><a name="33"></a>
<a name="34"></a>var const localized <span class="source_type">string</span> SandboxGroup;
<a name="35"></a>
<a name="36"></a>var() <span class="source_type"><a href="../gui2k4/ut2k4invasionwaveconfig.html#WaveInfo" class="source">WaveInfo</a></span> ShortWaves[<span class="source_int">16</span>];  <span class="source_comment">// Wave config for a short game
</span><a name="37"></a>var() <span class="source_type"><a href="../gui2k4/ut2k4invasionwaveconfig.html#WaveInfo" class="source">WaveInfo</a></span> NormalWaves[<span class="source_int">16</span>]; <span class="source_comment">// Wave config for a normal game
</span><a name="38"></a>var() <span class="source_type"><a href="../gui2k4/ut2k4invasionwaveconfig.html#WaveInfo" class="source">WaveInfo</a></span> LongWaves[<span class="source_int">16</span>];   <span class="source_comment">// Wave config for a long game
</span><a name="39"></a>
<a name="40"></a>const GL_Short  = <span class="source_int">0</span>;
<a name="41"></a>const GL_Normal = <span class="source_int">1</span>;
<a name="42"></a>const GL_Long   = <span class="source_int">2</span>;
<a name="43"></a>const GL_Custom = <span class="source_int">3</span>;
<a name="44"></a>
<a name="45"></a>var()   globalconfig <span class="source_type">int</span>    KFGameLength;       <span class="source_comment">// The length for this game, adds/removes waves
</span><a name="46"></a>var()   globalconfig <span class="source_type">bool</span>   bDisableZedSpawning;<span class="source_comment">// Disable zed spawning for debugging
</span><a name="47"></a>
<a name="48"></a>struct <span class="source_type"><a href="../kfmod/kfgametype.html#IMClassList" class="source">IMClassList</a></span>
<a name="49"></a>{
<a name="50"></a>    var <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; MClass;
<a name="51"></a>    var <span class="source_type">string</span> ID;
<a name="52"></a>};
<a name="53"></a>
<a name="54"></a>struct <span class="source_type"><a href="../kfmod/kfgametype.html#MSquadsList" class="source">MSquadsList</a></span>
<a name="55"></a>{
<a name="56"></a>    var array&lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; &gt; MSquad;
<a name="57"></a>};
<a name="58"></a>var array&lt;<span class="source_type"><a href="../kfmod/kfgametype.html#MSquadsList" class="source">MSquadsList</a></span>&gt; InitSquads;
<a name="59"></a>
<a name="60"></a>var <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonsterscollection.html" class="source">KFMonstersCollection</a></span>&gt; MonsterCollection;
<a name="61"></a>
<a name="62"></a>var     <span class="source_type">int</span>                     FinalSquadNum;          <span class="source_comment">// The final squad num we are on
</span><a name="63"></a>
<a name="64"></a>var     <span class="source_type">bool</span>    bUsedSpecialSquad;  <span class="source_comment">// Tracks if the special squad has been used already this time through the list
</span><a name="65"></a>var     <span class="source_type">int</span>     SpecialListCounter; <span class="source_comment">// Keep track of how many time's we've been through the list
</span><a name="66"></a>
<a name="67"></a>var <span class="source_type">string</span> HumanName[<span class="source_int">4</span>];
<a name="68"></a>var <span class="source_type">string</span> ZombieName[<span class="source_int">4</span>];
<a name="69"></a>var <span class="source_type">int</span> <span class="source_type"><a href="../core/time.html" class="source">Time</a></span>,LobbyTimeCounter;
<a name="70"></a>var <span class="source_type">int</span> ZombiesKilled;
<a name="71"></a>var <span class="source_type">int</span> TotalMaxMonsters;
<a name="72"></a>var <span class="source_type">int</span> SquadsToSpawn;
<a name="73"></a>var <span class="source_type">bool</span> rewardFlag;
<a name="74"></a>var <span class="source_type">bool</span> bUpdateViewTargs,bNotifiedLastManStanding;
<a name="75"></a>var <span class="source_type"><a href="../kfmod/kfmusictrigger.html" class="source">KFMusicTrigger</a></span> MapSongHandler;
<a name="76"></a>
<a name="77"></a>var <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> KFPRIArray[<span class="source_int">16</span>];
<a name="78"></a>
<a name="79"></a>const MAX_BUYITEMS=<span class="source_int">200</span>;
<a name="80"></a>
<a name="81"></a>const KFPROPNUM = <span class="source_int">16</span>;
<a name="82"></a>var localized <span class="source_type">string</span> KFSurvivalPropText[KFPROPNUM];
<a name="83"></a>var localized <span class="source_type">string</span> KFSurvivalDescText[KFPROPNUM];
<a name="84"></a>
<a name="85"></a>var localized <span class="source_type">string</span> NoLateJoiners;
<a name="86"></a>
<a name="87"></a>var() globalconfig <span class="source_type">float</span> WaveStartSpawnPeriod;
<a name="88"></a>var() globalconfig <span class="source_type">int</span> StartingCash,MinRespawnCash;  <span class="source_comment">// Cash amount Players start with to buy equipment
</span><a name="89"></a>var <span class="source_type">bool</span> bNoBots; <span class="source_comment">// If true, no friendly bot AI
</span><a name="90"></a>var() globalconfig <span class="source_type">bool</span> bUseEndGameBoss,bRespawnOnBoss;
<a name="91"></a>var() globalconfig <span class="source_type">bool</span> bNoLateJoiners;
<a name="92"></a>var() localized <span class="source_type">string</span> BossBattleSong;
<a name="93"></a>var globalconfig <span class="source_type">string</span> TmpWavesInf,TmpSquadsInf,TmpMClassInf;
<a name="94"></a>
<a name="95"></a><span class="source_comment">// Versions of the config vars that we'll hard code for non-custom
</span><a name="96"></a><span class="source_comment">// game settings, modifying some for each difficulty level;
</span><a name="97"></a>
<a name="98"></a>var()   <span class="source_type">int</span>     StartingCashBeginner, StartingCashNormal, StartingCashHard, StartingCashSuicidal, StartingCashHell; <span class="source_comment">// The starting cash for the different difficulty levels
</span><a name="99"></a>var()   <span class="source_type">int</span>     MinRespawnCashBeginner, MinRespawnCashNormal, MinRespawnCashHard, MinRespawnCashSuicidal, MinRespawnCashHell; <span class="source_comment">// The starting cash for the different difficulty levels
</span><a name="100"></a>var()   <span class="source_type">int</span>     TimeBetweenWavesBeginner, TimeBetweenWavesNormal, TimeBetweenWavesHard, TimeBetweenWavesSuicidal, TimeBetweenWavesHell;
<a name="101"></a>
<a name="102"></a>var()   array&lt;<span class="source_type">string</span>&gt;       StandardMonsterSquads;  <span class="source_comment">// The standard monster squads
</span><a name="103"></a>var()   <span class="source_type">int</span>                 StandardMaxZombiesOnce; <span class="source_comment">// Standard max zombies that can be in play at once
</span><a name="104"></a>
<a name="105"></a>var(LoadingHints) localized array&lt;<span class="source_type">string</span>&gt; KFHints;
<a name="106"></a>
<a name="107"></a>var() globalconfig array&lt;<span class="source_type">string</span>&gt; MonsterSquad;
<a name="108"></a>
<a name="109"></a>var array&lt;<span class="source_type">int</span>&gt; SquadsToUse; <span class="source_comment">// Pointers
</span><a name="110"></a>var <span class="source_type">int</span> InitialSquadsToUseSize;
<a name="111"></a>var array &lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; &gt; NextSpawnSquad;
<a name="112"></a>var array&lt;<span class="source_type"><a href="../kfmod/shopvolume.html" class="source">ShopVolume</a></span>&gt; ShopList;
<a name="113"></a>
<a name="114"></a>var <span class="source_type"><a href="../kfmod/zombievolume.html" class="source">ZombieVolume</a></span> LastSpawningVolume;
<a name="115"></a>var array&lt;<span class="source_type"><a href="../kfmod/zombievolume.html" class="source">ZombieVolume</a></span>&gt; ZedSpawnList;
<a name="116"></a>
<a name="117"></a>var <span class="source_type">byte</span> TraderProblemLevel;
<a name="118"></a>var <span class="source_type">bool</span> bTradingDoorsOpen;
<a name="119"></a>
<a name="120"></a>var <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/aicontroller.html" class="source">AIController</a></span>&gt;ControllerClass;
<a name="121"></a>var <span class="source_type">string</span> ControllerClassName;
<a name="122"></a>
<a name="123"></a>var <span class="source_type">float</span> LastWaveStartTime;
<a name="124"></a>
<a name="125"></a>var() globalconfig <span class="source_type">int</span> LobbyTimeOut; <span class="source_comment">// Number of Seconds after someone has gone to a Ready state that the game auto-begins.
</span><a name="126"></a>var() globalconfig <span class="source_type">int</span> TimeBetweenWaves;    <span class="source_comment">// Value (in seconds) for how long there is between waves.
</span><a name="127"></a>
<a name="128"></a>var <span class="source_type">float</span> StoredRadius, StoredHeight;
<a name="129"></a>
<a name="130"></a>var <span class="source_type">bool</span> MusicPlaying,CalmMusicPlaying;
<a name="131"></a>
<a name="132"></a>var <span class="source_type"><a href="../kfmod/kflevelrules.html" class="source">KFLevelRules</a></span> KFLRules;
<a name="133"></a>
<a name="134"></a>var <span class="source_type">bool</span> bBotsAdded;
<a name="135"></a>
<a name="136"></a>var config <span class="source_type">bool</span> bEnemyHealthBars;
<a name="137"></a>
<a name="138"></a>var <span class="source_type"><a href="../kfmod/zombievolume.html" class="source">ZombieVolume</a></span> LastZVol;
<a name="139"></a>
<a name="140"></a>var array&lt;<span class="source_type"><a href="../kfmod/playerdeathmark.html" class="source">PlayerDeathMark</a></span>&gt; DeathMarkers; <span class="source_comment">// for zombie eating.
</span><a name="141"></a>
<a name="142"></a>var() array&lt;<span class="source_type">string</span>&gt; AvailableChars;
<a name="143"></a>var() array&lt; <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfveterancytypes.html" class="source">KFVeterancyTypes</a></span>&gt; &gt; LoadedSkills;
<a name="144"></a>var() globalconfig <span class="source_type">int</span> MaxZombiesOnce;
<a name="145"></a>
<a name="146"></a>var <span class="source_type">bool</span> bWaveBossInProgress,bHasSetViewYet,bBossHasSaidWord;
<a name="147"></a>var <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span> ViewingBoss;
<a name="148"></a>
<a name="149"></a><span class="source_comment">// ZEDTime - slomo system
</span><a name="150"></a>var     <span class="source_type">bool</span>    bZEDTimeActive;         <span class="source_comment">// We're currently in a ZedTime slomo event
</span><a name="151"></a>var     <span class="source_type">float</span>   CurrentZEDTimeDuration; <span class="source_comment">// Remaining time of current ZedTime event
</span><a name="152"></a>var()   <span class="source_type">float</span>   ZEDTimeDuration;        <span class="source_comment">// How long a ZedTime slomo event will last
</span><a name="153"></a>var()   <span class="source_type">float</span>   ZedTimeSlomoScale;      <span class="source_comment">// What percentage of normal game speed to slow down the game during ZedTime
</span><a name="154"></a>var     <span class="source_type">float</span>   LastZedTimeEvent;       <span class="source_comment">// The last time we had a Zed Time event
</span><a name="155"></a>var     <span class="source_type">int</span>     ZedTimeExtensionsUsed;  <span class="source_comment">// Number of Zed Time extensions used(Chaining effect for killing other Zeds while Zed Time is active)
</span><a name="156"></a>var     <span class="source_type">bool</span>    bSpeedingBackUp;        <span class="source_comment">// We're coming out of zed time
</span><a name="157"></a>
<a name="158"></a><span class="source_comment">// Pickup Management
</span><a name="159"></a>var array&lt;<span class="source_type"><a href="../kfmod/kfrandomitemspawn.html" class="source">KFRandomItemSpawn</a></span>&gt;    WeaponPickups;
<a name="160"></a>var array&lt;<span class="source_type"><a href="../kfmod/kfammopickup.html" class="source">KFAmmoPickup</a></span>&gt;         AmmoPickups;
<a name="161"></a>
<a name="162"></a><span class="source_comment">// Voice Messages
</span><a name="163"></a>var <span class="source_type">bool</span>    bDidTraderMovingMessage;
<a name="164"></a>var <span class="source_type">bool</span>    bDidMoveTowardTraderMessage;
<a name="165"></a>var <span class="source_type">bool</span>    bDidSpottedCrawlerMessage;
<a name="166"></a>var <span class="source_type">bool</span>    bDidStalkerInvisibleMessage;
<a name="167"></a>var <span class="source_type">bool</span>    bDidSpottedGorefastMessage;
<a name="168"></a>var <span class="source_type">bool</span>    bDidSpottedSirenMessage;
<a name="169"></a>var <span class="source_type">bool</span>    bDidSirenScreamMessage;
<a name="170"></a>var <span class="source_type">bool</span>    bDidSpottedScrakeMessage;
<a name="171"></a>var <span class="source_type">bool</span>    bDidSpottedFleshpoundMessage;
<a name="172"></a>var <span class="source_type">bool</span>    bDidKillStalkerMeleeMessage;
<a name="173"></a>var <span class="source_type">float</span>   LastBurnedEnemyMessageTime;
<a name="174"></a>var <span class="source_type">float</span>   BurnedEnemyMessageDelay;
<a name="175"></a>
<a name="176"></a><span class="source_comment">//Hints
</span><a name="177"></a>var     <span class="source_type">float</span>   HintTime_1;
<a name="178"></a>var     <span class="source_type">float</span>   HintTime_2;
<a name="179"></a>var     <span class="source_type">bool</span>    bShowHint_2;
<a name="180"></a>var     <span class="source_type">bool</span>    bShowHint_3;
<a name="181"></a>
<a name="182"></a><span class="source_comment">// Wave Money Debugging
</span><a name="183"></a>var     <span class="source_type">bool</span>    bDebugMoney;            <span class="source_comment">// Whether or not to track the money
</span><a name="184"></a>var()   <span class="source_type">int</span>     TotalPossibleWaveMoney; <span class="source_comment">// How much money could be earned in this wave
</span><a name="185"></a>var()   <span class="source_type">int</span>     TotalPossibleMatchMoney;<span class="source_comment">// How much money could be earned in this match
</span><a name="186"></a>
<a name="187"></a>var()   <span class="source_type">float</span>   SineWaveFreq;           <span class="source_comment">// Controls the frequency of the zombie spawning sine wave. This is used to increase/decrease speed and intensity of zombie spawning to give the gameplay peaks and valleys
</span><a name="188"></a>var()   <span class="source_type">float</span>   WaveTimeElapsed;        <span class="source_comment">// How long this wave has been going on
</span><a name="189"></a>
<a name="190"></a>var array&lt;<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>&gt; &gt;   InstancedWeaponClasses;
<a name="191"></a>
<a name="192"></a><span class="source_comment">/* AI -- Should ZED controllers query the pawns they are attacking to assess threat priority?   -  NOTE:   currently only enabled in story mode gametype*/</span>
<a name="193"></a>var <span class="source_type">bool</span>                    bUseZEDThreatAssessment;
<a name="194"></a>
<a name="195"></a><span class="source_comment">/* Mod support for steam based events */</span>
<a name="196"></a>
<a name="197"></a>struct <span class="source_type"><a href="../kfmod/kfmonsterscollection.html#MClassTypes" class="source">MClassTypes</a></span>
<a name="198"></a>{
<a name="199"></a>    var() config <span class="source_type">string</span> MClassName,MID;
<a name="200"></a>};
<a name="201"></a>var() globalconfig array&lt;<span class="source_type"><a href="../kfmod/kfmonsterscollection.html#MClassTypes" class="source">MClassTypes</a></span>&gt; MonsterClasses;
<a name="202"></a>var() <span class="source_type">string</span> EndGameBossClass;
<a name="203"></a>
<a name="204"></a><span class="source_comment">// Store info for a special squad we want to spawn outside of the normal wave system
</span><a name="205"></a>struct <span class="source_type"><a href="../kfmod/kfmonsterscollection.html#SpecialSquad" class="source">SpecialSquad</a></span>
<a name="206"></a>{
<a name="207"></a>    var array&lt;<span class="source_type">string</span>&gt; ZedClass;
<a name="208"></a>    var array&lt;<span class="source_type">int</span>&gt; NumZeds;
<a name="209"></a>};
<a name="210"></a>
<a name="211"></a><span class="source_comment">// Special squads are used to spawn a squad outside of the normal wave system so
</span><a name="212"></a><span class="source_comment">// we have a bit more control. Basically. these will only spawn towards the
</span><a name="213"></a><span class="source_comment">// end of the normal squad list. This way you don't end up with a bunch of really
</span><a name="214"></a><span class="source_comment">// beast Zeds spawning one right after the other&gt; It also guarantees that this
</span><a name="215"></a><span class="source_comment">// squad will always get used - Ramm
</span><a name="216"></a>var     array&lt;<span class="source_type"><a href="../kfmod/kfmonsterscollection.html#SpecialSquad" class="source">SpecialSquad</a></span>&gt;     SpecialSquads;          <span class="source_comment">// The currently used SpecialSquad array
</span><a name="217"></a>var     array&lt;<span class="source_type"><a href="../kfmod/kfmonsterscollection.html#SpecialSquad" class="source">SpecialSquad</a></span>&gt;     ShortSpecialSquads;     <span class="source_comment">// The special squad array for a short game
</span><a name="218"></a>var     array&lt;<span class="source_type"><a href="../kfmod/kfmonsterscollection.html#SpecialSquad" class="source">SpecialSquad</a></span>&gt;     NormalSpecialSquads;    <span class="source_comment">// The special squad array for a normal game
</span><a name="219"></a>var     array&lt;<span class="source_type"><a href="../kfmod/kfmonsterscollection.html#SpecialSquad" class="source">SpecialSquad</a></span>&gt;     LongSpecialSquads;      <span class="source_comment">// The special squad array for a long game
</span><a name="220"></a>
<a name="221"></a>var     array&lt;<span class="source_type"><a href="../kfmod/kfmonsterscollection.html#SpecialSquad" class="source">SpecialSquad</a></span>&gt;     FinalSquads;            <span class="source_comment">// Squads that spawn with the Patriarch
</span><a name="222"></a>
<a name="223"></a>var()   array&lt;<span class="source_type"><a href="../kfmod/kfmonsterscollection.html#MClassTypes" class="source">MClassTypes</a></span>&gt;  StandardMonsterClasses; <span class="source_comment">// The standard monster classed
</span><a name="224"></a>
<a name="225"></a>var  <span class="source_type">bool</span>   bUsingObjectiveMode;
<a name="226"></a>
<a name="227"></a>enum <span class="source_type"><a href="../kfmod/kfgametype.html#ESpecialEventType" class="source">ESpecialEventType</a></span>
<a name="228"></a>{
<a name="229"></a>    ET_None,
<a name="230"></a>    ET_SummerSideshow,
<a name="231"></a>    ET_HillbillyHorror,
<a name="232"></a>    ET_TwistedChristmas
<a name="233"></a>};
<a name="234"></a>
<a name="235"></a>var globalconfig <span class="source_type"><a href="../kfmod/kfgametype.html#ESpecialEventType" class="source">ESpecialEventType</a></span> SpecialEventType;
<a name="236"></a>var array&lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonsterscollection.html" class="source">KFMonstersCollection</a></span>&gt; &gt; SpecialEventMonsterCollections;
<a name="237"></a>
<a name="238"></a><span class="source_comment">// Stub
</span><a name="239"></a>static function <span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span> GetRandomTeamSymbol(<span class="source_type">int</span> base) { return None; }
<a name="240"></a>
<a name="241"></a>event PreBeginPlay()
<a name="242"></a>{
<a name="243"></a>    Super.PreBeginPlay();
<a name="244"></a>
<a name="245"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).bNoBots = bNoBots;
<a name="246"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).PendingBots = <span class="source_int">0</span>;
<a name="247"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).GameDiff = GameDifficulty;
<a name="248"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).bEnemyHealthBars = bEnemyHealthBars;
<a name="249"></a>
<a name="250"></a>    HintTime_1 = <span class="source_int">99999999.00</span>;
<a name="251"></a>    HintTime_2 = <span class="source_int">99999999.00</span>;
<a name="252"></a>
<a name="253"></a>    bShowHint_2 = true;
<a name="254"></a>    bShowHint_3 = true;
<a name="255"></a>}
<a name="256"></a>
<a name="257"></a><span class="source_comment">// Overriden to handle ZEDTime zombie death slomo system
</span><a name="258"></a>event Tick(<span class="source_type">float</span> <span class="source_type">DeltaTime</span>)
<a name="259"></a>{
<a name="260"></a>    local <span class="source_type">float</span> TrueTimeFactor;
<a name="261"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="262"></a>
<a name="263"></a>    if( bZEDTimeActive )
<a name="264"></a>    {
<a name="265"></a>        TrueTimeFactor = <span class="source_int">1.1</span>/<span class="source_type">Level</span>.TimeDilation;
<a name="266"></a>        CurrentZEDTimeDuration -= <span class="source_type">DeltaTime</span> * TrueTimeFactor;
<a name="267"></a>
<a name="268"></a>        if( CurrentZEDTimeDuration &lt; (ZEDTimeDuration*<span class="source_int">0.166</span>) && CurrentZEDTimeDuration &gt; <span class="source_int">0</span> )
<a name="269"></a>        {
<a name="270"></a>            if( !bSpeedingBackUp )
<a name="271"></a>            {
<a name="272"></a>                bSpeedingBackUp = true;
<a name="273"></a>
<a name="274"></a>                for( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList;<span class="source_type">C</span>!=None;<span class="source_type">C</span>=<span class="source_type">C</span>.NextController )
<a name="275"></a>                {
<a name="276"></a>                    if (<span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>)!= none)
<a name="277"></a>                    {
<a name="278"></a>                        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).ClientExitZedTime();
<a name="279"></a>                    }
<a name="280"></a>                }
<a name="281"></a>            }
<a name="282"></a>
<a name="283"></a>            SetGameSpeed(Lerp( (CurrentZEDTimeDuration/(ZEDTimeDuration*<span class="source_int">0.166</span>)), <span class="source_int">1.0</span>, <span class="source_int">0.2</span> ));
<a name="284"></a>        }
<a name="285"></a>
<a name="286"></a>
<a name="287"></a>        if( CurrentZEDTimeDuration &lt;= <span class="source_int">0</span> )
<a name="288"></a>        {
<a name="289"></a>            bZEDTimeActive = false;
<a name="290"></a>            bSpeedingBackUp = false;
<a name="291"></a>            SetGameSpeed(<span class="source_int">1.0</span>);
<a name="292"></a>            ZedTimeExtensionsUsed = <span class="source_int">0</span>;
<a name="293"></a>        }
<a name="294"></a>    }
<a name="295"></a>}
<a name="296"></a>
<a name="297"></a>static function array&lt;<span class="source_type">string</span>&gt; GetAllLoadHints(optional <span class="source_type">bool</span> bThisClassOnly)
<a name="298"></a>{
<a name="299"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="300"></a>    local array&lt;<span class="source_type">string</span>&gt; Hints;
<a name="301"></a>
<a name="302"></a>    for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; default.KFHints.Length; <span class="source_type">i</span>++ )
<a name="303"></a>        Hints[Hints.Length] = default.KFHints[<span class="source_type">i</span>];
<a name="304"></a>
<a name="305"></a>    return Hints;
<a name="306"></a>}
<a name="307"></a>
<a name="308"></a>static function <span class="source_type">string</span> ParseLoadingHintNoColor(<span class="source_type">string</span> Hint, <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type">Ref</span>)
<a name="309"></a>{
<a name="310"></a>    local <span class="source_type">string</span> CurrentHint, <span class="source_type">Cmd</span>, <span class="source_type">Result</span>, original;
<a name="311"></a>    local <span class="source_type">int</span> <span class="source_type">pos</span>;
<a name="312"></a>
<a name="313"></a>    original = hint;
<a name="314"></a>
<a name="315"></a>    <span class="source_type">pos</span> = InStr(Hint, <span class="source_string">"%"</span>);
<a name="316"></a>    if ( <span class="source_type">pos</span> == -<span class="source_int">1</span> )
<a name="317"></a>        return Hint;
<a name="318"></a>
<a name="319"></a>    do
<a name="320"></a>    {
<a name="321"></a>        <span class="source_type">Cmd</span> = <span class="source_string">""</span>;
<a name="322"></a>        <span class="source_type">Result</span> = <span class="source_string">""</span>;
<a name="323"></a>
<a name="324"></a>        CurrentHint $= Left(Hint,<span class="source_type">pos</span>);
<a name="325"></a>        Hint = Mid(Hint, <span class="source_type">pos</span>+<span class="source_int">1</span>);
<a name="326"></a>
<a name="327"></a>        <span class="source_type">pos</span> = InStr(Hint, <span class="source_string">"%"</span>);
<a name="328"></a>        if ( <span class="source_type">pos</span> == -<span class="source_int">1</span> )
<a name="329"></a>            break;
<a name="330"></a>
<a name="331"></a>        <span class="source_type">Cmd</span> = Left(Hint,<span class="source_type">pos</span>);
<a name="332"></a>        Hint = Mid(Hint,<span class="source_type">pos</span>+<span class="source_int">1</span>);
<a name="333"></a>        <span class="source_type">Result</span> = GetKeyBindName(<span class="source_type">Cmd</span>,<span class="source_type">Ref</span>);
<a name="334"></a>        if ( <span class="source_type">Result</span> == <span class="source_type">Cmd</span> || <span class="source_type">Result</span> == <span class="source_string">""</span> )
<a name="335"></a>            <span class="source_type">Result</span> = <span class="source_string">"(?)"</span>;
<a name="336"></a>            <span class="source_comment">//break;
</span><a name="337"></a>
<a name="338"></a>        CurrentHint $= <span class="source_type">Result</span>;
<a name="339"></a>        <span class="source_type">pos</span> = InStr(Hint, <span class="source_string">"%"</span>);
<a name="340"></a>    } until ( Hint == <span class="source_string">""</span> || <span class="source_type">pos</span> == -<span class="source_int">1</span> );
<a name="341"></a>
<a name="342"></a>    if ( <span class="source_type">Result</span> != <span class="source_string">""</span> && <span class="source_type">Result</span> != <span class="source_type">Cmd</span> )
<a name="343"></a>        return CurrentHint $ Hint;
<a name="344"></a>
<a name="345"></a>    return CurrentHint $ <span class="source_string">"(?)"</span> $ Hint;
<a name="346"></a>}
<a name="347"></a>
<a name="348"></a><span class="source_comment">// Called when a dramatic event happens that might cause slomo
</span><a name="349"></a><span class="source_comment">// BaseZedTimePossibility - the attempted probability of doing a slomo event
</span><a name="350"></a>function DramaticEvent(<span class="source_type">float</span> BaseZedTimePossibility, optional <span class="source_type">float</span> DesiredZedTimeDuration)
<a name="351"></a>{
<a name="352"></a>    local <span class="source_type">float</span> RandChance;
<a name="353"></a>    local <span class="source_type">float</span> TimeSinceLastEvent;
<a name="354"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="355"></a>
<a name="356"></a>    TimeSinceLastEvent = <span class="source_type">Level</span>.TimeSeconds - LastZedTimeEvent;
<a name="357"></a>
<a name="358"></a>    <span class="source_comment">// Don't go in slomo if we were just IN slomo
</span><a name="359"></a>    if( TimeSinceLastEvent &lt; <span class="source_int">10.0</span> && BaseZedTimePossibility != <span class="source_int">1.0</span> )
<a name="360"></a>    {
<a name="361"></a>        return;
<a name="362"></a>    }
<a name="363"></a>
<a name="364"></a>    if( TimeSinceLastEvent &gt; <span class="source_int">60</span> )
<a name="365"></a>    {
<a name="366"></a>        BaseZedTimePossibility *= <span class="source_int">4.0</span>;
<a name="367"></a>    }
<a name="368"></a>    else if( TimeSinceLastEvent &gt; <span class="source_int">30</span> )
<a name="369"></a>    {
<a name="370"></a>        BaseZedTimePossibility *= <span class="source_int">2.0</span>;
<a name="371"></a>    }
<a name="372"></a>
<a name="373"></a>    RandChance = FRand();
<a name="374"></a>
<a name="375"></a>    <span class="source_comment">//log("TimeSinceLastEvent = "$TimeSinceLastEvent$" RandChance = "$RandChance$" BaseZedTimePossibility = "$BaseZedTimePossibility);
</span><a name="376"></a>
<a name="377"></a>    if( RandChance &lt;= BaseZedTimePossibility )
<a name="378"></a>    {
<a name="379"></a>        bZEDTimeActive =  true;
<a name="380"></a>        bSpeedingBackUp = false;
<a name="381"></a>        LastZedTimeEvent = <span class="source_type">Level</span>.TimeSeconds;
<a name="382"></a>
<a name="383"></a>        if ( DesiredZedTimeDuration != <span class="source_int">0.0</span> )
<a name="384"></a>        {
<a name="385"></a>            CurrentZEDTimeDuration = DesiredZedTimeDuration;
<a name="386"></a>        }
<a name="387"></a>        else
<a name="388"></a>        {
<a name="389"></a>            CurrentZEDTimeDuration = ZEDTimeDuration;
<a name="390"></a>        }
<a name="391"></a>
<a name="392"></a>        SetGameSpeed(ZedTimeSlomoScale);
<a name="393"></a>
<a name="394"></a>        for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="395"></a>        {
<a name="396"></a>            if (<span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>)!= none)
<a name="397"></a>            {
<a name="398"></a>                <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).ClientEnterZedTime();
<a name="399"></a>            }
<a name="400"></a>
<a name="401"></a>            if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none && <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.SteamStatsAndAchievements) != none )
<a name="402"></a>            {
<a name="403"></a>                <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.SteamStatsAndAchievements).AddZedTime(ZEDTimeDuration);
<a name="404"></a>            }
<a name="405"></a>        }
<a name="406"></a>    }
<a name="407"></a>}
<a name="408"></a>
<a name="409"></a><span class="source_comment">// Overridden to support KF functionality
</span><a name="410"></a>function ShowPathTo(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type">P</span>, <span class="source_type">int</span> <span class="source_type">TeamNum</span>)
<a name="411"></a>{
<a name="412"></a>    if( <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop == none )
<a name="413"></a>    {
<a name="414"></a>        return;
<a name="415"></a>    }
<a name="416"></a>
<a name="417"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop.InitTeleports();
<a name="418"></a>
<a name="419"></a>    if ( (<span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop.TelList[<span class="source_int">0</span>] != None) &&
<a name="420"></a>       (<span class="source_type">P</span>.FindPathToward(<span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop.TelList[<span class="source_int">0</span>], false) != None) )
<a name="421"></a>    {
<a name="422"></a>        Spawn(<span class="source_type">class</span><span class="source_name">'RedWhisp'</span>, <span class="source_type">P</span>,, <span class="source_type">P</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Location);
<a name="423"></a>    }
<a name="424"></a>}
<a name="425"></a>
<a name="426"></a><span class="source_comment">// Kill all the enemy AI. Used for debugging
</span><a name="427"></a><span class="source_comment">// - Updated by Jess Crable 10/08/13
</span><a name="428"></a>
<a name="429"></a>exec function KillZeds()
<a name="430"></a>{
<a name="431"></a>    local <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span> <span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>;
<a name="432"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">PC</span>;
<a name="433"></a>
<a name="434"></a>    for ( <span class="source_type">PC</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">PC</span> != none; <span class="source_type">PC</span> = <span class="source_type">PC</span>.NextController )
<a name="435"></a>    {
<a name="436"></a>        if ( <span class="source_type">PC</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none && <span class="source_type">PC</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.SteamStatsAndAchievements != none )
<a name="437"></a>        {
<a name="438"></a>            <span class="source_type">PC</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.SteamStatsAndAchievements.bUsedCheats = true;
<a name="439"></a>        }
<a name="440"></a>    }
<a name="441"></a>
<a name="442"></a>    foreach DynamicActors(<span class="source_type">class</span> <span class="source_name">'KFMonster'</span>, <span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>)
<a name="443"></a>    {
<a name="444"></a>        if(<span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>.Health &gt; <span class="source_int">0</span> && !<span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>.bDeleteMe)
<a name="445"></a>        {
<a name="446"></a>            <span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>.Died(<span class="source_type">Level</span>.GetLocalPlayerController(),<span class="source_type">class</span> <span class="source_name">'DamageType'</span>, <span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>.Location);
<a name="447"></a>        }
<a name="448"></a>    }
<a name="449"></a>
<a name="450"></a>    <span class="source_comment">// PREVIOUS ROUTINE BELOW: (10/8/13)
</span><a name="451"></a>    <span class="source_comment">//     num = NumMonsters;
</span><a name="452"></a>    <span class="source_comment">//
</span><a name="453"></a>    <span class="source_comment">//     c = Level.ControllerList;
</span><a name="454"></a>    <span class="source_comment">//
</span><a name="455"></a>    <span class="source_comment">//     while (c != none && num &gt; 0)
</span><a name="456"></a>    <span class="source_comment">//     {
</span><a name="457"></a>    <span class="source_comment">//         nextC = c.NextController;
</span><a name="458"></a>    <span class="source_comment">//         if (KillZed(coffee))
</span><a name="459"></a>    <span class="source_comment">//             --num;
</span><a name="460"></a>    <span class="source_comment">//         c = nextC;
</span><a name="461"></a>    <span class="source_comment">//     }
</span><a name="462"></a>}
<a name="463"></a>
<a name="464"></a><span class="source_comment">// Added back in for mod compatibility.
</span><a name="465"></a><span class="source_comment">// We don't use this function.
</span><a name="466"></a>
<a name="467"></a>function <span class="source_type">bool</span> KillZed(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">c</span>)
<a name="468"></a>{
<a name="469"></a>    local <span class="source_type"><a href="../old2k4/monstercontroller.html" class="source">MonsterController</a></span> <span class="source_type">b</span>;
<a name="470"></a>
<a name="471"></a>    <span class="source_type">b</span> = <span class="source_type"><a href="../old2k4/monstercontroller.html" class="source">MonsterController</a></span>(<span class="source_type">c</span>);
<a name="472"></a>    if (<span class="source_type">b</span> != None)
<a name="473"></a>    {
<a name="474"></a>        if ( (<span class="source_type"><a href="../engine/vehicle.html" class="source">Vehicle</a></span>(<span class="source_type">b</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>) != None) && (<span class="source_type"><a href="../engine/vehicle.html" class="source">Vehicle</a></span>(<span class="source_type">b</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>).Driver != None) )
<a name="475"></a>            <span class="source_type"><a href="../engine/vehicle.html" class="source">Vehicle</a></span>(<span class="source_type">b</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>).Driver.KilledBy(<span class="source_type"><a href="../engine/vehicle.html" class="source">Vehicle</a></span>(<span class="source_type">b</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>).Driver);
<a name="476"></a>        else if (<span class="source_type">b</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != None)
<a name="477"></a>            <span class="source_type">b</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.KilledBy( <span class="source_type">b</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> );
<a name="478"></a>        if (<span class="source_type">b</span> != None)
<a name="479"></a>            <span class="source_type">b</span>.Destroy();
<a name="480"></a>        return true;
<a name="481"></a>    }
<a name="482"></a>    return false;
<a name="483"></a>}
<a name="484"></a>
<a name="485"></a><span class="source_comment">// Force slomo for a longer period of time when the boss dies
</span><a name="486"></a>function DoBossDeath()
<a name="487"></a>{
<a name="488"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="489"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> nextC;
<a name="490"></a>    local <span class="source_type">int</span> <span class="source_type">num</span>;
<a name="491"></a>
<a name="492"></a>    bZEDTimeActive =  true;
<a name="493"></a>    bSpeedingBackUp = false;
<a name="494"></a>    LastZedTimeEvent = <span class="source_type">Level</span>.TimeSeconds;
<a name="495"></a>    CurrentZEDTimeDuration = ZEDTimeDuration*<span class="source_int">2</span>;
<a name="496"></a>    SetGameSpeed(ZedTimeSlomoScale);
<a name="497"></a>
<a name="498"></a>    <span class="source_type">num</span> = NumMonsters;
<a name="499"></a>
<a name="500"></a>    <span class="source_type">c</span> = <span class="source_type">Level</span>.ControllerList;
<a name="501"></a>
<a name="502"></a>    <span class="source_comment">// turn off all the other zeds so they don't attack the player
</span><a name="503"></a>    while (<span class="source_type">c</span> != none && <span class="source_type">num</span> &gt; <span class="source_int">0</span>)
<a name="504"></a>    {
<a name="505"></a>        nextC = <span class="source_type">c</span>.NextController;
<a name="506"></a>        if (<span class="source_type"><a href="../kfmod/kfmonstercontroller.html" class="source">KFMonsterController</a></span>(<span class="source_type">C</span>)!=None)
<a name="507"></a>        {
<a name="508"></a>            <span class="source_type">C</span>.GotoState(<span class="source_name">'GameEnded'</span>);
<a name="509"></a>            --<span class="source_type">num</span>;
<a name="510"></a>        }
<a name="511"></a>        <span class="source_type">c</span> = nextC;
<a name="512"></a>    }
<a name="513"></a>
<a name="514"></a>}
<a name="515"></a>
<a name="516"></a>function <span class="source_type">bool</span> BecomeSpectator(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type">P</span>)
<a name="517"></a>{
<a name="518"></a>    if( <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>==None || <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator )
<a name="519"></a>        Return False; <span class="source_comment">// Already are spectator.
</span><a name="520"></a>    return Super.BecomeSpectator(<span class="source_type">P</span>);
<a name="521"></a>}
<a name="522"></a>
<a name="523"></a>function <span class="source_type">bool</span> AllowBecomeActivePlayer(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type">P</span>)
<a name="524"></a>{
<a name="525"></a>    if( <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>==None || !<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator )
<a name="526"></a>        Return False; <span class="source_comment">// Already are active player.
</span><a name="527"></a>    if ( !<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>.bMatchHasBegun || (NumPlayers &gt;= MaxPlayers) || <span class="source_type">P</span>.IsInState(<span class="source_name">'GameEnded'</span>) || <span class="source_type">P</span>.IsInState(<span class="source_name">'RoundEnded'</span>) )
<a name="528"></a>    {
<a name="529"></a>        <span class="source_type">P</span>.ReceiveLocalizedMessage(GameMessageClass, <span class="source_int">13</span>);
<a name="530"></a>        return false;
<a name="531"></a>    }
<a name="532"></a>    if ( (<span class="source_type">Level</span>.NetMode==NM_Standalone) && (NumBots&gt;InitialBots) )
<a name="533"></a>    {
<a name="534"></a>        RemainingBots--;
<a name="535"></a>        bPlayerBecameActive = true;
<a name="536"></a>    }
<a name="537"></a>    <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> = StartingCash;
<a name="538"></a>    return true;
<a name="539"></a>}
<a name="540"></a>
<a name="541"></a>function array&lt;<span class="source_type"><a href="../kfmod/kfgametype.html#IMClassList" class="source">IMClassList</a></span>&gt; LoadUpMonsterListFromGameType()
<a name="542"></a>{
<a name="543"></a>    local array&lt;<span class="source_type"><a href="../kfmod/kfgametype.html#IMClassList" class="source">IMClassList</a></span>&gt; InitMList;
<a name="544"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,j;
<a name="545"></a>    local <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; <span class="source_type">MC</span>;
<a name="546"></a>
<a name="547"></a>    for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;MonsterClasses.Length; <span class="source_type">i</span>++ )
<a name="548"></a>    {
<a name="549"></a>        if( MonsterClasses[<span class="source_type">i</span>].MClassName==<span class="source_string">""</span> || MonsterClasses[<span class="source_type">i</span>].MID==<span class="source_string">""</span> )
<a name="550"></a>        {
<a name="551"></a>            Continue;
<a name="552"></a>        }
<a name="553"></a>
<a name="554"></a>        <span class="source_type">MC</span> = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(DynamicLoadObject(MonsterClasses[<span class="source_type">i</span>].MClassName,<span class="source_type">Class</span><span class="source_name">'Class'</span>));
<a name="555"></a>        if( <span class="source_type">MC</span>==None )
<a name="556"></a>        {
<a name="557"></a>            Continue;
<a name="558"></a>        }
<a name="559"></a>
<a name="560"></a>        <span class="source_type">MC</span>.static.PreCacheAssets(<span class="source_type">Level</span>);
<a name="561"></a>
<a name="562"></a>        InitMList.Length = j+<span class="source_int">1</span>;
<a name="563"></a>        InitMList[j].MClass = <span class="source_type">MC</span>;
<a name="564"></a>        InitMList[j].ID = MonsterClasses[<span class="source_type">i</span>].MID;
<a name="565"></a>        j++;
<a name="566"></a>    }
<a name="567"></a>
<a name="568"></a>    return InitMList;
<a name="569"></a>}
<a name="570"></a>
<a name="571"></a>function array&lt;<span class="source_type"><a href="../kfmod/kfgametype.html#IMClassList" class="source">IMClassList</a></span>&gt; LoadUpMonsterListFromCollection()
<a name="572"></a>{
<a name="573"></a>    local array&lt;<span class="source_type"><a href="../kfmod/kfgametype.html#IMClassList" class="source">IMClassList</a></span>&gt; InitMList;
<a name="574"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,j;
<a name="575"></a>    local <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; <span class="source_type">MC</span>;
<a name="576"></a>
<a name="577"></a>    for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;MonsterCollection.default.MonsterClasses.Length; <span class="source_type">i</span>++ )
<a name="578"></a>    {
<a name="579"></a>        if( MonsterCollection.default.MonsterClasses[<span class="source_type">i</span>].MClassName==<span class="source_string">""</span> || MonsterCollection.default.MonsterClasses[<span class="source_type">i</span>].MID==<span class="source_string">""</span> )
<a name="580"></a>            Continue;
<a name="581"></a>
<a name="582"></a>        <span class="source_type">MC</span> = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(DynamicLoadObject(MonsterCollection.default.MonsterClasses[<span class="source_type">i</span>].MClassName,<span class="source_type">Class</span><span class="source_name">'Class'</span>));
<a name="583"></a>
<a name="584"></a>       if( <span class="source_type">MC</span>==None )
<a name="585"></a>            Continue;
<a name="586"></a>
<a name="587"></a>        <span class="source_type">MC</span>.static.PreCacheAssets(<span class="source_type">Level</span>);
<a name="588"></a>
<a name="589"></a>        InitMList.Length = j+<span class="source_int">1</span>;
<a name="590"></a>        InitMList[j].MClass = <span class="source_type">MC</span>;
<a name="591"></a>        InitMList[j].ID = MonsterCollection.default.MonsterClasses[<span class="source_type">i</span>].MID;
<a name="592"></a>        j++;
<a name="593"></a>    }
<a name="594"></a>    return InitMList;
<a name="595"></a>}
<a name="596"></a>
<a name="597"></a>function LoadUpMonsterList()
<a name="598"></a>{
<a name="599"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,j,q,<span class="source_type">c</span>,<span class="source_type">n</span>;
<a name="600"></a>    local <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; <span class="source_type">MC</span>;
<a name="601"></a>    local <span class="source_type">string</span> <span class="source_type">S</span>,ID;
<a name="602"></a>    local <span class="source_type">bool</span> bInitSq;
<a name="603"></a>    local array&lt;<span class="source_type"><a href="../kfmod/kfgametype.html#IMClassList" class="source">IMClassList</a></span>&gt; InitMList;
<a name="604"></a>
<a name="605"></a>    if( KFGameLength != GL_Custom )
<a name="606"></a>    {
<a name="607"></a>        InitMList = LoadUpMonsterListFromCollection();
<a name="608"></a>    }
<a name="609"></a>    else
<a name="610"></a>    {
<a name="611"></a>        InitMList = LoadUpMonsterListFromGameType();
<a name="612"></a>    }
<a name="613"></a>
<a name="614"></a>    <span class="source_comment">//Log("Got"@j@"monsters. Loading up monster squads...",'Init');
</span><a name="615"></a>    for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;MonsterSquad.Length; <span class="source_type">i</span>++ )
<a name="616"></a>    {
<a name="617"></a>        <span class="source_type">S</span> = MonsterSquad[<span class="source_type">i</span>];
<a name="618"></a>        if( <span class="source_type">S</span>==<span class="source_string">""</span> )
<a name="619"></a>            Continue;
<a name="620"></a>        bInitSq = False;
<a name="621"></a>        <span class="source_type">n</span> = <span class="source_int">0</span>;
<a name="622"></a>        While( <span class="source_type">S</span>!=<span class="source_string">""</span> )
<a name="623"></a>        {
<a name="624"></a>            q = <span class="source_type">int</span>(Left(<span class="source_type">S</span>,<span class="source_int">1</span>));
<a name="625"></a>            ID = Mid(<span class="source_type">S</span>,<span class="source_int">1</span>,<span class="source_int">1</span>);
<a name="626"></a>            <span class="source_type">S</span> = Mid(<span class="source_type">S</span>,<span class="source_int">2</span>);
<a name="627"></a>            <span class="source_type">MC</span> = None;
<a name="628"></a>            for( j=<span class="source_int">0</span>; j&lt;InitMList.Length; j++ )
<a name="629"></a>            {
<a name="630"></a>                if( InitMList[j].ID~=ID )
<a name="631"></a>                {
<a name="632"></a>                    <span class="source_type">MC</span> = InitMList[j].MClass;
<a name="633"></a>                    Break;
<a name="634"></a>                }
<a name="635"></a>            }
<a name="636"></a>            if( <span class="source_type">MC</span>==None )
<a name="637"></a>                Continue;
<a name="638"></a>            if( !bInitSq )
<a name="639"></a>            {
<a name="640"></a>                InitSquads.Length = <span class="source_type">c</span>+<span class="source_int">1</span>;
<a name="641"></a>                bInitSq = True;
<a name="642"></a>            }
<a name="643"></a>            while( (q--)&gt;<span class="source_int">0</span> )
<a name="644"></a>            {
<a name="645"></a>                InitSquads[<span class="source_type">c</span>].MSquad.Length = <span class="source_type">n</span>+<span class="source_int">1</span>;
<a name="646"></a>                InitSquads[<span class="source_type">c</span>].MSquad[<span class="source_type">n</span>] = <span class="source_type">MC</span>;
<a name="647"></a>                <span class="source_type">n</span>++;
<a name="648"></a>            }
<a name="649"></a>        }
<a name="650"></a>        if( bInitSq )
<a name="651"></a>            <span class="source_type">c</span>++;
<a name="652"></a>    }
<a name="653"></a>    <span class="source_comment">//Log("Got"@c@"monster squads.",'Init');
</span><a name="654"></a>    if( FallbackMonster==<span class="source_type">class</span><span class="source_name">'EliteKrall'</span> && InitMList.Length&gt;<span class="source_int">0</span> )
<a name="655"></a>        FallbackMonster = InitMList[<span class="source_int">0</span>].MClass;
<a name="656"></a>}
<a name="657"></a>
<a name="658"></a>event InitGame( <span class="source_type">string</span> Options, out <span class="source_type">string</span> <span class="source_type">Error</span> )
<a name="659"></a>{
<a name="660"></a><span class="source_comment">//  local int i,j;
</span><a name="661"></a>    local <span class="source_type"><a href="../kfmod/kflevelrules.html" class="source">KFLevelRules</a></span> KFLRit;
<a name="662"></a>    local <span class="source_type"><a href="../kfmod/shopvolume.html" class="source">ShopVolume</a></span> <span class="source_type">SH</span>;
<a name="663"></a>    local <span class="source_type"><a href="../kfmod/zombievolume.html" class="source">ZombieVolume</a></span> ZZ;
<a name="664"></a>    local <span class="source_type">string</span> InOpt;
<a name="665"></a>
<a name="666"></a>    Super.InitGame(Options, <span class="source_type">Error</span>);
<a name="667"></a>
<a name="668"></a>    MaxPlayers = Clamp(GetIntOption( Options, <span class="source_string">"MaxPlayers"</span>, MaxPlayers ),<span class="source_int">0</span>,<span class="source_int">6</span>);
<a name="669"></a>    default.MaxPlayers = Clamp( default.MaxPlayers, <span class="source_int">0</span>, <span class="source_int">6</span> );
<a name="670"></a>
<a name="671"></a>    foreach DynamicActors(<span class="source_type">class</span><span class="source_name">'KFLevelRules'</span>,KFLRit)
<a name="672"></a>    {
<a name="673"></a>        if(KFLRules==none)
<a name="674"></a>            KFLRules = KFLRit;
<a name="675"></a>        else Warn(<span class="source_string">"MULTIPLE KFLEVELRULES FOUND!!!!!"</span>);
<a name="676"></a>    }
<a name="677"></a>    foreach AllActors(<span class="source_type">class</span><span class="source_name">'ShopVolume'</span>,<span class="source_type">SH</span>)
<a name="678"></a>    {
<a name="679"></a>        if(!<span class="source_type">SH</span>.bObjectiveModeOnly || bUsingObjectiveMode )
<a name="680"></a>        {
<a name="681"></a>            ShopList[ShopList.Length] = <span class="source_type">SH</span>;
<a name="682"></a>        }
<a name="683"></a>    }
<a name="684"></a>
<a name="685"></a>    foreach DynamicActors(<span class="source_type">class</span><span class="source_name">'ZombieVolume'</span>,ZZ)
<a name="686"></a>    {
<a name="687"></a>        if(!ZZ.bObjectiveModeOnly || bUsingObjectiveMode)
<a name="688"></a>        {
<a name="689"></a>            ZedSpawnList[ZedSpawnList.Length] = ZZ;
<a name="690"></a>        }
<a name="691"></a>    }
<a name="692"></a>
<a name="693"></a>    <span class="source_comment">//provide default rules if mapper did not need custom one
</span><a name="694"></a>    if(KFLRules==none)
<a name="695"></a>        KFLRules = spawn(<span class="source_type">class</span><span class="source_name">'KFLevelRules'</span>);
<a name="696"></a>
<a name="697"></a>    log(<span class="source_string">"KFLRules = "</span>$KFLRules);
<a name="698"></a>
<a name="699"></a>    InOpt = ParseOption(Options, <span class="source_string">"UseBots"</span>);
<a name="700"></a>    if ( InOpt != <span class="source_string">""</span> )
<a name="701"></a>    {
<a name="702"></a>        bNoBots = <span class="source_type">bool</span>(InOpt);
<a name="703"></a>    }
<a name="704"></a>
<a name="705"></a>    log(<span class="source_string">"Game length = "</span>$KFGameLength);
<a name="706"></a>
<a name="707"></a>
<a name="708"></a>    MonsterCollection = SpecialEventMonsterCollections[ GetSpecialEventType() ];
<a name="709"></a>    if( KFGameLength != GL_Custom )
<a name="710"></a>    {
<a name="711"></a>        <span class="source_comment">// Set up the default game type settings
</span><a name="712"></a>        bUseEndGameBoss = true;
<a name="713"></a>        bRespawnOnBoss = true;
<a name="714"></a>        if( StandardMonsterClasses.Length &gt; <span class="source_int">0</span> )
<a name="715"></a>        {
<a name="716"></a>            MonsterClasses = StandardMonsterClasses;
<a name="717"></a>        }
<a name="718"></a>        MonsterSquad = StandardMonsterSquads;
<a name="719"></a>        MaxZombiesOnce = StandardMaxZombiesOnce;
<a name="720"></a>        bCustomGameLength = false;
<a name="721"></a>        UpdateGameLength();
<a name="722"></a>
<a name="723"></a>        <span class="source_comment">// Set difficulty based values
</span><a name="724"></a>        if ( GameDifficulty &gt;= <span class="source_int">7.0</span> ) <span class="source_comment">// Hell on Earth
</span><a name="725"></a>        {
<a name="726"></a>            TimeBetweenWaves = TimeBetweenWavesHell;
<a name="727"></a>            StartingCash = StartingCashHell;
<a name="728"></a>            MinRespawnCash = MinRespawnCashHell;
<a name="729"></a>        }
<a name="730"></a>        else if ( GameDifficulty &gt;= <span class="source_int">5.0</span> ) <span class="source_comment">// Suicidal
</span><a name="731"></a>        {
<a name="732"></a>            TimeBetweenWaves = TimeBetweenWavesSuicidal;
<a name="733"></a>            StartingCash = StartingCashSuicidal;
<a name="734"></a>            MinRespawnCash = MinRespawnCashSuicidal;
<a name="735"></a>        }
<a name="736"></a>        else if ( GameDifficulty &gt;= <span class="source_int">4.0</span> ) <span class="source_comment">// Hard
</span><a name="737"></a>        {
<a name="738"></a>            TimeBetweenWaves = TimeBetweenWavesHard;
<a name="739"></a>            StartingCash = StartingCashHard;
<a name="740"></a>            MinRespawnCash = MinRespawnCashHard;
<a name="741"></a>        }
<a name="742"></a>        else if ( GameDifficulty &gt;= <span class="source_int">2.0</span> ) <span class="source_comment">// Normal
</span><a name="743"></a>        {
<a name="744"></a>            TimeBetweenWaves = TimeBetweenWavesNormal;
<a name="745"></a>            StartingCash = StartingCashNormal;
<a name="746"></a>            MinRespawnCash = MinRespawnCashNormal;
<a name="747"></a>        }
<a name="748"></a>        else <span class="source_comment">//if ( GameDifficulty == 1.0 ) // Beginner
</span><a name="749"></a>        {
<a name="750"></a>            TimeBetweenWaves = TimeBetweenWavesBeginner;
<a name="751"></a>            StartingCash = StartingCashBeginner;
<a name="752"></a>            MinRespawnCash = MinRespawnCashBeginner;
<a name="753"></a>        }
<a name="754"></a>
<a name="755"></a>        InitialWave = <span class="source_int">0</span>;
<a name="756"></a>
<a name="757"></a>        PrepareSpecialSquads();
<a name="758"></a>    }
<a name="759"></a>    else
<a name="760"></a>    {
<a name="761"></a>        bCustomGameLength = true;
<a name="762"></a>        UpdateGameLength();
<a name="763"></a>    }
<a name="764"></a>
<a name="765"></a>    LoadUpMonsterList();
<a name="766"></a>}
<a name="767"></a>
<a name="768"></a>simulated function PrepareSpecialSquadsFromGameType()
<a name="769"></a>{
<a name="770"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="771"></a>
<a name="772"></a>    if( KFGameLength == GL_Short )
<a name="773"></a>    {
<a name="774"></a>        <span class="source_type">FinalWave</span> = <span class="source_int">4</span>;
<a name="775"></a>
<a name="776"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;<span class="source_type">FinalWave</span>; <span class="source_type">i</span>++ )
<a name="777"></a>        {
<a name="778"></a>            Waves[<span class="source_type">i</span>] = ShortWaves[<span class="source_type">i</span>];
<a name="779"></a>            SpecialSquads[<span class="source_type">i</span>] = ShortSpecialSquads[<span class="source_type">i</span>];
<a name="780"></a>        }
<a name="781"></a>    }
<a name="782"></a>    else if( KFGameLength == GL_Normal )
<a name="783"></a>    {
<a name="784"></a>        <span class="source_type">FinalWave</span> = <span class="source_int">7</span>;
<a name="785"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;<span class="source_type">FinalWave</span>; <span class="source_type">i</span>++ )
<a name="786"></a>        {
<a name="787"></a>            Waves[<span class="source_type">i</span>] = NormalWaves[<span class="source_type">i</span>];
<a name="788"></a>            SpecialSquads[<span class="source_type">i</span>] = NormalSpecialSquads[<span class="source_type">i</span>];
<a name="789"></a>        }
<a name="790"></a>    }
<a name="791"></a>    else if( KFGameLength == GL_Long )
<a name="792"></a>    {
<a name="793"></a>        <span class="source_type">FinalWave</span> = <span class="source_int">10</span>;
<a name="794"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;<span class="source_type">FinalWave</span>; <span class="source_type">i</span>++ )
<a name="795"></a>        {
<a name="796"></a>            Waves[<span class="source_type">i</span>] = LongWaves[<span class="source_type">i</span>];
<a name="797"></a>            SpecialSquads[<span class="source_type">i</span>] = LongSpecialSquads[<span class="source_type">i</span>];
<a name="798"></a>        }
<a name="799"></a>    }
<a name="800"></a>}
<a name="801"></a>
<a name="802"></a>simulated function PrepareSpecialSquadsFromCollection()
<a name="803"></a>{
<a name="804"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="805"></a>    if( KFGameLength == GL_Short )
<a name="806"></a>    {
<a name="807"></a>        <span class="source_type">FinalWave</span> = <span class="source_int">4</span>;
<a name="808"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;<span class="source_type">FinalWave</span>; <span class="source_type">i</span>++ )
<a name="809"></a>        {
<a name="810"></a>            Waves[<span class="source_type">i</span>] = ShortWaves[<span class="source_type">i</span>];
<a name="811"></a>            MonsterCollection.default.SpecialSquads[<span class="source_type">i</span>] = MonsterCollection.default.ShortSpecialSquads[<span class="source_type">i</span>];
<a name="812"></a>        }
<a name="813"></a>    }
<a name="814"></a>    else if( KFGameLength == GL_Normal )
<a name="815"></a>    {
<a name="816"></a>        <span class="source_type">FinalWave</span> = <span class="source_int">7</span>;
<a name="817"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;<span class="source_type">FinalWave</span>; <span class="source_type">i</span>++ )
<a name="818"></a>        {
<a name="819"></a>            Waves[<span class="source_type">i</span>] = NormalWaves[<span class="source_type">i</span>];
<a name="820"></a>            MonsterCollection.default.SpecialSquads[<span class="source_type">i</span>] = MonsterCollection.default.NormalSpecialSquads[<span class="source_type">i</span>];
<a name="821"></a>        }
<a name="822"></a>    }
<a name="823"></a>    else if( KFGameLength == GL_Long )
<a name="824"></a>    {
<a name="825"></a>        <span class="source_type">FinalWave</span> = <span class="source_int">10</span>;
<a name="826"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;<span class="source_type">FinalWave</span>; <span class="source_type">i</span>++ )
<a name="827"></a>        {
<a name="828"></a>            Waves[<span class="source_type">i</span>] = LongWaves[<span class="source_type">i</span>];
<a name="829"></a>            MonsterCollection.default.SpecialSquads[<span class="source_type">i</span>] = MonsterCollection.default.LongSpecialSquads[<span class="source_type">i</span>];
<a name="830"></a>        }
<a name="831"></a>    }
<a name="832"></a>}
<a name="833"></a>
<a name="834"></a>simulated function PrepareSpecialSquads()
<a name="835"></a>{
<a name="836"></a>    if( SpecialSquads.Length == <span class="source_int">0</span> )
<a name="837"></a>    {
<a name="838"></a>        PrepareSpecialSquadsFromCollection();
<a name="839"></a>    }
<a name="840"></a>    else
<a name="841"></a>    {
<a name="842"></a>        PrepareSpecialSquadsFromGameType();
<a name="843"></a>    }
<a name="844"></a>}
<a name="845"></a>
<a name="846"></a><span class="source_comment">// For the GUI buy menu
</span><a name="847"></a>simulated function <span class="source_type">float</span> GetDifficulty()
<a name="848"></a>{
<a name="849"></a>    return GameDifficulty;
<a name="850"></a>}
<a name="851"></a>
<a name="852"></a>function UpdateGameLength()
<a name="853"></a>{
<a name="854"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="855"></a>
<a name="856"></a>    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="857"></a>    {
<a name="858"></a>        if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>) != none && <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SteamStatsAndAchievements != none )
<a name="859"></a>        {
<a name="860"></a>            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SteamStatsAndAchievements.bUsedCheats = <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SteamStatsAndAchievements.bUsedCheats || bCustomGameLength;
<a name="861"></a>        }
<a name="862"></a>    }
<a name="863"></a>}
<a name="864"></a>
<a name="865"></a>static function PrecacheGameStaticMeshes(<span class="source_type"><a href="../engine/levelinfo.html" class="source">LevelInfo</a></span> myLevel)
<a name="866"></a>{
<a name="867"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.blood.bloodsplash_1'</span>);
<a name="868"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.blood.bloodsplash_2'</span>);
<a name="869"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.blood.bloodsplash_3'</span>);
<a name="870"></a>
<a name="871"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.gibbs.bloat_explode'</span>);
<a name="872"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.gibbs.Brain_Chunk_1'</span>);
<a name="873"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.gibbs.Brain_Chunk_2'</span>);
<a name="874"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.gibbs.Brain_Chunk_3'</span>);
<a name="875"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.gibbs.Brain_Full'</span>);
<a name="876"></a>
<a name="877"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.gibbs.eyeball'</span>);
<a name="878"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.gibbs.intestines'</span>);
<a name="879"></a>
<a name="880"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.heads.britsoldier1head'</span>);
<a name="881"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.heads.britsoldier3head'</span>);
<a name="882"></a>
<a name="883"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.heads.mikehead'</span>);
<a name="884"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.heads.riotcop1head'</span>);
<a name="885"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.heads.riotcop2head'</span>);
<a name="886"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.heads.chrishead'</span>);
<a name="887"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.limbs.british_riot_police_arm_resource'</span>);
<a name="888"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.limbs.british_riot_police_leg_resource'</span>);
<a name="889"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'kf_gore_trip_sm.puke.puke_chunk'</span>);
<a name="890"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'KF_pickups2_Trip.Supers.MP7_Dart'</span>);
<a name="891"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'KF_generic_sm.Bullet_Shells.Handcannon_Shell'</span>);
<a name="892"></a>
<a name="893"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'KillingFloorStatics.FragProjectile'</span>);
<a name="894"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'KillingFloorStatics.Gib1'</span>);
<a name="895"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'KillingFloorStatics.Gib2'</span>);
<a name="896"></a>
<a name="897"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'KillingFloorStatics.Gib2'</span>);
<a name="898"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'KillingFloorStatics.Gib2'</span>);
<a name="899"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'KillingFloorStatics.Gib2'</span>);
<a name="900"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'KillingFloorStatics.Gib2'</span>);
<a name="901"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'KillingFloorStatics.Gib2'</span>);
<a name="902"></a>    myLevel.AddPrecacheStaticMesh(<span class="source_type">StaticMesh</span><span class="source_name">'EffectsSM.Ger_Tracer'</span>);
<a name="903"></a> }
<a name="904"></a>
<a name="905"></a>static function PrecacheGameTextures(<span class="source_type"><a href="../engine/levelinfo.html" class="source">LevelInfo</a></span> myLevel)
<a name="906"></a>{
<a name="907"></a>    <span class="source_type">class</span><span class="source_name">'xTeamGame'</span>.static.PrecacheGameTextures(myLevel);
<a name="908"></a>
<a name="909"></a>    <span class="source_comment">// new weapons 1st person
</span><a name="910"></a>    <span class="source_comment">//hands
</span><a name="911"></a><span class="source_comment">//    myLevel.AddPrecacheMaterial(Texture'KF_Weapons_Trip_T.hands.hands_d');
</span><a name="912"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.hands.hands_1stP_riot_D'</span>);
<a name="913"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KF_Weapons_Trip_T.hands.hands_1stP_military_diff'</span>);
<a name="914"></a>
<a name="915"></a>    <span class="source_comment">//equipment
</span><a name="916"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.equipment.MedInjector_cmb'</span>);
<a name="917"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.equipment.MedInjector_env_cmb'</span>);
<a name="918"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.equipment.MedInjector_D'</span>);
<a name="919"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.equipment.Welder_cmb'</span>);
<a name="920"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.equipment.Welder_env_cmb'</span>);
<a name="921"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.equipment.Welder_D'</span>);
<a name="922"></a>
<a name="923"></a>    <span class="source_comment">//melee
</span><a name="924"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.Axe_cmb'</span>);
<a name="925"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.Axe_env_cmb'</span>);
<a name="926"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.Axe_D'</span>);
<a name="927"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.Axe_bloody_cmb'</span>);
<a name="928"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.Axe_bloody_env_cmb'</span>);
<a name="929"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.Axe_bloody'</span>);
<a name="930"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Melee.Chainsaw_cmb');
</span><a name="931"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Melee.Chainsaw_env_cmb');
</span><a name="932"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons_Trip_T.Melee.Chainsaw_D');
</span><a name="933"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Melee.Chainsaw_bloody_cmb');
</span><a name="934"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Melee.Chainsaw_bloody_env_cmb');
</span><a name="935"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons_Trip_T.Melee.Chainsaw_bloody');
</span><a name="936"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.knife_cmb'</span>);
<a name="937"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.knife_env_cmb'</span>);
<a name="938"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.knife_D'</span>);
<a name="939"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.knife_bloody_cmb'</span>);
<a name="940"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.knife_bloody_env_cmb'</span>);
<a name="941"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.knife_bloody'</span>);
<a name="942"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.machete_cmb'</span>);
<a name="943"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.machete_env_cmb'</span>);
<a name="944"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.machete_D'</span>);
<a name="945"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.machete_bloody_cmb'</span>);
<a name="946"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.machete_bloody_env_cmb'</span>);
<a name="947"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Melee.machete_bloody'</span>);
<a name="948"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KillingFloorWeapons.Frag_Grenade.FragSkin'</span>);
<a name="949"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KillingFloorWeapons.Frag_Grenade.GrenadeSPEC'</span>);
<a name="950"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Melee.Katana_D');
</span><a name="951"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Melee.Katana_cmb');
</span><a name="952"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Melee.Katana_env_cmb');
</span><a name="953"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Melee.Katana_Bloody');
</span><a name="954"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Melee.Katana_bloody_cmb');
</span><a name="955"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Melee.Katana_bloody_env_cmb');
</span><a name="956"></a>
<a name="957"></a>    <span class="source_comment">//Specials
</span><a name="958"></a>    <span class="source_comment">/*myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Special.AA12_cmb');
<a name="959"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Special.AA12_env_cmb');
<a name="960"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Special.AA12_D');
<a name="961"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Special.M32_cmb');
<a name="962"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Special.M32_env_cmb');
<a name="963"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Special.M32_D');
<a name="964"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Special.M79_cmb');
<a name="965"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Special.M79_env_cmb');
<a name="966"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Special.M79_Diff');
<a name="967"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Special.Mp_7_cmb');
<a name="968"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Special.Mp_7_env_cmb');
<a name="969"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Special.Mp_7_D');
<a name="970"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Special.Mp_7_dot');
<a name="971"></a>    myLevel.AddPrecacheMaterial(Material'KF_Weapons2_Trip_T.Special.MP_7_SHDR');
<a name="972"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Special.pipebomb_cmb');
<a name="973"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Special.pipebomb_env_cmb');
<a name="974"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Special.pipebomb_D');*/</span>
<a name="975"></a>
<a name="976"></a>    <span class="source_comment">//pistols
</span><a name="977"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Pistols.Ninemm_cmb'</span>);
<a name="978"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Pistols.Ninemm_env_cmb'</span>);
<a name="979"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Pistols.Ninemm_D'</span>);
<a name="980"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Pistols.Deagle_cmb'</span>);
<a name="981"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Pistols.Deagle_env_cmb'</span>);
<a name="982"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Pistols.Deagle_D'</span>);
<a name="983"></a>
<a name="984"></a>    <span class="source_comment">//rifles
</span><a name="985"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Rifles.winchester_cmb'</span>);
<a name="986"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Rifles.winchester_env_cmb'</span>);
<a name="987"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Rifles.winchester_D'</span>);
<a name="988"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Rifles.Bullpup_cmb'</span>);
<a name="989"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Rifles.Bullpup_env_cmb'</span>);
<a name="990"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Rifles.Bullpup_D'</span>);
<a name="991"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KF_Weapons_Trip_T.Rifles.reflex_sight_A_unlit'</span>);
<a name="992"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Rifles.Reflexsight_A'</span>);
<a name="993"></a>    <span class="source_comment">/*myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Rifles.Crossbow_cmb');
<a name="994"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Rifles.Crossbow_env_cmb');
<a name="995"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons_Trip_T.Rifles.Crossbow_D');
<a name="996"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons_Trip_T.Rifles.CBLens');
<a name="997"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Rifle.M14_cmb');
<a name="998"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Rifle.M14_env_cmb');
<a name="999"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Rifle.M14_D');
<a name="1000"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Rifle.Scar_cmb');
<a name="1001"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Rifle.Scar_env_cmb');
<a name="1002"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Rifle.Scar_D');
<a name="1003"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Rifle.Scar_Dot_Alpha');
<a name="1004"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Rifle.Scar_Lens_D');
<a name="1005"></a>    myLevel.AddPrecacheMaterial(Material'KF_Weapons2_Trip_T.Rifle.Scar_lens_Shader');
<a name="1006"></a>    myLevel.AddPrecacheMaterial(Material'KF_Weapons2_Trip_T.Rifle.Scar_SHDR');
<a name="1007"></a>    MyLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Rifle.AK47_cmb');
<a name="1008"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons2_Trip_T.Rifle.AK47_env_cmb');
<a name="1009"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons2_Trip_T.Rifle.AK47_D');*/</span>
<a name="1010"></a>
<a name="1011"></a>    <span class="source_comment">//Shotties
</span><a name="1012"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Shotguns.Shotgun_cmb'</span>);
<a name="1013"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Weapons_Trip_T.Shotguns.Shotgun_env_cmb'</span>);
<a name="1014"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons_Trip_T.Shotguns.Shotgun_D'</span>);
<a name="1015"></a>    <span class="source_comment">/*myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Shotguns.Boomstick_cmb');
<a name="1016"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Shotguns.Boomstick_env_cmb');
<a name="1017"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons_Trip_T.Shotguns.Boomstick_D');*/</span>
<a name="1018"></a>
<a name="1019"></a>    <span class="source_comment">//Supers
</span><a name="1020"></a>    <span class="source_comment">/*myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Supers.LAW_cmb');
<a name="1021"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Supers.LAW_env_cmb');
<a name="1022"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons_Trip_T.Supers.LAW_D');
<a name="1023"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Supers.Rocket_cmb');
<a name="1024"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Supers.Rocket_env_cmb');
<a name="1025"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons_Trip_T.Supers.Rocket_D');
<a name="1026"></a>    myLevel.AddPrecacheMaterial(Shader'KF_Weapons_Trip_T.Supers.law_reddot_shdr');
<a name="1027"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons_Trip_T.Supers.Law_Sight_Dot_A');
<a name="1028"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Supers.Flamethrower_cmb');
<a name="1029"></a>    myLevel.AddPrecacheMaterial(Combiner'KF_Weapons_Trip_T.Supers.Flamethrower_env_cmb');
<a name="1030"></a>    myLevel.AddPrecacheMaterial(Texture'KF_Weapons_Trip_T.Supers.Flamethrower_D');*/</span>
<a name="1031"></a>
<a name="1032"></a>
<a name="1033"></a>    <span class="source_comment">// new weapons 3rd person
</span><a name="1034"></a>    <span class="source_comment">// Eqipment
</span><a name="1035"></a>
<a name="1036"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.equipment.Syringe_3rd'</span>);
<a name="1037"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.equipment.Welder_3rd'</span>);
<a name="1038"></a>
<a name="1039"></a>    <span class="source_comment">// Melee
</span><a name="1040"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.melee.Axe_3rd'</span>);
<a name="1041"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd_Trip_T.melee.Chainsaw_3rd');
</span><a name="1042"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.melee.Knife_3rd'</span>);
<a name="1043"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.melee.Machete_3rd'</span>);
<a name="1044"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.melee.SawChain_3rd'</span>);
<a name="1045"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd2_Trip_T.melee.Katana_3rd');
</span><a name="1046"></a>
<a name="1047"></a>    <span class="source_comment">// Pistols
</span><a name="1048"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.Pistols.Ninemm_3rd'</span>);
<a name="1049"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.Pistols.Handcannon_3rd'</span>);
<a name="1050"></a>
<a name="1051"></a>    <span class="source_comment">// Rifles
</span><a name="1052"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.Rifles.bullup_3rd'</span>);
<a name="1053"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd_Trip_T.Rifles.Crossbow_3rd');
</span><a name="1054"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.Rifles.Winchester_3rd'</span>);
<a name="1055"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KillingFloorWeapons.Xbow.CommandoCross');
</span><a name="1056"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd2_Trip_T.Rifles.AK47_3rd');
</span><a name="1057"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd2_Trip_T.Rifles.M14_3rd');
</span><a name="1058"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd2_Trip_T.Rifles.scar_3rd');
</span><a name="1059"></a>
<a name="1060"></a>    <span class="source_comment">// Shotgun
</span><a name="1061"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd_Trip_T.Shotguns.CombatShotgun_3rd'</span>);
<a name="1062"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd_Trip_T.Shotguns.HuntingShot_3rd');
</span><a name="1063"></a>
<a name="1064"></a>    <span class="source_comment">// Specials
</span><a name="1065"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd_Trip_T.Super.Flamethrower_3rd');
</span><a name="1066"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd_Trip_T.Super.LAW_3rd');
</span><a name="1067"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KillingFloorWeapons.LAW.RocketSkin');
</span><a name="1068"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KillingFloorWeapons.Frag_Grenade.FragSkin3P'</span>);
<a name="1069"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd2_Trip_T.Super.AA12_3rd');
</span><a name="1070"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd2_Trip_T.Super.m32_3rd');
</span><a name="1071"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd2_Trip_T.Super.M79_3rd');
</span><a name="1072"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd2_Trip_T.Super.MP7_3rd');
</span><a name="1073"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Texture'KF_Weapons3rd2_Trip_T.Super.pipebomb_3rd');
</span><a name="1074"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Combiner'KF_Weapons3rd2_Trip_T.Super.pipebomb3rd_cmb');
</span><a name="1075"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(material'KF_Weapons3rd2_Trip_T.Super.pipebomb_3rd_shdr');
</span><a name="1076"></a>
<a name="1077"></a>    <span class="source_comment">// Characters
</span><a name="1078"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Soldier_Trip_T.Uniforms.brit_soldier_I_cmb'</span>);
<a name="1079"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Soldier_Trip_T.Uniforms.brit_soldier_env_cmb'</span>);
<a name="1080"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Soldier_Trip_T.Uniforms.brit_soldier_I_diff'</span>);
<a name="1081"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Soldier_Trip_T.Uniforms.british_riot_police_cmb'</span>);
<a name="1082"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Soldier_Trip_T.Uniforms.british_riot_police_env_cmb'</span>);
<a name="1083"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Soldier_Trip_T.Uniforms.british_riot_police_diff'</span>);
<a name="1084"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Soldier_Trip_T.Uniforms.british_riot_police_mask'</span>);
<a name="1085"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KF_Soldier_Trip_T.Uniforms.british_riot_police_fb'</span>);
<a name="1086"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/shader.html" class="source">Shader</a></span><span class="source_name">'KF_Soldier_Trip_T.Uniforms.british_riot_police_I_shd'</span>);
<a name="1087"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Soldier_Trip_T.heads.chris_head_diff'</span>);
<a name="1088"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Soldier_Trip_T.heads.mike_head_diff'</span>);
<a name="1089"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Soldier_Trip_T.Uniforms.shopkeeper_diff'</span>);
<a name="1090"></a>
<a name="1091"></a>
<a name="1092"></a>
<a name="1093"></a>
<a name="1094"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KF_Specimens_Trip_T.reflection_cube'</span>);
<a name="1095"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KF_Specimens_Trip_T.reflection_env'</span>);
<a name="1096"></a>
<a name="1097"></a>
<a name="1098"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.CloakGradient'</span>);
<a name="1099"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFCharacters.FPDeviceBloomAmber'</span>);
<a name="1100"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'PatchTex.Common.ZedBurnSkin'</span>);
<a name="1101"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFCharacters.FPDeviceBloomRed'</span>);
<a name="1102"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFCharacters.DavinSkin'</span>);
<a name="1103"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Specimens_Trip_T_Two.burns_diff'</span>);
<a name="1104"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Specimens_Trip_T_Two.burns_emissive_mask'</span>);
<a name="1105"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Specimens_Trip_T_Two.burns_energy_cmb'</span>);
<a name="1106"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Specimens_Trip_T_Two.burns_env_cmb'</span>);
<a name="1107"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Specimens_Trip_T_Two.burns_fire_cmb'</span>);
<a name="1108"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KF_Specimens_Trip_T_Two.burns_shdr'</span>);
<a name="1109"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">Combiner</a></span><span class="source_name">'KF_Specimens_Trip_T_Two.burns_cmb'</span>);
<a name="1110"></a>
<a name="1111"></a>    <span class="source_comment">// Explosives/Fire
</span><a name="1112"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.explosions.shrapnel1'</span>);
<a name="1113"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.dirtchunks'</span>);
<a name="1114"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.snowchunksfinal'</span>);
<a name="1115"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.explosions.radialexplosion_1frame'</span>);
<a name="1116"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.explosions.grenademark_snow'</span>);
<a name="1117"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.concrete_chunks'</span>);
<a name="1118"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.explosions.shrapnel3'</span>);
<a name="1119"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.waterring_2frame'</span>);
<a name="1120"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.explosions.impact_2frame'</span>);
<a name="1121"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.watersplashcloud'</span>);
<a name="1122"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.watersplatter2'</span>);
<a name="1123"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.watersmoke'</span>);
<a name="1124"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.woodchunksfinal'</span>);
<a name="1125"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.rock_chunks'</span>);
<a name="1126"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Misc.smoke_animated'</span>);
<a name="1127"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KillingFloorTextures.LondonCommon.fire3'</span>);
<a name="1128"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.explosions.impact_2frame'</span>);
<a name="1129"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Misc.healingFXflare'</span>);
<a name="1130"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Misc.healingFX'</span>);
<a name="1131"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.explosions.radialexplosion_1frame'</span>);
<a name="1132"></a>
<a name="1133"></a>    <span class="source_comment">// Bullet hits
</span><a name="1134"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHoles.bullethole_cloth'</span>);
<a name="1135"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHoles.bullethole_concrete'</span>);
<a name="1136"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHoles.bullethole_dirt'</span>);
<a name="1137"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHoles.bullethole_flesh'</span>);
<a name="1138"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHoles.bullethole_ice'</span>);
<a name="1139"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHoles.bullethole_metal'</span>);
<a name="1140"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHoles.bullethole_metalarmor'</span>);
<a name="1141"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHoles.bullethole_snow'</span>);
<a name="1142"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHoles.bullethole_wood'</span>);
<a name="1143"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.Smoke.Sparks'</span>);
<a name="1144"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.papersmoke'</span>);
<a name="1145"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.stonesmokefinal'</span>);
<a name="1146"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.dirtclouddark'</span>);
<a name="1147"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.dirtcloud'</span>);
<a name="1148"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.dirtchunks'</span>);
<a name="1149"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.groundfinal'</span>);
<a name="1150"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.groundthick'</span>);
<a name="1151"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.grasschunks'</span>);
<a name="1152"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.stonefinal'</span>);
<a name="1153"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.stonechunksfinal'</span>);
<a name="1154"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.snowfinal'</span>);
<a name="1155"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.icechunks'</span>);
<a name="1156"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.sparkfinal2'</span>);
<a name="1157"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.groundchunksfinal'</span>);
<a name="1158"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.rubbersmokefinal'</span>);
<a name="1159"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.woodfinal'</span>);
<a name="1160"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.woodsmokefinal2'</span>);
<a name="1161"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.explosions.rocketmark_dirt'</span>);
<a name="1162"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.explosions.rocketmark_snow'</span>);
<a name="1163"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.Smoke.LightSmoke_8Frame'</span>);
<a name="1164"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'ROEffects.Skins.Rexpt'</span>);
<a name="1165"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'ROEffects.SmokeAlphab_t'</span>);
<a name="1166"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorTextures.LondonCommon.fire3'</span>);
<a name="1167"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'kf_fx_trip_t.Misc.KFTracerShot'</span>);
<a name="1168"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.Weapons.MPmuzzleflash_4frame'</span>);
<a name="1169"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.Smoke.MuzzleCorona1stP'</span>);
<a name="1170"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.Weapons.Karmuzzle_2frame'</span>);
<a name="1171"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'kf_fx_trip_t.Misc.kfnoise'</span>);
<a name="1172"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.Weapons.muzzle_4frame3rd'</span>);
<a name="1173"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.metalsmokefinal'</span>);
<a name="1174"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHoles.Melee_Slash'</span>);
<a name="1175"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.explosions.grenademark_dirt'</span>);
<a name="1176"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.MetalHitKF'</span>);
<a name="1177"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.KFFlames'</span>);
<a name="1178"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorWeapons.FlameThrower.FlameThrowerFire'</span>);
<a name="1179"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.explosions.DSmoke_2'</span>);
<a name="1180"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.Weapons.MP3rdPmuzzle_smoke1frame'</span>);
<a name="1181"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.glowfinal'</span>);
<a name="1182"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.Weapons.PTRDmuzzle_2frame'</span>);
<a name="1183"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'PatchTex.Common.CreteWall'</span>);
<a name="1184"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.Weapons.STGmuzzleflash_4frame'</span>);
<a name="1185"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorWeapons.FlameThrower.PilotBloom'</span>);
<a name="1186"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_Tex.BulletHits.paperchunks'</span>);
<a name="1187"></a>
<a name="1188"></a>    <span class="source_comment">//Gore
</span><a name="1189"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.bloat_explode_blood'</span>);
<a name="1190"></a><span class="source_comment">//  myLevel.AddPrecacheMaterial(Texture'kf_fx_trip_t.Gore.bloat_vomit_spray');
</span><a name="1191"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.bloat_vomit_spray_anim'</span>);
<a name="1192"></a><span class="source_comment">//  myLevel.AddPrecacheMaterial(Texture'kf_fx_trip_t.Gore.blood_cube');
</span><a name="1193"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.blood_drips'</span>);
<a name="1194"></a><span class="source_comment">//  myLevel.AddPrecacheMaterial(Texture'kf_fx_trip_t.Gore.blood_hit_a');
</span><a name="1195"></a><span class="source_comment">//  myLevel.AddPrecacheMaterial(Texture'kf_fx_trip_t.Gore.blood_hit_b');
</span><a name="1196"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.blood_hit_c'</span>);
<a name="1197"></a><span class="source_comment">//  myLevel.AddPrecacheMaterial(combiner'kf_fx_trip_t.Gore.blood_hit_c_env_cmb');
</span><a name="1198"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.blood_lifemap'</span>);
<a name="1199"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.brain'</span>);
<a name="1200"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/shader.html" class="source">Shader</a></span><span class="source_name">'kf_fx_trip_t.Gore.brain_SHDR'</span>);
<a name="1201"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.eyeball_diff'</span>);
<a name="1202"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">combiner</a></span><span class="source_name">'kf_fx_trip_t.Gore.eyeball_env_cmb'</span>);
<a name="1203"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">combiner</a></span><span class="source_name">'kf_fx_trip_t.Gore.eyebayll_cmb'</span>);
<a name="1204"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">combiner</a></span><span class="source_name">'kf_fx_trip_t.Gore.intestines_cmb'</span>);
<a name="1205"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.intestines_diff'</span>);
<a name="1206"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/combiner.html" class="source">combiner</a></span><span class="source_name">'kf_fx_trip_t.Gore.intestines_env_cmb'</span>);
<a name="1207"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.KF_Gore_Limbs_diff'</span>);
<a name="1208"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.limbremoval_blood'</span>);
<a name="1209"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.limbremoval_blood_b'</span>);
<a name="1210"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.pukechunk_diffuse'</span>);
<a name="1211"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.kf_bloodspray_b_diff'</span>);
<a name="1212"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.kf_bloodspray_diff'</span>);
<a name="1213"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.kf_bloodspray_e_diff'</span>);
<a name="1214"></a>
<a name="1215"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.pukechunk_diffuse'</span>);
<a name="1216"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'kf_fx_trip_t.Gore.vomit_16f'</span>);
<a name="1217"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreDecals.Splatter_001'</span>);
<a name="1218"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreDecals.Splatter_002'</span>);
<a name="1219"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreDecals.Splatter_003'</span>);
<a name="1220"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreDecals.Splatter_004'</span>);
<a name="1221"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreDecals.Splatter_005'</span>);
<a name="1222"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreDecals.Splatter_006'</span>);
<a name="1223"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreEmitters.BloodPuff'</span>);
<a name="1224"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreEmitters.BloodCircle'</span>);
<a name="1225"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreDecals.Drip_003'</span>);
<a name="1226"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreDecals.Drip_002'</span>);
<a name="1227"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'Effects_Tex.GoreDecals.Drip_001'</span>);
<a name="1228"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.BloodStreak'</span>);
<a name="1229"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.BloodSplat1'</span>);
<a name="1230"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.BloodSplat2'</span>);
<a name="1231"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.BloodSplat3'</span>);
<a name="1232"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.VomSplat'</span>);
<a name="1233"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.VomitSplash'</span>);
<a name="1234"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.KFSparkHead'</span>);
<a name="1235"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'kf_fx_trip_t.Misc.speedtrail_T'</span>);
<a name="1236"></a><span class="source_comment">/*    myLevel.AddPrecacheMaterial(Texture'kf_gore_trip_T_Two.Blood_Smear_Long');
<a name="1237"></a>    myLevel.AddPrecacheMaterial(Material'kf_gore_trip_T_Two.Blood_Smear_Long_SHDR');
<a name="1238"></a>    myLevel.AddPrecacheMaterial(Texture'kf_gore_trip_T_Two.deadbodies_blood_a');
<a name="1239"></a>    myLevel.AddPrecacheMaterial(Texture'kf_gore_trip_T_Two.deadbodies_blood_b');
<a name="1240"></a>    myLevel.AddPrecacheMaterial(Texture'kf_gore_trip_T_Two.deadbodies_blood_c');
<a name="1241"></a>    myLevel.AddPrecacheMaterial(Texture'kf_gore_trip_T_Two.deadbodies_gore_diff');
<a name="1242"></a>    myLevel.AddPrecacheMaterial(Texture'kf_gore_trip_T_Two.factory_worker_uniform_diff');
<a name="1243"></a>    myLevel.AddPrecacheMaterial(Texture'kf_gore_trip_T_Two.rave_sec_guard_body');
<a name="1244"></a>    myLevel.AddPrecacheMaterial(combiner'kf_gore_trip_T_Two.ravesec_blood_A_CMB');
<a name="1245"></a>    myLevel.AddPrecacheMaterial(combiner'kf_gore_trip_T_Two.ravesec_blood_B_CMB');
<a name="1246"></a>    myLevel.AddPrecacheMaterial(combiner'kf_gore_trip_T_Two.ravesec_blood_C_CMB');
<a name="1247"></a>    myLevel.AddPrecacheMaterial(combiner'kf_gore_trip_T_Two.uniform_blood_A_CMB');
<a name="1248"></a>    myLevel.AddPrecacheMaterial(combiner'kf_gore_trip_T_Two.uniform_blood_B_CMB');
<a name="1249"></a>    myLevel.AddPrecacheMaterial(combiner'kf_gore_trip_T_Two.uniform_blood_C_CMB');*/</span>
<a name="1250"></a>
<a name="1251"></a>
<a name="1252"></a>    <span class="source_comment">// Tracer Textures
</span><a name="1253"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Effects_tex.Weapons.TrailBlur'</span>);
<a name="1254"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'kf_generic_t.Shotgun_Pellet'</span>);
<a name="1255"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span><span class="source_name">'KF_Weapons3rd2_Trip_T.Super.MP7_Dart_DIFF'</span>);
<a name="1256"></a>
<a name="1257"></a>    <span class="source_comment">//Other for better loads.....
</span><a name="1258"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.BrainSplash'</span>);
<a name="1259"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.BloodSplash'</span>);
<a name="1260"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHud.Generic.HUD'</span>);
<a name="1261"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFMaterials.GlassChips'</span>);
<a name="1262"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFMaterials.PlantBits'</span>);
<a name="1263"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFMaterials.WoodChips'</span>);
<a name="1264"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.TransTrailT'</span>);
<a name="1265"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.Perks.Perk_Medic'</span>);
<a name="1266"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.Perks.Perk_SharpShooter'</span>);
<a name="1267"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.Perks.Perk_Commando'</span>);
<a name="1268"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.Perks.Perk_Berserker'</span>);
<a name="1269"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.Perks.Perk_Firebug'</span>);
<a name="1270"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFPatch2.BossBits'</span>);
<a name="1271"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'PatchTex.ShottyCasing'</span>);
<a name="1272"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFX.Grain2'</span>);
<a name="1273"></a>
<a name="1274"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Box_128x64'</span>);
<a name="1275"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.knife_unselected'</span>);
<a name="1276"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.single_9mm_unselected'</span>);
<a name="1277"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.combat_shotgun_unselected'</span>);
<a name="1278"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.winchester_unselected'</span>);
<a name="1279"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.syring_unselected'</span>);
<a name="1280"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Rectangel_selected'</span>);
<a name="1281"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.Welder'</span>);
<a name="1282"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.Syringe'</span>);
<a name="1283"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.welder_unselected'</span>);
<a name="1284"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.Winchester'</span>);
<a name="1285"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.combat_shotgun'</span>);
<a name="1286"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.single_9mm'</span>);
<a name="1287"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.knife'</span>);
<a name="1288"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Material'KillingFloorHUD.WeaponSelect.chainsaw_unselected');
</span><a name="1289"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.axe_unselected'</span>);
<a name="1290"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.machette_unselected'</span>);
<a name="1291"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.dual_handcannon_unselected'</span>);
<a name="1292"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.handcannon_unselected'</span>);
<a name="1293"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.Bullpup'</span>);
<a name="1294"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Material'KillingFloorHUD.WeaponSelect.law_unselected');
</span><a name="1295"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Material'KillingFloorHUD.WeaponSelect.boomstic_unselected');
</span><a name="1296"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Material'KillingFloorHUD.WeaponSelect.crossbow_unselected');
</span><a name="1297"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Material'KillingFloorHUD.WeaponSelect.flamethrower_unselected');
</span><a name="1298"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.bullpup_unselected'</span>);
<a name="1299"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Material'KillingFloorHUD.WeaponSelect.LAW');
</span><a name="1300"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Material'KillingFloorHUD.WeaponSelect.BoomStick');
</span><a name="1301"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Material'KillingFloorHUD.WeaponSelect.Crossbow');
</span><a name="1302"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Material'KillingFloorHUD.WeaponSelect.FlameThrower');
</span><a name="1303"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.handcannon'</span>);
<a name="1304"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.dual_handcannon'</span>);
<a name="1305"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.machette'</span>);
<a name="1306"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.WeaponSelect.Axe'</span>);
<a name="1307"></a>    <span class="source_comment">//myLevel.AddPrecacheMaterial(Material'KillingFloorHUD.WeaponSelect.Chainsaw');
</span><a name="1308"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Bio_Clock_Circle'</span>);
<a name="1309"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Single_Bullet'</span>);
<a name="1310"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Bullets'</span>);
<a name="1311"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Flashlight_Off'</span>);
<a name="1312"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.Generic.debuggarrow1'</span>);
<a name="1313"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.BluntSplashNormal'</span>);
<a name="1314"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'Engine.GRADIENT_Fade'</span>);
<a name="1315"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KFPortraits.Trader_portrait'</span>);
<a name="1316"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Medical_Cross'</span>);
<a name="1317"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Shield'</span>);
<a name="1318"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Weight'</span>);
<a name="1319"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Grenade'</span>);
<a name="1320"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Pound_Symbol'</span>);
<a name="1321"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Perk_Star'</span>);
<a name="1322"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorHUD.HUD.Hud_Bio_Circle'</span>);
<a name="1323"></a>
<a name="1324"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorWeapons.Dualies.LightCircle'</span>);
<a name="1325"></a>    myLevel.AddPrecacheMaterial(<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span><span class="source_name">'KillingFloorWeapons.Dualies.BeretaTacLightStream'</span>);
<a name="1326"></a>}
<a name="1327"></a>
<a name="1328"></a>static function PrecacheGameAnnouncements(<span class="source_type"><a href="../engine/announcervoice.html" class="source">AnnouncerVoice</a></span> <span class="source_type">V</span>, <span class="source_type">bool</span> <span class="source_type">bRewardSounds</span>)
<a name="1329"></a>{
<a name="1330"></a>    <span class="source_comment">//TODO - sortage of this lot
</span><a name="1331"></a>    Super.PrecacheGameAnnouncements(<span class="source_type">V</span>,<span class="source_type">bRewardSounds</span>);
<a name="1332"></a>
<a name="1333"></a>    if(!<span class="source_type">bRewardSounds</span>)
<a name="1334"></a>    {
<a name="1335"></a>        <span class="source_type">V</span>.PrecacheSound(<span class="source_name">'HereTheyCome1'</span>);
<a name="1336"></a>        <span class="source_type">V</span>.PrecacheSound(<span class="source_name">'HereTheyCome2'</span>);
<a name="1337"></a>        <span class="source_type">V</span>.PrecacheSound(<span class="source_name">'HereTheyCome3'</span>);
<a name="1338"></a>    }
<a name="1339"></a>}
<a name="1340"></a>
<a name="1341"></a>static function FillPlayInfo(<span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span> <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>)
<a name="1342"></a>{
<a name="1343"></a>    Super(<span class="source_type"><a href="../engine/info.html" class="source">Info</a></span>).FillPlayInfo(<span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>);  <span class="source_comment">// Always begin with calling parent
</span><a name="1344"></a>
<a name="1345"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.GameGroup,<span class="source_string">"GameDifficulty"</span>, GetDisplayText(<span class="source_string">"GameDifficulty"</span>),   <span class="source_int">0</span>, <span class="source_int">0</span>, <span class="source_string">"Select"</span>, default.GIPropsExtras[<span class="source_int">0</span>], <span class="source_string">"Xb"</span>);
<a name="1346"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.GameGroup,<span class="source_string">"KFGameLength"</span>,   GetDisplayText(<span class="source_string">"KFGameLength"</span>),     <span class="source_int">0</span>, <span class="source_int">1</span>, <span class="source_string">"Select"</span>, default.GIPropsExtras[<span class="source_int">1</span>], <span class="source_string">"Xb"</span>, , true);
<a name="1347"></a>
<a name="1348"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup,<span class="source_string">"FinalWave"</span>, GetDisplayText(<span class="source_string">"Waves"</span>),      <span class="source_int">50</span>, <span class="source_int">4</span>, <span class="source_string">"Text"</span>, <span class="source_string">"10;0:15"</span>);
<a name="1349"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup,<span class="source_string">"WaveStartSpawnPeriod"</span>, GetDisplayText(<span class="source_string">"WaveStartSpawnPeriod"</span>),<span class="source_int">50</span>,<span class="source_int">5</span>,<span class="source_string">"Text"</span>,<span class="source_string">"3;0.0:6.0"</span>);
<a name="1350"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup,<span class="source_string">"StartingCash"</span>, GetDisplayText(<span class="source_string">"StartingCash"</span>),<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_string">"Text"</span>,<span class="source_string">"200;0:500"</span>);
<a name="1351"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup,<span class="source_string">"MinRespawnCash"</span>, GetDisplayText(<span class="source_string">"MinRespawnCash"</span>),<span class="source_int">0</span>,<span class="source_int">1</span>,<span class="source_string">"Text"</span>,<span class="source_string">"200;0:500"</span>);
<a name="1352"></a>
<a name="1353"></a>    if( <span class="source_type">class</span><span class="source_name">'ROEngine.ROLevelInfo'</span>.static.RODebugMode() )
<a name="1354"></a>    {
<a name="1355"></a>        <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup,<span class="source_string">"TimeBetweenWaves"</span>, GetDisplayText(<span class="source_string">"TimeBetweenWaves"</span>),<span class="source_int">0</span>,<span class="source_int">3</span>,<span class="source_string">"Text"</span>,<span class="source_string">"60;1:999"</span>);
<a name="1356"></a>    }
<a name="1357"></a>    else
<a name="1358"></a>    {
<a name="1359"></a>        <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup,<span class="source_string">"TimeBetweenWaves"</span>, GetDisplayText(<span class="source_string">"TimeBetweenWaves"</span>),<span class="source_int">0</span>,<span class="source_int">3</span>,<span class="source_string">"Text"</span>,<span class="source_string">"60;1:100"</span>);
<a name="1360"></a>    }
<a name="1361"></a>
<a name="1362"></a>    if( <span class="source_type">class</span><span class="source_name">'ROEngine.ROLevelInfo'</span>.static.RODebugMode() )
<a name="1363"></a>    {
<a name="1364"></a>       <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup, <span class="source_string">"MaxZombiesOnce"</span>, GetDisplayText(<span class="source_string">"MaxZombiesOnce"</span>),<span class="source_int">70</span>,<span class="source_int">2</span>,<span class="source_string">"Text"</span>,<span class="source_string">"4;1:600"</span>);
<a name="1365"></a>    }
<a name="1366"></a>    else
<a name="1367"></a>    {
<a name="1368"></a>       <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup, <span class="source_string">"MaxZombiesOnce"</span>, GetDisplayText(<span class="source_string">"MaxZombiesOnce"</span>),<span class="source_int">70</span>,<span class="source_int">2</span>,<span class="source_string">"Text"</span>,<span class="source_string">"4;6:600"</span>);
<a name="1369"></a>    }
<a name="1370"></a>
<a name="1371"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup,<span class="source_string">"bUseEndGameBoss"</span>, GetDisplayText(<span class="source_string">"bUseEndGameBoss"</span>),<span class="source_int">0</span>,<span class="source_int">9</span>,<span class="source_string">"Check"</span>);
<a name="1372"></a>
<a name="1373"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.ServerGroup, <span class="source_string">"LobbyTimeOut"</span>,    GetDisplayText(<span class="source_string">"LobbyTimeOut"</span>),     <span class="source_int">0</span>, <span class="source_int">1</span>, <span class="source_string">"Text"</span>,   <span class="source_string">"3;0:120"</span>,  ,True,True);
<a name="1374"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.ServerGroup, <span class="source_string">"bAdminCanPause"</span>,  GetDisplayText(<span class="source_string">"bAdminCanPause"</span>),   <span class="source_int">1</span>, <span class="source_int">1</span>, <span class="source_string">"Check"</span>,           ,  ,True,True);
<a name="1375"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.ServerGroup, <span class="source_string">"MaxSpectators"</span>,   GetDisplayText(<span class="source_string">"MaxSpectators"</span>),    <span class="source_int">1</span>, <span class="source_int">1</span>, <span class="source_string">"Text"</span>,    <span class="source_string">"6;0:32"</span>,  ,True,True);
<a name="1376"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.ServerGroup, <span class="source_string">"MaxPlayers"</span>,      GetDisplayText(<span class="source_string">"MaxPlayers"</span>),       <span class="source_int">0</span>, <span class="source_int">1</span>, <span class="source_string">"Text"</span>,     <span class="source_string">"6;1:6"</span>,  ,True);
<a name="1377"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.ServerGroup, <span class="source_string">"MaxIdleTime"</span>,     GetDisplayText(<span class="source_string">"MaxIdleTime"</span>),      <span class="source_int">0</span>, <span class="source_int">1</span>, <span class="source_string">"Text"</span>,   <span class="source_string">"3;0:300"</span>,  ,True,True);
<a name="1378"></a>
<a name="1379"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup,<span class="source_string">"TmpWavesInf"</span>, GetDisplayText(<span class="source_string">"TmpWavesInf"</span>),<span class="source_int">80</span>,<span class="source_int">8</span>,<span class="source_string">"Custom"</span>,<span class="source_string">";;KFGui.KFInvWaveConfig"</span>,,,);
<a name="1380"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup,<span class="source_string">"TmpSquadsInf"</span>,GetDisplayText(<span class="source_string">"TmpSquadsInf"</span>),<span class="source_int">80</span>,<span class="source_int">7</span>,<span class="source_string">"Custom"</span>,<span class="source_string">";;KFGui.KFInvSquadConfig"</span>,,,);
<a name="1381"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.AddSetting(default.SandboxGroup,<span class="source_string">"TmpMClassInf"</span>,GetDisplayText(<span class="source_string">"TmpMClassInf"</span>),<span class="source_int">80</span>,<span class="source_int">6</span>,<span class="source_string">"Custom"</span>,<span class="source_string">";;KFGui.KFInvClassConfig"</span>,,,);
<a name="1382"></a>
<a name="1383"></a>    <span class="source_comment">// Add GRI's PIData
</span><a name="1384"></a>    if (default.GameReplicationInfoClass != None)
<a name="1385"></a>    {
<a name="1386"></a>        default.GameReplicationInfoClass.static.FillPlayInfo(<span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>);
<a name="1387"></a>        <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.PopClass();
<a name="1388"></a>    }
<a name="1389"></a>
<a name="1390"></a>    if (default.VoiceReplicationInfoClass != None)
<a name="1391"></a>    {
<a name="1392"></a>        default.VoiceReplicationInfoClass.static.FillPlayInfo(<span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>);
<a name="1393"></a>        <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.PopClass();
<a name="1394"></a>    }
<a name="1395"></a>
<a name="1396"></a>    if (default.BroadcastClass != None)
<a name="1397"></a>        default.BroadcastClass.static.FillPlayInfo(<span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>);
<a name="1398"></a>    else <span class="source_type">class</span><span class="source_name">'BroadcastHandler'</span>.static.FillPlayInfo(<span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>);
<a name="1399"></a>
<a name="1400"></a>    <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.PopClass();
<a name="1401"></a>
<a name="1402"></a>    if (<span class="source_type">class</span><span class="source_name">'Engine.GameInfo'</span>.default.VotingHandlerClass != None)
<a name="1403"></a>    {
<a name="1404"></a>        <span class="source_type">class</span><span class="source_name">'Engine.GameInfo'</span>.default.VotingHandlerClass.static.FillPlayInfo(<span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>);
<a name="1405"></a>        <span class="source_type"><a href="../engine/playinfo.html" class="source">PlayInfo</a></span>.PopClass();
<a name="1406"></a>    }
<a name="1407"></a>    else
<a name="1408"></a>        log(<span class="source_string">"GameInfo::FillPlayInfo class'Engine.GameInfo'.default.VotingHandlerClass = None"</span>);
<a name="1409"></a>}
<a name="1410"></a>
<a name="1411"></a>static event <span class="source_type">string</span> GetDisplayText( <span class="source_type">string</span> <span class="source_type">PropName</span> )
<a name="1412"></a>{
<a name="1413"></a>    <span class="source_type">switch</span> (<span class="source_type">PropName</span>)
<a name="1414"></a>    {
<a name="1415"></a>        case <span class="source_string">"WaveStartSpawnPeriod"</span>:        return default.KFSurvivalPropText[<span class="source_int">0</span>];
<a name="1416"></a>        case <span class="source_string">"StartingCash"</span>:                return default.KFSurvivalPropText[<span class="source_int">2</span>];
<a name="1417"></a>        case <span class="source_string">"bNoBots"</span>:                     return default.KFSurvivalPropText[<span class="source_int">3</span>];
<a name="1418"></a>        case <span class="source_string">"bNoLateJoiners"</span>:              return default.KFSurvivalPropText[<span class="source_int">4</span>];
<a name="1419"></a>        case <span class="source_string">"LobbyTimeOut"</span>:                return default.KFSurvivalPropText[<span class="source_int">5</span>];
<a name="1420"></a>    <span class="source_comment">//  case "bEnemyHealthBars":            return default.KFSurvivalPropText[6];
</span><a name="1421"></a>        case <span class="source_string">"TimeBetweenWaves"</span>:            return default.KFSurvivalPropText[<span class="source_int">7</span>];
<a name="1422"></a>        case <span class="source_string">"Waves"</span>:                       return default.KFSurvivalPropText[<span class="source_int">8</span>];
<a name="1423"></a>        case <span class="source_string">"KFGameLength"</span>:                return default.KFSurvivalPropText[<span class="source_int">9</span>];
<a name="1424"></a>        case <span class="source_string">"MaxZombiesOnce"</span>:              return default.KFSurvivalPropText[<span class="source_int">10</span>];
<a name="1425"></a>        case <span class="source_string">"bUseEndGameBoss"</span>:             return default.KFSurvivalPropText[<span class="source_int">11</span>];
<a name="1426"></a>    }
<a name="1427"></a>    return Super.GetDisplayText( <span class="source_type">PropName</span> );
<a name="1428"></a>}
<a name="1429"></a>
<a name="1430"></a>static event <span class="source_type">string</span> GetDescriptionText(<span class="source_type">string</span> <span class="source_type">PropName</span>)
<a name="1431"></a>{
<a name="1432"></a>    <span class="source_type">switch</span> (<span class="source_type">PropName</span>)
<a name="1433"></a>    {
<a name="1434"></a>        case <span class="source_string">"WaveStartSpawnPeriod"</span>:        return default.KFSurvivalDescText[<span class="source_int">0</span>];
<a name="1435"></a>        case <span class="source_string">"StartingCash"</span>:                return default.KFSurvivalDescText[<span class="source_int">2</span>];
<a name="1436"></a>        case <span class="source_string">"bNoBots"</span>:                     return default.KFSurvivalDescText[<span class="source_int">3</span>];
<a name="1437"></a>        case <span class="source_string">"bNoLateJoiners"</span>:              return default.KFSurvivalDescText[<span class="source_int">4</span>];
<a name="1438"></a>        case <span class="source_string">"LobbyTimeOut"</span>:                return default.KFSurvivalDescText[<span class="source_int">5</span>];
<a name="1439"></a>        case <span class="source_string">"MaxZombiesOnce"</span>:              return default.KFSurvivalDescText[<span class="source_int">10</span>];
<a name="1440"></a>        case <span class="source_string">"TimeBetweenWaves"</span>:            return default.KFSurvivalDescText[<span class="source_int">7</span>];
<a name="1441"></a>        case <span class="source_string">"bUseEndGameBoss"</span>:             return default.KFSurvivalDescText[<span class="source_int">11</span>];
<a name="1442"></a>        case <span class="source_string">"TmpWavesInf"</span>:                 return default.KFSurvivalDescText[<span class="source_int">12</span>];
<a name="1443"></a>        case <span class="source_string">"TmpSquadsInf"</span>:                return default.KFSurvivalDescText[<span class="source_int">13</span>];
<a name="1444"></a>        case <span class="source_string">"TmpMClassInf"</span>:                return default.KFSurvivalDescText[<span class="source_int">14</span>];
<a name="1445"></a>        case <span class="source_string">"EndGameBossClass"</span>:            return <span class="source_string">"The boss battle monster class."</span>;
<a name="1446"></a>        case <span class="source_string">"MinRespawnCash"</span>:              return default.KFSurvivalDescText[<span class="source_int">15</span>];
<a name="1447"></a>        case <span class="source_string">"Waves"</span>:                       return default.KFSurvivalDescText[<span class="source_int">8</span>];
<a name="1448"></a>        case <span class="source_string">"KFGameLength"</span>:                return default.KFSurvivalDescText[<span class="source_int">9</span>];
<a name="1449"></a>    }
<a name="1450"></a>    return Super.GetDescriptionText(<span class="source_type">PropName</span>);
<a name="1451"></a>}
<a name="1452"></a>
<a name="1453"></a>event PostNetBeginPlay()
<a name="1454"></a>{
<a name="1455"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).bNoBots = bNoBots;
<a name="1456"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).PendingBots = <span class="source_int">0</span>;
<a name="1457"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).GameDiff = GameDifficulty;
<a name="1458"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).bEnemyHealthBars = bEnemyHealthBars;
<a name="1459"></a>}
<a name="1460"></a>
<a name="1461"></a>function AddMonster()
<a name="1462"></a>{
<a name="1463"></a>    local <span class="source_type"><a href="../engine/navigationpoint.html" class="source">NavigationPoint</a></span> StartSpot;
<a name="1464"></a>    local <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> NewMonster;
<a name="1465"></a>    local <span class="source_type">class</span>&lt;<span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>&gt; NewMonsterClass;
<a name="1466"></a>    local <span class="source_type">int</span> MonstersAdded;
<a name="1467"></a>
<a name="1468"></a>    StartSpot = FindPlayerStart(None,<span class="source_int">1</span>);
<a name="1469"></a>    if ( StartSpot == None )
<a name="1470"></a>        return;
<a name="1471"></a>
<a name="1472"></a>    NewMonsterClass = WaveMonsterClass[Rand(WaveNumClasses)];
<a name="1473"></a>    MonstersAdded ++;
<a name="1474"></a>    NewMonster = Spawn(NewMonsterClass,,,StartSpot.Location+(NewMonsterClass.Default.CollisionHeight - StartSpot.CollisionHeight) * vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">1</span>),StartSpot.<span class="source_type">Rotation</span>);
<a name="1475"></a>    if ( NewMonster ==  None )
<a name="1476"></a>        NewMonster = Spawn(FallBackMonster,,,StartSpot.Location+(FallBackMonster.Default.CollisionHeight - StartSpot.CollisionHeight) * vect(<span class="source_int">0</span>,<span class="source_int">0</span>,<span class="source_int">1</span>),StartSpot.<span class="source_type">Rotation</span>);
<a name="1477"></a>    MonstersAdded ++;
<a name="1478"></a>    if ( NewMonster != None )
<a name="1479"></a>    {
<a name="1480"></a>        WaveMonsters++;
<a name="1481"></a>        NumMonsters++;
<a name="1482"></a>    }
<a name="1483"></a>
<a name="1484"></a>    if (NewMonster != none && MonstersAdded &lt; <span class="source_int">3</span>)
<a name="1485"></a>        Super.AddMonster();
<a name="1486"></a>
<a name="1487"></a>    if (MonstersAdded &gt;= <span class="source_int">3</span>)
<a name="1488"></a>        MonstersAdded = <span class="source_int">0</span>;
<a name="1489"></a>}
<a name="1490"></a>
<a name="1491"></a>function <span class="source_type">bool</span> CheckMaxLives(<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> Scorer)
<a name="1492"></a>{
<a name="1493"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="1494"></a>    local <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> Living;
<a name="1495"></a>    local <span class="source_type">byte</span> AliveCount;
<a name="1496"></a>
<a name="1497"></a>    if ( MaxLives &gt; <span class="source_int">0</span> )
<a name="1498"></a>    {
<a name="1499"></a>        for ( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span>!=None; <span class="source_type">C</span>=<span class="source_type">C</span>.NextController )
<a name="1500"></a>        {
<a name="1501"></a>            if ( (<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None) && <span class="source_type">C</span>.bIsPlayer && !<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOutOfLives && !<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator )
<a name="1502"></a>            {
<a name="1503"></a>                AliveCount++;
<a name="1504"></a>                if( Living==None )
<a name="1505"></a>                    Living = <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>);
<a name="1506"></a>            }
<a name="1507"></a>        }
<a name="1508"></a>        if ( AliveCount==<span class="source_int">0</span> )
<a name="1509"></a>        {
<a name="1510"></a>            EndGame(Scorer,<span class="source_string">"LastMan"</span>);
<a name="1511"></a>            return true;
<a name="1512"></a>        }
<a name="1513"></a>        else if( !bNotifiedLastManStanding && AliveCount==<span class="source_int">1</span> && Living!=None )
<a name="1514"></a>        {
<a name="1515"></a>            bNotifiedLastManStanding = true;
<a name="1516"></a>            Living.ReceiveLocalizedMessage(<span class="source_type">Class</span><span class="source_name">'KFLastManStandingMsg'</span>);
<a name="1517"></a>        }
<a name="1518"></a>    }
<a name="1519"></a>    return false;
<a name="1520"></a>}
<a name="1521"></a>
<a name="1522"></a>function ScoreKill(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> Killer, <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">Other</span>)
<a name="1523"></a>{
<a name="1524"></a>    local <span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> OtherPRI;
<a name="1525"></a>    local <span class="source_type">float</span> KillScore;
<a name="1526"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="1527"></a>
<a name="1528"></a>    OtherPRI = <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>;
<a name="1529"></a>    if ( OtherPRI != None )
<a name="1530"></a>    {
<a name="1531"></a>        OtherPRI.NumLives++;
<a name="1532"></a>        OtherPRI.<span class="source_type">Score</span> -= (OtherPRI.<span class="source_type">Score</span> * (GameDifficulty * <span class="source_int">0.05</span>));   <span class="source_comment">// you Lose 35% of your current cash on Hell on Earth, 15% on normal.
</span><a name="1533"></a>        OtherPRI.<span class="source_type">Team</span>.<span class="source_type">Score</span> -= (OtherPRI.<span class="source_type">Score</span> * (GameDifficulty * <span class="source_int">0.05</span>));
<a name="1534"></a>
<a name="1535"></a>        if (OtherPRI.<span class="source_type">Score</span> &lt; <span class="source_int">0</span> )
<a name="1536"></a>            OtherPRI.<span class="source_type">Score</span> = <span class="source_int">0</span>;
<a name="1537"></a>        if (OtherPRI.<span class="source_type">Team</span>.<span class="source_type">Score</span> &lt; <span class="source_int">0</span> )
<a name="1538"></a>            OtherPRI.<span class="source_type">Team</span>.<span class="source_type">Score</span> = <span class="source_int">0</span>;
<a name="1539"></a>
<a name="1540"></a>        OtherPRI.<span class="source_type">Team</span>.NetUpdateTime = <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">1</span>;
<a name="1541"></a>        OtherPRI.bOutOfLives = true;
<a name="1542"></a>        if( Killer!=None && Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>!=None && Killer.bIsPlayer )
<a name="1543"></a>            BroadcastLocalizedMessage(<span class="source_type">class</span><span class="source_name">'KFInvasionMessage'</span>,<span class="source_int">1</span>,OtherPRI,Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>);
<a name="1544"></a>        else if( Killer==None || <span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>(Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>)==None )
<a name="1545"></a>            BroadcastLocalizedMessage(<span class="source_type">class</span><span class="source_name">'KFInvasionMessage'</span>,<span class="source_int">1</span>,OtherPRI);
<a name="1546"></a>        else BroadcastLocalizedMessage(<span class="source_type">class</span><span class="source_name">'KFInvasionMessage'</span>,<span class="source_int">1</span>,OtherPRI,,Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.<span class="source_type">Class</span>);
<a name="1547"></a>        CheckScore(None);
<a name="1548"></a>    }
<a name="1549"></a>
<a name="1550"></a>    if ( GameRulesModifiers != None )
<a name="1551"></a>        GameRulesModifiers.ScoreKill(Killer, <span class="source_type">Other</span>);
<a name="1552"></a>
<a name="1553"></a>    if ( <span class="source_type"><a href="../old2k4/monstercontroller.html" class="source">MonsterController</a></span>(Killer) != None )
<a name="1554"></a>        return;
<a name="1555"></a>
<a name="1556"></a>    if( (killer == <span class="source_type">Other</span>) || (killer == None) )
<a name="1557"></a>    {
<a name="1558"></a>        if ( <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None )
<a name="1559"></a>        {
<a name="1560"></a>            <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> -= <span class="source_int">1</span>;
<a name="1561"></a>            <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.NetUpdateTime = <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">1</span>;
<a name="1562"></a>            ScoreEvent(<span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>,-<span class="source_int">1</span>,<span class="source_string">"self_frag"</span>);
<a name="1563"></a>        }
<a name="1564"></a>    }
<a name="1565"></a>
<a name="1566"></a>    if ( Killer==None || !Killer.bIsPlayer || (Killer==<span class="source_type">Other</span>) )
<a name="1567"></a>        return;
<a name="1568"></a>
<a name="1569"></a>    if ( <span class="source_type">Other</span>.bIsPlayer )
<a name="1570"></a>    {
<a name="1571"></a>        Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> -= <span class="source_int">5</span>;
<a name="1572"></a>        Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.<span class="source_type">Score</span> -= <span class="source_int">2</span>;
<a name="1573"></a>        Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.NetUpdateTime = <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">1</span>;
<a name="1574"></a>        Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.NetUpdateTime = <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">1</span>;
<a name="1575"></a>        ScoreEvent(Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>, -<span class="source_int">5</span>, <span class="source_string">"team_frag"</span>);
<a name="1576"></a>        return;
<a name="1577"></a>    }
<a name="1578"></a>    if ( LastKilledMonsterClass == None )
<a name="1579"></a>        KillScore = <span class="source_int">1</span>;
<a name="1580"></a>    else if(Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> !=none)
<a name="1581"></a>    {
<a name="1582"></a>        KillScore = LastKilledMonsterClass.Default.ScoringValue;
<a name="1583"></a>
<a name="1584"></a>        <span class="source_comment">// Scale killscore by difficulty
</span><a name="1585"></a>        if ( GameDifficulty &gt;= <span class="source_int">5.0</span> ) <span class="source_comment">// Suicidal and Hell on Earth
</span><a name="1586"></a>        {
<a name="1587"></a>            KillScore *= <span class="source_int">0.65</span>;
<a name="1588"></a>        }
<a name="1589"></a>        else if ( GameDifficulty &gt;= <span class="source_int">4.0</span> ) <span class="source_comment">// Hard
</span><a name="1590"></a>        {
<a name="1591"></a>            KillScore *= <span class="source_int">0.85</span>;
<a name="1592"></a>        }
<a name="1593"></a>        else if ( GameDifficulty &gt;= <span class="source_int">2.0</span> ) <span class="source_comment">// Normal
</span><a name="1594"></a>        {
<a name="1595"></a>            KillScore *= <span class="source_int">1.0</span>;
<a name="1596"></a>        }
<a name="1597"></a>        else <span class="source_comment">//if ( GameDifficulty == 1.0 ) // Beginner
</span><a name="1598"></a>        {
<a name="1599"></a>            KillScore *= <span class="source_int">2.0</span>;
<a name="1600"></a>        }
<a name="1601"></a>
<a name="1602"></a>        <span class="source_comment">// Increase score in a short game, so the player can afford to buy cool stuff by the end
</span><a name="1603"></a>        if( KFGameLength == GL_Short )
<a name="1604"></a>        {
<a name="1605"></a>            KillScore *= <span class="source_int">1.75</span>;
<a name="1606"></a>        }
<a name="1607"></a>
<a name="1608"></a>        KillScore = <span class="source_type">Max</span>(<span class="source_int">1</span>,<span class="source_type">int</span>(KillScore));
<a name="1609"></a>        Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.Kills++;
<a name="1610"></a>
<a name="1611"></a>        ScoreKillAssists(KillScore, <span class="source_type">Other</span>, Killer);
<a name="1612"></a>
<a name="1613"></a>        Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.<span class="source_type">Score</span> += KillScore;
<a name="1614"></a>        Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.NetUpdateTime = <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">1</span>;
<a name="1615"></a>        Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.NetUpdateTime = <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">1</span>;
<a name="1616"></a>        TeamScoreEvent(Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex, <span class="source_int">1</span>, <span class="source_string">"tdm_frag"</span>);
<a name="1617"></a>    }
<a name="1618"></a>
<a name="1619"></a>    if (Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> !=none && Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> &lt; <span class="source_int">0</span>)
<a name="1620"></a>        Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> = <span class="source_int">0</span>;
<a name="1621"></a>
<a name="1622"></a>
<a name="1623"></a>    <span class="source_comment">/* Begin Marco's Kill Messages */</span>
<a name="1624"></a>
<a name="1625"></a>        if( <span class="source_type">Class</span><span class="source_name">'HUDKillingFloor'</span>.Default.MessageHealthLimit&lt;=<span class="source_type">Other</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Default.Health ||
<a name="1626"></a>        <span class="source_type">Class</span><span class="source_name">'HUDKillingFloor'</span>.Default.MessageMassLimit&lt;=<span class="source_type">Other</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Default.Mass )
<a name="1627"></a>        {
<a name="1628"></a>            for( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span>!=None; <span class="source_type">C</span>=<span class="source_type">C</span>.nextController )
<a name="1629"></a>            {
<a name="1630"></a>                if( <span class="source_type">C</span>.bIsPlayer && <span class="source_type"><a href="../xgame/xplayer.html" class="source">xPlayer</a></span>(<span class="source_type">C</span>)!=None )
<a name="1631"></a>                {
<a name="1632"></a>                    <span class="source_type"><a href="../xgame/xplayer.html" class="source">xPlayer</a></span>(<span class="source_type">C</span>).ReceiveLocalizedMessage(<span class="source_type">Class</span><span class="source_name">'KillsMessage'</span>,<span class="source_int">1</span>,Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>,,<span class="source_type">Other</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.<span class="source_type">Class</span>);
<a name="1633"></a>                }
<a name="1634"></a>            }
<a name="1635"></a>        }
<a name="1636"></a>        else
<a name="1637"></a>        {
<a name="1638"></a>            if( <span class="source_type"><a href="../xgame/xplayer.html" class="source">xPlayer</a></span>(Killer)!=None )
<a name="1639"></a>            {
<a name="1640"></a>                <span class="source_type"><a href="../xgame/xplayer.html" class="source">xPlayer</a></span>(Killer).ReceiveLocalizedMessage(<span class="source_type">Class</span><span class="source_name">'KillsMessage'</span>,,,,<span class="source_type">Other</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.<span class="source_type">Class</span>);
<a name="1641"></a>            }
<a name="1642"></a>        }
<a name="1643"></a>
<a name="1644"></a>    <span class="source_comment">/* End Marco's Kill Messages */</span>
<a name="1645"></a>
<a name="1646"></a>}
<a name="1647"></a>
<a name="1648"></a>function ScoreKillAssists(<span class="source_type">float</span> <span class="source_type">Score</span>, <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">Victim</span>, <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> Killer)
<a name="1649"></a>{
<a name="1650"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="1651"></a>    local <span class="source_type">float</span> GrossDamage, ScoreMultiplier, KillScore;
<a name="1652"></a>    local <span class="source_type"><a href="../kfmod/kfmonstercontroller.html" class="source">KFMonsterController</a></span> MyVictim;
<a name="1653"></a>    local <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span> KFPRI;
<a name="1654"></a>
<a name="1655"></a>    MyVictim = <span class="source_type"><a href="../kfmod/kfmonstercontroller.html" class="source">KFMonsterController</a></span>(<span class="source_type">Victim</span>);
<a name="1656"></a>
<a name="1657"></a>    if ( MyVictim.KillAssistants.Length &lt; <span class="source_int">1</span> )
<a name="1658"></a>    {
<a name="1659"></a>        return;
<a name="1660"></a>    }
<a name="1661"></a>    else
<a name="1662"></a>    {
<a name="1663"></a>        for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; MyVictim.KillAssistants.Length; <span class="source_type">i</span>++ )
<a name="1664"></a>        {
<a name="1665"></a>            GrossDamage += MyVictim.KillAssistants[<span class="source_type">i</span>].<span class="source_type">Damage</span>;
<a name="1666"></a>        }
<a name="1667"></a>
<a name="1668"></a>        ScoreMultiplier = <span class="source_type">Score</span> / GrossDamage;
<a name="1669"></a>
<a name="1670"></a>        for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; MyVictim.KillAssistants.Length; <span class="source_type">i</span>++  )
<a name="1671"></a>        {
<a name="1672"></a>            if ( MyVictim.KillAssistants[<span class="source_type">i</span>].<span class="source_type">PC</span> != none &&
<a name="1673"></a>            MyVictim.KillAssistants[<span class="source_type">i</span>].<span class="source_type">PC</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none)
<a name="1674"></a>            {
<a name="1675"></a>                KillScore = ScoreMultiplier * MyVictim.KillAssistants[<span class="source_type">i</span>].<span class="source_type">Damage</span>;
<a name="1676"></a>                MyVictim.KillAssistants[<span class="source_type">i</span>].<span class="source_type">PC</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> += KillScore;
<a name="1677"></a>
<a name="1678"></a>                KFPRI = <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(MyVictim.KillAssistants[<span class="source_type">i</span>].<span class="source_type">PC</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>) ;
<a name="1679"></a>                if(KFPRI != none)
<a name="1680"></a>                {
<a name="1681"></a>                    if(MyVictim.KillAssistants[<span class="source_type">i</span>].<span class="source_type">PC</span> != Killer)
<a name="1682"></a>                    {
<a name="1683"></a>                        KFPRI.KillAssists ++ ;
<a name="1684"></a>                    }
<a name="1685"></a>
<a name="1686"></a>                    KFPRI.ThreeSecondScore += KillScore;
<a name="1687"></a>                }
<a name="1688"></a>            }
<a name="1689"></a>        }
<a name="1690"></a>    }
<a name="1691"></a>}
<a name="1692"></a>
<a name="1693"></a>function SetupWaveBot(<span class="source_type"><a href="../engine/inventory.html" class="source">Inventory</a></span> BotsInv);
<a name="1694"></a>
<a name="1695"></a><span class="source_comment">/* Spawn and initialize a bot
<a name="1696"></a>*/</span>
<a name="1697"></a>function <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span> SpawnBot(optional <span class="source_type">string</span> botName)
<a name="1698"></a>{
<a name="1699"></a>    local <span class="source_type"><a href="../kfmod/kfinvasionbot.html" class="source">KFInvasionBot</a></span> NewBot;
<a name="1700"></a>    local <span class="source_type"><a href="../unrealgame/rosterentry.html" class="source">RosterEntry</a></span> Chosen;
<a name="1701"></a>    local <span class="source_type"><a href="../unrealgame/unrealteaminfo.html" class="source">UnrealTeamInfo</a></span> BotTeam;
<a name="1702"></a>
<a name="1703"></a>    BotTeam = GetBotTeam();
<a name="1704"></a>    Chosen = BotTeam.ChooseBotClass(botName);
<a name="1705"></a>
<a name="1706"></a>    if (Chosen.PawnClass == None)
<a name="1707"></a>        Chosen.Init(); <span class="source_comment">//amb
</span><a name="1708"></a>    NewBot = Spawn(<span class="source_type">class</span> <span class="source_name">'KFInvasionBot'</span>);
<a name="1709"></a>
<a name="1710"></a>    if ( NewBot != None )
<a name="1711"></a>        InitializeBot(NewBot,BotTeam,Chosen);
<a name="1712"></a>
<a name="1713"></a>    <span class="source_comment">// Decide if bot should be a veteran.
</span><a name="1714"></a>    if ( LoadedSkills.Length &gt; <span class="source_int">0</span> && FRand() &lt; <span class="source_int">0.35</span> && <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(NewBot.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>) != None )
<a name="1715"></a>        <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(NewBot.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>).ClientVeteranSkill = LoadedSkills[Rand(LoadedSkills.Length)];
<a name="1716"></a>
<a name="1717"></a>    NewBot.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> = StartingCash;
<a name="1718"></a>
<a name="1719"></a>    return NewBot;
<a name="1720"></a>}
<a name="1721"></a>
<a name="1722"></a>
<a name="1723"></a>function InitializeBot(<span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span> NewBot, <span class="source_type"><a href="../unrealgame/unrealteaminfo.html" class="source">UnrealTeamInfo</a></span> BotTeam, <span class="source_type"><a href="../unrealgame/rosterentry.html" class="source">RosterEntry</a></span> Chosen)
<a name="1724"></a>{
<a name="1725"></a>    local <span class="source_type">string</span> <span class="source_type">S</span>;
<a name="1726"></a>
<a name="1727"></a>    NewBot.InitializeSkill(AdjustedDifficulty);
<a name="1728"></a>    Chosen.InitBot(NewBot);
<a name="1729"></a>    BotTeam.AddToTeam(NewBot);
<a name="1730"></a>    if ( Chosen.ModifiedPlayerName != <span class="source_string">""</span> )
<a name="1731"></a>        ChangeName(NewBot, Chosen.ModifiedPlayerName, false);
<a name="1732"></a>    else ChangeName(NewBot, Chosen.<span class="source_type">PlayerName</span>, false);
<a name="1733"></a>    BotTeam.SetBotOrders(NewBot,Chosen);
<a name="1734"></a>
<a name="1735"></a>    <span class="source_type">S</span> = <span class="source_type">Class</span><span class="source_name">'KFGameType'</span>.Static.GetValidCharacter(<span class="source_string">""</span>);
<a name="1736"></a>    NewBot.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.SetCharacterName(<span class="source_type">S</span>);
<a name="1737"></a>    <span class="source_type"><a href="../xgame/xbot.html" class="source">xBot</a></span>(NewBot).PawnSetupRecord = <span class="source_type">class</span><span class="source_name">'xUtil'</span>.static.FindPlayerRecord(<span class="source_type">S</span>);
<a name="1738"></a>}
<a name="1739"></a>
<a name="1740"></a>function OverrideInitialBots();
<a name="1741"></a>
<a name="1742"></a>function ReplenishWeapons(<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">P</span>);
<a name="1743"></a>
<a name="1744"></a><span class="source_comment">// Play The Warning Sound at the Beginning of the Match
</span><a name="1745"></a>function WarningTimer()
<a name="1746"></a>{
<a name="1747"></a>    if( <span class="source_type">Level</span>.TimeSeconds &gt;= <span class="source_type"><a href="../core/time.html" class="source">Time</a></span> &&  bWaveInProgress )
<a name="1748"></a>        <span class="source_type"><a href="../core/time.html" class="source">Time</a></span> += <span class="source_int">90</span>;
<a name="1749"></a>}
<a name="1750"></a>
<a name="1751"></a>function <span class="source_type">bool</span> RewardSurvivingPlayers()
<a name="1752"></a>{
<a name="1753"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="1754"></a>    local <span class="source_type">int</span> moneyPerPlayer,div;
<a name="1755"></a>    local <span class="source_type"><a href="../engine/teaminfo.html" class="source">TeamInfo</a></span> <span class="source_type">T</span>;
<a name="1756"></a>
<a name="1757"></a>    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="1758"></a>    {
<a name="1759"></a>        if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != none && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> != none )
<a name="1760"></a>        {
<a name="1761"></a>            <span class="source_type">T</span> = <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>;
<a name="1762"></a>            div++;
<a name="1763"></a>        }
<a name="1764"></a>    }
<a name="1765"></a>
<a name="1766"></a>    if ( <span class="source_type">T</span> == none || <span class="source_type">T</span>.<span class="source_type">Score</span> &lt;= <span class="source_int">0</span> )
<a name="1767"></a>    {
<a name="1768"></a>        return false;
<a name="1769"></a>    }
<a name="1770"></a>
<a name="1771"></a>    moneyPerPlayer = <span class="source_type">int</span>(<span class="source_type">T</span>.<span class="source_type">Score</span> / <span class="source_type">float</span>(div));
<a name="1772"></a>
<a name="1773"></a>    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="1774"></a>    {
<a name="1775"></a>        if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != none && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> != none )
<a name="1776"></a>        {
<a name="1777"></a>            if ( div == <span class="source_int">1</span> )
<a name="1778"></a>            {
<a name="1779"></a>                <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> += <span class="source_type">T</span>.<span class="source_type">Score</span>;
<a name="1780"></a>                <span class="source_type">T</span>.<span class="source_type">Score</span> = <span class="source_int">0</span>;
<a name="1781"></a>            }
<a name="1782"></a>            else
<a name="1783"></a>            {
<a name="1784"></a>                <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> += moneyPerPlayer;
<a name="1785"></a>                <span class="source_type">T</span>.<span class="source_type">Score</span>-=moneyPerPlayer;
<a name="1786"></a>                div--;
<a name="1787"></a>            }
<a name="1788"></a>
<a name="1789"></a>            <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.NetUpdateTime = <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">1</span>;
<a name="1790"></a>
<a name="1791"></a>            if( <span class="source_type">T</span>.<span class="source_type">Score</span> &lt;= <span class="source_int">0</span> )
<a name="1792"></a>            {
<a name="1793"></a>                <span class="source_type">T</span>.<span class="source_type">Score</span> = <span class="source_int">0</span>;
<a name="1794"></a>                Break;
<a name="1795"></a>            }
<a name="1796"></a>        }
<a name="1797"></a>    }
<a name="1798"></a>
<a name="1799"></a>    <span class="source_type">T</span>.NetUpdateTime = <span class="source_type">Level</span>.TimeSeconds - <span class="source_int">1</span>;
<a name="1800"></a>
<a name="1801"></a>    return true;
<a name="1802"></a>}
<a name="1803"></a>
<a name="1804"></a>function Timer()
<a name="1805"></a>{
<a name="1806"></a>    Super.Timer();
<a name="1807"></a>
<a name="1808"></a>    if (ElapsedTime % <span class="source_int">10</span> == <span class="source_int">0</span>)
<a name="1809"></a>    {
<a name="1810"></a>        UpdateSteamUserData();
<a name="1811"></a>    }
<a name="1812"></a>
<a name="1813"></a>    WarningTimer();
<a name="1814"></a>}
<a name="1815"></a>
<a name="1816"></a>function StartGameMusic( <span class="source_type">bool</span> <span class="source_type">bCombat</span> )
<a name="1817"></a>{
<a name="1818"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="1819"></a>    local <span class="source_type">string</span> <span class="source_type">S</span>;
<a name="1820"></a>
<a name="1821"></a>    if( MapSongHandler==None )
<a name="1822"></a>        Return;
<a name="1823"></a>    if( <span class="source_type">bCombat</span> )
<a name="1824"></a>    {
<a name="1825"></a>        if( MapSongHandler.WaveBasedSongs.Length&lt;=WaveNum || MapSongHandler.WaveBasedSongs[WaveNum].CombatSong==<span class="source_string">""</span> )
<a name="1826"></a>            <span class="source_type">S</span> = MapSongHandler.CombatSong;
<a name="1827"></a>        else <span class="source_type">S</span> = MapSongHandler.WaveBasedSongs[WaveNum].CombatSong;
<a name="1828"></a>        MusicPlaying = True;
<a name="1829"></a>        CalmMusicPlaying = False;
<a name="1830"></a>    }
<a name="1831"></a>    else
<a name="1832"></a>    {
<a name="1833"></a>        if( MapSongHandler.WaveBasedSongs.Length&lt;=WaveNum || MapSongHandler.WaveBasedSongs[WaveNum].CalmSong==<span class="source_string">""</span> )
<a name="1834"></a>            <span class="source_type">S</span> = MapSongHandler.Song;
<a name="1835"></a>        else <span class="source_type">S</span> = MapSongHandler.WaveBasedSongs[WaveNum].CalmSong;
<a name="1836"></a>        CalmMusicPlaying = True;
<a name="1837"></a>        MusicPlaying = False;
<a name="1838"></a>    }
<a name="1839"></a>
<a name="1840"></a>    for( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList;<span class="source_type">C</span>!=None;<span class="source_type">C</span>=<span class="source_type">C</span>.NextController )
<a name="1841"></a>    {
<a name="1842"></a>        if (<span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>)!= none)
<a name="1843"></a>            <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).NetPlayMusic(<span class="source_type">S</span>, MapSongHandler.FadeInTime,MapSongHandler.<span class="source_type">FadeOutTime</span>);
<a name="1844"></a>    }
<a name="1845"></a>}
<a name="1846"></a>function StartInitGameMusic( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span> <span class="source_type">Other</span> )
<a name="1847"></a>{
<a name="1848"></a>    local <span class="source_type">string</span> <span class="source_type">S</span>;
<a name="1849"></a>
<a name="1850"></a>    if( MapSongHandler==None )
<a name="1851"></a>        Return;
<a name="1852"></a>    if( MusicPlaying )
<a name="1853"></a>    {
<a name="1854"></a>        if( MapSongHandler.WaveBasedSongs.Length&lt;=WaveNum || MapSongHandler.WaveBasedSongs[WaveNum].CombatSong==<span class="source_string">""</span> )
<a name="1855"></a>            <span class="source_type">S</span> = MapSongHandler.CombatSong;
<a name="1856"></a>        else <span class="source_type">S</span> = MapSongHandler.WaveBasedSongs[WaveNum].CombatSong;
<a name="1857"></a>    }
<a name="1858"></a>    else if( CalmMusicPlaying )
<a name="1859"></a>    {
<a name="1860"></a>        if( MapSongHandler.WaveBasedSongs.Length&lt;=WaveNum || MapSongHandler.WaveBasedSongs[WaveNum].CalmSong==<span class="source_string">""</span> )
<a name="1861"></a>            <span class="source_type">S</span> = MapSongHandler.Song;
<a name="1862"></a>        else <span class="source_type">S</span> = MapSongHandler.WaveBasedSongs[WaveNum].CalmSong;
<a name="1863"></a>    }
<a name="1864"></a>    if( <span class="source_type">S</span>!=<span class="source_string">""</span> )
<a name="1865"></a>        <span class="source_type">Other</span>.NetPlayMusic(<span class="source_type">S</span>,<span class="source_int">0.5</span>,<span class="source_int">0</span>);
<a name="1866"></a>}
<a name="1867"></a>
<a name="1868"></a>function StopGameMusic()
<a name="1869"></a>{
<a name="1870"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="1871"></a>    local <span class="source_type">float</span> FdT;
<a name="1872"></a>
<a name="1873"></a>    if( MapSongHandler!=None )
<a name="1874"></a>        FdT = MapSongHandler.<span class="source_type">FadeOutTime</span>;
<a name="1875"></a>    else FdT = <span class="source_int">1</span>;
<a name="1876"></a>
<a name="1877"></a>    for( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList;<span class="source_type">C</span>!=None;<span class="source_type">C</span>=<span class="source_type">C</span>.NextController )
<a name="1878"></a>    {
<a name="1879"></a>        if (<span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>)!= none)
<a name="1880"></a>            <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).NetStopMusic(FdT);
<a name="1881"></a>    }
<a name="1882"></a>    MusicPlaying = False;
<a name="1883"></a>    CalmMusicPlaying = False;
<a name="1884"></a>}
<a name="1885"></a>
<a name="1886"></a>exec function AddNamedBot(<span class="source_type">string</span> botname)
<a name="1887"></a>{
<a name="1888"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="1889"></a>
<a name="1890"></a>    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="1891"></a>    {
<a name="1892"></a>        if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.SteamStatsAndAchievements != none )
<a name="1893"></a>        {
<a name="1894"></a>            <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.SteamStatsAndAchievements.bUsedCheats = true;
<a name="1895"></a>        }
<a name="1896"></a>    }
<a name="1897"></a>
<a name="1898"></a>    super.AddNamedBot(botname);
<a name="1899"></a>}
<a name="1900"></a>
<a name="1901"></a>exec function AddBots(<span class="source_type">int</span> <span class="source_type">num</span>)
<a name="1902"></a>{
<a name="1903"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="1904"></a>
<a name="1905"></a>    <span class="source_type">num</span> = Clamp(<span class="source_type">num</span>, <span class="source_int">0</span>, MaxPlayers - (NumPlayers + NumBots));
<a name="1906"></a>
<a name="1907"></a>    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="1908"></a>    {
<a name="1909"></a>        if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.SteamStatsAndAchievements != none )
<a name="1910"></a>        {
<a name="1911"></a>            <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.SteamStatsAndAchievements.bUsedCheats = true;
<a name="1912"></a>        }
<a name="1913"></a>    }
<a name="1914"></a>
<a name="1915"></a>    while (--<span class="source_type">num</span> &gt;= <span class="source_int">0</span>)
<a name="1916"></a>    {
<a name="1917"></a>        if ( <span class="source_type">Level</span>.NetMode != NM_Standalone )
<a name="1918"></a>            MinPlayers = <span class="source_type">Max</span>(MinPlayers + <span class="source_int">1</span>, NumPlayers + NumBots + <span class="source_int">1</span>);
<a name="1919"></a>        AddBot();
<a name="1920"></a>    }
<a name="1921"></a>}
<a name="1922"></a>
<a name="1923"></a><span class="source_comment">// Force add a "human" bot without a weapon for debuggin/testing
</span><a name="1924"></a>exec function MyForceAddBot()
<a name="1925"></a>{
<a name="1926"></a>    local <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span> NewBot;
<a name="1927"></a>
<a name="1928"></a>    if( !<span class="source_type">class</span><span class="source_name">'ROEngine.ROLevelInfo'</span>.static.RODebugMode() )
<a name="1929"></a>    {
<a name="1930"></a>        return;
<a name="1931"></a>    }
<a name="1932"></a>
<a name="1933"></a>    NewBot = MySpawnBot();
<a name="1934"></a>
<a name="1935"></a>    if ( NewBot == None )
<a name="1936"></a>    {
<a name="1937"></a>        warn(<span class="source_string">"Failed to spawn bot."</span>);
<a name="1938"></a>        return;
<a name="1939"></a>    }
<a name="1940"></a>
<a name="1941"></a>    NewBot.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerID</span> = CurrentID++;
<a name="1942"></a>    NumBots++;
<a name="1943"></a>    if ( <span class="source_type">Level</span>.NetMode == NM_Standalone )
<a name="1944"></a>        RestartPlayer(NewBot);
<a name="1945"></a>    else
<a name="1946"></a>        NewBot.GotoState(<span class="source_name">'Dead'</span>,<span class="source_name">'MPStart'</span>);
<a name="1947"></a>    return;
<a name="1948"></a>}
<a name="1949"></a>
<a name="1950"></a><span class="source_comment">// Force add a "human" bot without a weapon on the enemy team for debuggin/testing
</span><a name="1951"></a>function <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span> MySpawnBot(optional <span class="source_type">string</span> botName)
<a name="1952"></a>{
<a name="1953"></a>    local <span class="source_type"><a href="../kfmod/kfinvasionbot.html" class="source">KFInvasionBot</a></span> NewBot;
<a name="1954"></a>    local <span class="source_type"><a href="../unrealgame/rosterentry.html" class="source">RosterEntry</a></span> Chosen;
<a name="1955"></a>    local <span class="source_type"><a href="../unrealgame/unrealteaminfo.html" class="source">UnrealTeamInfo</a></span> BotTeam;
<a name="1956"></a>
<a name="1957"></a>    BotTeam = Teams[<span class="source_int">1</span>];
<a name="1958"></a>    Chosen = BotTeam.ChooseBotClass(botName);
<a name="1959"></a>
<a name="1960"></a>    if (Chosen.PawnClass == None)
<a name="1961"></a>        Chosen.Init(); <span class="source_comment">//amb
</span><a name="1962"></a>    NewBot = Spawn(<span class="source_type">class</span> <span class="source_name">'KFInvasionBot'</span>);
<a name="1963"></a>
<a name="1964"></a>    if ( NewBot != None )
<a name="1965"></a>        InitializeBot(NewBot,BotTeam,Chosen);
<a name="1966"></a>
<a name="1967"></a>    <span class="source_comment">// Decide if bot should be a veteran.
</span><a name="1968"></a>    if ( LoadedSkills.Length &gt; <span class="source_int">0</span> && FRand() &lt; <span class="source_int">0.35</span> && <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(NewBot.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>) != None )
<a name="1969"></a>        <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(NewBot.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>).ClientVeteranSkill = LoadedSkills[Rand(LoadedSkills.Length)];
<a name="1970"></a>
<a name="1971"></a>    NewBot.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> = StartingCash;
<a name="1972"></a>
<a name="1973"></a>    return NewBot;
<a name="1974"></a>}
<a name="1975"></a>
<a name="1976"></a><span class="source_comment">// lazy Cut n' paste to allow maximum tweakage without worrying
</span><a name="1977"></a><span class="source_comment">// about the effects of underlying classes
</span><a name="1978"></a>function <span class="source_type">bool</span> AddBot(optional <span class="source_type">string</span> botName)
<a name="1979"></a>{
<a name="1980"></a>    local <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span> NewBot;
<a name="1981"></a>
<a name="1982"></a>    if (bNoBots)
<a name="1983"></a>        return false;
<a name="1984"></a>
<a name="1985"></a>    NewBot = SpawnBot(botName);
<a name="1986"></a>
<a name="1987"></a>    if ( NewBot == None )
<a name="1988"></a>    {
<a name="1989"></a>        warn(<span class="source_string">"Failed to spawn bot."</span>);
<a name="1990"></a>        return false;
<a name="1991"></a>    }
<a name="1992"></a>
<a name="1993"></a>    NewBot.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerID</span> = CurrentID++;
<a name="1994"></a>    NumBots++;
<a name="1995"></a>    if ( <span class="source_type">Level</span>.NetMode == NM_Standalone )
<a name="1996"></a>        RestartPlayer(NewBot);
<a name="1997"></a>    else
<a name="1998"></a>        NewBot.GotoState(<span class="source_name">'Dead'</span>,<span class="source_name">'MPStart'</span>);
<a name="1999"></a>    return true;
<a name="2000"></a>}
<a name="2001"></a>
<a name="2002"></a>auto <span class="source_type">State</span> PendingMatch
<a name="2003"></a>{
<a name="2004"></a>    function RestartPlayer( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">aPlayer</span> )
<a name="2005"></a>    {
<a name="2006"></a>        if ( CountDown &lt;= <span class="source_int">0</span> )
<a name="2007"></a>            RestartPlayer(<span class="source_type">aPlayer</span>);
<a name="2008"></a>    }
<a name="2009"></a>
<a name="2010"></a>    function Timer()
<a name="2011"></a>    {
<a name="2012"></a>        local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">P</span>;
<a name="2013"></a>        local <span class="source_type">bool</span> bReady;
<a name="2014"></a>        local <span class="source_type">int</span> PlayerCount, ReadyCount;
<a name="2015"></a>
<a name="2016"></a>        Global.Timer();
<a name="2017"></a>
<a name="2018"></a>        if ( <span class="source_type">Level</span>.NetMode == NM_StandAlone && NumSpectators &gt; <span class="source_int">0</span> ) <span class="source_comment">// Spectating only.
</span><a name="2019"></a>        {
<a name="2020"></a>            StartMatch();
<a name="2021"></a>            PlayStartupMessage();
<a name="2022"></a>            return;
<a name="2023"></a>        }
<a name="2024"></a>
<a name="2025"></a>        <span class="source_comment">// first check if there are enough net players, and enough time has elapsed to give people
</span><a name="2026"></a>        <span class="source_comment">// a chance to join
</span><a name="2027"></a>        if ( NumPlayers == <span class="source_int">0</span> )
<a name="2028"></a>            bWaitForNetPlayers = true;
<a name="2029"></a>
<a name="2030"></a>        if ( bWaitForNetPlayers && <span class="source_type">Level</span>.NetMode != NM_Standalone )
<a name="2031"></a>        {
<a name="2032"></a>            if ( NumPlayers &gt;= MinNetPlayers )
<a name="2033"></a>                ElapsedTime++;
<a name="2034"></a>            else
<a name="2035"></a>                ElapsedTime = <span class="source_int">0</span>;
<a name="2036"></a>
<a name="2037"></a>            if ( NumPlayers == MaxPlayers || ElapsedTime &gt; NetWait )
<a name="2038"></a>                bWaitForNetPlayers = false;
<a name="2039"></a>        }
<a name="2040"></a>
<a name="2041"></a>        if ( <span class="source_type">Level</span>.NetMode != NM_Standalone && (bWaitForNetPlayers || (bTournament && NumPlayers &lt; MaxPlayers)) )
<a name="2042"></a>        {
<a name="2043"></a>            PlayStartupMessage();
<a name="2044"></a>            return;
<a name="2045"></a>        }
<a name="2046"></a>
<a name="2047"></a>        <span class="source_comment">// check if players are ready
</span><a name="2048"></a>        bReady = true;
<a name="2049"></a>        StartupStage = <span class="source_int">1</span>;
<a name="2050"></a>
<a name="2051"></a>        for ( <span class="source_type">P</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">P</span> != None; <span class="source_type">P</span> = <span class="source_type">P</span>.NextController )
<a name="2052"></a>        {
<a name="2053"></a>            if ( <span class="source_type">P</span>.IsA(<span class="source_name">'PlayerController'</span>) && <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none && <span class="source_type">P</span>.bIsPlayer && <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> != none &&
<a name="2054"></a>                <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bWaitingPlayer && !<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator)
<a name="2055"></a>            {
<a name="2056"></a>                PlayerCount++;
<a name="2057"></a>
<a name="2058"></a>                if ( !<span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bReadyToPlay )
<a name="2059"></a>                    bReady = false;
<a name="2060"></a>                else
<a name="2061"></a>                    ReadyCount++;
<a name="2062"></a>            }
<a name="2063"></a>        }
<a name="2064"></a>
<a name="2065"></a>        if ( PlayerCount &gt; <span class="source_int">0</span> && bReady && !bReviewingJumpspots )
<a name="2066"></a>            StartMatch();
<a name="2067"></a>
<a name="2068"></a>        PlayStartupMessage();
<a name="2069"></a>
<a name="2070"></a>        if ( NumPlayers&gt;<span class="source_int">2</span> )
<a name="2071"></a>            ElapsedTime++;
<a name="2072"></a>
<a name="2073"></a>        if ( (ReadyCount &gt;= PlayerCount * <span class="source_int">0.65</span> || ElapsedTime &gt; <span class="source_int">300</span>) && PlayerCount &gt; <span class="source_int">2</span> && LobbyTimeout &gt; <span class="source_int">0</span> )
<a name="2074"></a>        {
<a name="2075"></a>            if ( LobbyTimeout &lt;= <span class="source_int">1</span> )
<a name="2076"></a>            {
<a name="2077"></a>                for ( <span class="source_type">P</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">P</span> != None; <span class="source_type">P</span> = <span class="source_type">P</span>.NextController )
<a name="2078"></a>                {
<a name="2079"></a>                    if ( <span class="source_type">P</span>.IsA(<span class="source_name">'PlayerController'</span>) && <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none )
<a name="2080"></a>                        <span class="source_type">P</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bReadyToPlay = True;
<a name="2081"></a>                }
<a name="2082"></a>
<a name="2083"></a>                LobbyTimeout = <span class="source_int">0</span>;
<a name="2084"></a>            }
<a name="2085"></a>            else
<a name="2086"></a>            {
<a name="2087"></a>                LobbyTimeout--;
<a name="2088"></a>            }
<a name="2089"></a>
<a name="2090"></a>            <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).LobbyTimeout = LobbyTimeout;
<a name="2091"></a>        }
<a name="2092"></a>        else
<a name="2093"></a>        {
<a name="2094"></a>            <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).LobbyTimeout = -<span class="source_int">1</span>;
<a name="2095"></a>        }
<a name="2096"></a>    }
<a name="2097"></a>
<a name="2098"></a>    function BeginState()
<a name="2099"></a>    {
<a name="2100"></a>        bWaitingToStartMatch = true;
<a name="2101"></a>        StartupStage = <span class="source_int">0</span>;
<a name="2102"></a>
<a name="2103"></a>        if ( LobbyTimeout &lt;= <span class="source_int">0</span> )
<a name="2104"></a>            LobbyTimeCounter = <span class="source_int">10</span>;
<a name="2105"></a>        else
<a name="2106"></a>            LobbyTimeCounter = LobbyTimeout;
<a name="2107"></a>
<a name="2108"></a>        NetWait = <span class="source_type">Max</span>(NetWait,<span class="source_int">0</span>);
<a name="2109"></a>    }
<a name="2110"></a>
<a name="2111"></a>    function EndState()
<a name="2112"></a>    {
<a name="2113"></a>        <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).LobbyTimeout = -<span class="source_int">1</span>;
<a name="2114"></a>    }
<a name="2115"></a>
<a name="2116"></a>Begin:
<a name="2117"></a>    if ( bQuickStart )
<a name="2118"></a>    {
<a name="2119"></a>        StartMatch();
<a name="2120"></a>    }
<a name="2121"></a>}
<a name="2122"></a>
<a name="2123"></a><span class="source_comment">// Added stub function here so the game won't crash when it can't find this  - TODO, maybe just move the function here! - Ramm
</span><a name="2124"></a>function UpdateViews(){}
<a name="2125"></a>
<a name="2126"></a><span class="source_type">State</span> MatchInProgress
<a name="2127"></a>{
<a name="2128"></a>    function <span class="source_type">bool</span> UpdateMonsterCount() <span class="source_comment">// To avoid invasion errors.
</span><a name="2129"></a>    {
<a name="2130"></a>        local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="2131"></a>        local <span class="source_type">int</span> <span class="source_type">i</span>,j;
<a name="2132"></a>
<a name="2133"></a>        For( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span>!=None; <span class="source_type">C</span>=<span class="source_type">C</span>.NextController )
<a name="2134"></a>        {
<a name="2135"></a>            if( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>!=None && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Health&gt;<span class="source_int">0</span> )
<a name="2136"></a>            {
<a name="2137"></a>                if( <span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>)!=None )
<a name="2138"></a>                    <span class="source_type">i</span>++;
<a name="2139"></a>                else j++;
<a name="2140"></a>            }
<a name="2141"></a>        }
<a name="2142"></a>        NumMonsters = <span class="source_type">i</span>;
<a name="2143"></a>        Return (j&gt;<span class="source_int">0</span>);
<a name="2144"></a>    }
<a name="2145"></a>
<a name="2146"></a>    function <span class="source_type">bool</span> BootShopPlayers()
<a name="2147"></a>    {
<a name="2148"></a>        local <span class="source_type">int</span> <span class="source_type">i</span>,j;
<a name="2149"></a>        local <span class="source_type">bool</span> bRes;
<a name="2150"></a>
<a name="2151"></a>        j = ShopList.Length;
<a name="2152"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;j; <span class="source_type">i</span>++ )
<a name="2153"></a>        {
<a name="2154"></a>            if( ShopList[<span class="source_type">i</span>].BootPlayers() )
<a name="2155"></a>                bRes = True;
<a name="2156"></a>        }
<a name="2157"></a>        Return bRes;
<a name="2158"></a>    }
<a name="2159"></a>
<a name="2160"></a>    function SelectShop()
<a name="2161"></a>    {
<a name="2162"></a>        local array&lt;<span class="source_type"><a href="../kfmod/shopvolume.html" class="source">ShopVolume</a></span>&gt; TempShopList;
<a name="2163"></a>        local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="2164"></a>        local <span class="source_type">int</span> SelectedShop;
<a name="2165"></a>
<a name="2166"></a>        <span class="source_comment">// Can't select a shop if there aren't any
</span><a name="2167"></a>        if ( ShopList.Length &lt; <span class="source_int">1</span> )
<a name="2168"></a>        {
<a name="2169"></a>            return;
<a name="2170"></a>        }
<a name="2171"></a>
<a name="2172"></a>        for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; ShopList.Length; <span class="source_type">i</span>++ )
<a name="2173"></a>        {
<a name="2174"></a>            if ( ShopList[<span class="source_type">i</span>].bAlwaysClosed )
<a name="2175"></a>                continue;
<a name="2176"></a>
<a name="2177"></a>            TempShopList[TempShopList.Length] = ShopList[<span class="source_type">i</span>];
<a name="2178"></a>        }
<a name="2179"></a>
<a name="2180"></a>        SelectedShop = Rand(TempShopList.Length);
<a name="2181"></a>
<a name="2182"></a>        if ( TempShopList[SelectedShop] != <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop )
<a name="2183"></a>        {
<a name="2184"></a>            <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop = TempShopList[SelectedShop];
<a name="2185"></a>        }
<a name="2186"></a>        else if ( SelectedShop + <span class="source_int">1</span> &lt; TempShopList.Length )
<a name="2187"></a>        {
<a name="2188"></a>            <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop = TempShopList[SelectedShop + <span class="source_int">1</span>];
<a name="2189"></a>        }
<a name="2190"></a>        else
<a name="2191"></a>        {
<a name="2192"></a>            <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop = TempShopList[<span class="source_int">0</span>];
<a name="2193"></a>        }
<a name="2194"></a>    }
<a name="2195"></a>
<a name="2196"></a>    function OpenShops()
<a name="2197"></a>    {
<a name="2198"></a>        local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="2199"></a>        local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="2200"></a>
<a name="2201"></a>        bTradingDoorsOpen = True;
<a name="2202"></a>
<a name="2203"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;ShopList.Length; <span class="source_type">i</span>++ )
<a name="2204"></a>        {
<a name="2205"></a>            if( ShopList[<span class="source_type">i</span>].bAlwaysClosed )
<a name="2206"></a>                continue;
<a name="2207"></a>            if( ShopList[<span class="source_type">i</span>].bAlwaysEnabled )
<a name="2208"></a>            {
<a name="2209"></a>                ShopList[<span class="source_type">i</span>].OpenShop();
<a name="2210"></a>            }
<a name="2211"></a>        }
<a name="2212"></a>
<a name="2213"></a>        if ( <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop == none )
<a name="2214"></a>        {
<a name="2215"></a>            SelectShop();
<a name="2216"></a>        }
<a name="2217"></a>
<a name="2218"></a>        <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop.OpenShop();
<a name="2219"></a>
<a name="2220"></a>        <span class="source_comment">// Tell all players to start showing the path to the trader
</span><a name="2221"></a>        For( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span>!=None; <span class="source_type">C</span>=<span class="source_type">C</span>.NextController )
<a name="2222"></a>        {
<a name="2223"></a>            if( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>!=None && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Health&gt;<span class="source_int">0</span> )
<a name="2224"></a>            {
<a name="2225"></a>                <span class="source_comment">// Disable pawn collision during trader time
</span><a name="2226"></a>                <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.bBlockActors = false;
<a name="2227"></a>
<a name="2228"></a>                if( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>) !=None )
<a name="2229"></a>                {
<a name="2230"></a>                    <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).SetShowPathToTrader(true);
<a name="2231"></a>
<a name="2232"></a>                    <span class="source_comment">// Have Trader tell players that the Shop's Open
</span><a name="2233"></a>                    if ( WaveNum &lt; <span class="source_type">FinalWave</span> )
<a name="2234"></a>                    {
<a name="2235"></a>                        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).ClientLocationalVoiceMessage(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>, none, <span class="source_name">'TRADER'</span>, <span class="source_int">2</span>);
<a name="2236"></a>                    }
<a name="2237"></a>                    else
<a name="2238"></a>                    {
<a name="2239"></a>                        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).ClientLocationalVoiceMessage(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>, none, <span class="source_name">'TRADER'</span>, <span class="source_int">3</span>);
<a name="2240"></a>                    }
<a name="2241"></a>
<a name="2242"></a>                    <span class="source_comment">//Hints
</span><a name="2243"></a>                    <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).CheckForHint(<span class="source_int">31</span>);
<a name="2244"></a>                    HintTime_1 = <span class="source_type">Level</span>.TimeSeconds + <span class="source_int">11</span>;
<a name="2245"></a>                }
<a name="2246"></a>            }
<a name="2247"></a>        }
<a name="2248"></a>    }
<a name="2249"></a>
<a name="2250"></a>    function CloseShops()
<a name="2251"></a>    {
<a name="2252"></a>        local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="2253"></a>        local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="2254"></a>        local <span class="source_type"><a href="../engine/pickup.html" class="source">Pickup</a></span> <span class="source_type"><a href="../engine/pickup.html" class="source">Pickup</a></span>;
<a name="2255"></a>
<a name="2256"></a>        bTradingDoorsOpen = False;
<a name="2257"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;ShopList.Length; <span class="source_type">i</span>++ )
<a name="2258"></a>        {
<a name="2259"></a>            if( ShopList[<span class="source_type">i</span>].bCurrentlyOpen )
<a name="2260"></a>                ShopList[<span class="source_type">i</span>].CloseShop();
<a name="2261"></a>        }
<a name="2262"></a>
<a name="2263"></a>        SelectShop();
<a name="2264"></a>
<a name="2265"></a>        foreach AllActors(<span class="source_type">class</span><span class="source_name">'Pickup'</span>, <span class="source_type"><a href="../engine/pickup.html" class="source">Pickup</a></span>)
<a name="2266"></a>        {
<a name="2267"></a>            if ( <span class="source_type"><a href="../engine/pickup.html" class="source">Pickup</a></span>.bDropped )
<a name="2268"></a>            {
<a name="2269"></a>                <span class="source_type"><a href="../engine/pickup.html" class="source">Pickup</a></span>.Destroy();
<a name="2270"></a>            }
<a name="2271"></a>        }
<a name="2272"></a>
<a name="2273"></a>        <span class="source_comment">// Tell all players to stop showing the path to the trader
</span><a name="2274"></a>        for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2275"></a>        {
<a name="2276"></a>            if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != none && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Health &gt; <span class="source_int">0</span> )
<a name="2277"></a>            {
<a name="2278"></a>                <span class="source_comment">// Restore pawn collision during trader time
</span><a name="2279"></a>                <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.bBlockActors = <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.default.bBlockActors;
<a name="2280"></a>
<a name="2281"></a>                if ( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>) != none )
<a name="2282"></a>                {
<a name="2283"></a>                    <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).SetShowPathToTrader(false);
<a name="2284"></a>                    <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).ClientForceCollectGarbage();
<a name="2285"></a>
<a name="2286"></a>                    if ( WaveNum &lt; <span class="source_type">FinalWave</span> - <span class="source_int">1</span> )
<a name="2287"></a>                    {
<a name="2288"></a>                        <span class="source_comment">// Have Trader tell players that the Shop's Closed
</span><a name="2289"></a>                        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).ClientLocationalVoiceMessage(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>, none, <span class="source_name">'TRADER'</span>, <span class="source_int">6</span>);
<a name="2290"></a>                    }
<a name="2291"></a>                }
<a name="2292"></a>            }
<a name="2293"></a>        }
<a name="2294"></a>    }
<a name="2295"></a>
<a name="2296"></a>    function Timer()
<a name="2297"></a>    {
<a name="2298"></a>        local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="2299"></a>        local <span class="source_type">bool</span> bOneMessage;
<a name="2300"></a>        local <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span> <span class="source_type">B</span>;
<a name="2301"></a>
<a name="2302"></a>        Global.Timer();
<a name="2303"></a>
<a name="2304"></a>        if ( <span class="source_type">Level</span>.TimeSeconds &gt; HintTime_1 && bTradingDoorsOpen && bShowHint_2 )
<a name="2305"></a>        {
<a name="2306"></a>            for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2307"></a>            {
<a name="2308"></a>                if( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != none && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Health &gt; <span class="source_int">0</span> )
<a name="2309"></a>                {
<a name="2310"></a>                    <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).CheckForHint(<span class="source_int">32</span>);
<a name="2311"></a>                    HintTime_2 = <span class="source_type">Level</span>.TimeSeconds + <span class="source_int">11</span>;
<a name="2312"></a>                }
<a name="2313"></a>            }
<a name="2314"></a>
<a name="2315"></a>            bShowHint_2 = false;
<a name="2316"></a>        }
<a name="2317"></a>
<a name="2318"></a>        if ( <span class="source_type">Level</span>.TimeSeconds &gt; HintTime_2 && bTradingDoorsOpen && bShowHint_3 )
<a name="2319"></a>        {
<a name="2320"></a>            for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2321"></a>            {
<a name="2322"></a>                if( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != None && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Health &gt; <span class="source_int">0</span> )
<a name="2323"></a>                {
<a name="2324"></a>                    <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).CheckForHint(<span class="source_int">33</span>);
<a name="2325"></a>                }
<a name="2326"></a>            }
<a name="2327"></a>
<a name="2328"></a>            bShowHint_3 = false;
<a name="2329"></a>        }
<a name="2330"></a>
<a name="2331"></a>        if ( !bFinalStartup )
<a name="2332"></a>        {
<a name="2333"></a>            bFinalStartup = true;
<a name="2334"></a>            PlayStartupMessage();
<a name="2335"></a>        }
<a name="2336"></a>        if ( NeedPlayers() && AddBot() && (RemainingBots &gt; <span class="source_int">0</span>) )
<a name="2337"></a>            RemainingBots--;
<a name="2338"></a>        ElapsedTime++;
<a name="2339"></a>        <span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>.ElapsedTime = ElapsedTime;
<a name="2340"></a>        if( !UpdateMonsterCount() )
<a name="2341"></a>        {
<a name="2342"></a>            EndGame(None,<span class="source_string">"TimeLimit"</span>);
<a name="2343"></a>            Return;
<a name="2344"></a>        }
<a name="2345"></a>
<a name="2346"></a>        if( bUpdateViewTargs )
<a name="2347"></a>            UpdateViews();
<a name="2348"></a>
<a name="2349"></a>        if (!bNoBots && !bBotsAdded)
<a name="2350"></a>        {
<a name="2351"></a>            if(<span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>) != none)
<a name="2352"></a>
<a name="2353"></a>            if((NumPlayers + NumBots) &lt; MaxPlayers && <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).PendingBots &gt; <span class="source_int">0</span> )
<a name="2354"></a>            {
<a name="2355"></a>                AddBots(<span class="source_int">1</span>);
<a name="2356"></a>                <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).PendingBots --;
<a name="2357"></a>            }
<a name="2358"></a>
<a name="2359"></a>            if (<span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).PendingBots == <span class="source_int">0</span>)
<a name="2360"></a>            {
<a name="2361"></a>                bBotsAdded = true;
<a name="2362"></a>                return;
<a name="2363"></a>            }
<a name="2364"></a>        }
<a name="2365"></a>
<a name="2366"></a>        if( bWaveBossInProgress )
<a name="2367"></a>        {
<a name="2368"></a>            <span class="source_comment">// Close Trader doors
</span><a name="2369"></a>            if( bTradingDoorsOpen )
<a name="2370"></a>            {
<a name="2371"></a>                CloseShops();
<a name="2372"></a>                TraderProblemLevel = <span class="source_int">0</span>;
<a name="2373"></a>            }
<a name="2374"></a>            if( TraderProblemLevel&lt;<span class="source_int">4</span> )
<a name="2375"></a>            {
<a name="2376"></a>                if( BootShopPlayers() )
<a name="2377"></a>                    TraderProblemLevel = <span class="source_int">0</span>;
<a name="2378"></a>                else TraderProblemLevel++;
<a name="2379"></a>            }
<a name="2380"></a>            if( !bHasSetViewYet && TotalMaxMonsters&lt;=<span class="source_int">0</span> && NumMonsters&gt;<span class="source_int">0</span> )
<a name="2381"></a>            {
<a name="2382"></a>                bHasSetViewYet = True;
<a name="2383"></a>                for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2384"></a>                    if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>!=None && <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>)!=None && <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>).MakeGrandEntry() )
<a name="2385"></a>                    {
<a name="2386"></a>                        ViewingBoss = <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>);
<a name="2387"></a>                        Break;
<a name="2388"></a>                    }
<a name="2389"></a>                if( ViewingBoss!=None )
<a name="2390"></a>                {
<a name="2391"></a>                    ViewingBoss.bAlwaysRelevant = True;
<a name="2392"></a>                    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2393"></a>                    {
<a name="2394"></a>                        if( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>)!=None )
<a name="2395"></a>                        {
<a name="2396"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SetViewTarget(ViewingBoss);
<a name="2397"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).ClientSetViewTarget(ViewingBoss);
<a name="2398"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).bBehindView = True;
<a name="2399"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).ClientSetBehindView(True);
<a name="2400"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).ClientSetMusic(BossBattleSong,MTRAN_FastFade);
<a name="2401"></a>                        }
<a name="2402"></a>                        if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>!=None && bRespawnOnBoss )
<a name="2403"></a>                        {
<a name="2404"></a>                            <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOutOfLives = false;
<a name="2405"></a>                            <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.NumLives = <span class="source_int">0</span>;
<a name="2406"></a>                            if ( (<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> == None) && !<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator && <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>)!=None )
<a name="2407"></a>                                <span class="source_type">C</span>.GotoState(<span class="source_name">'PlayerWaiting'</span>);
<a name="2408"></a>                        }
<a name="2409"></a>                    }
<a name="2410"></a>                }
<a name="2411"></a>            }
<a name="2412"></a>            else if( ViewingBoss!=None && !ViewingBoss.bShotAnim )
<a name="2413"></a>            {
<a name="2414"></a>                ViewingBoss = None;
<a name="2415"></a>                for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2416"></a>                    if( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>)!=None )
<a name="2417"></a>                    {
<a name="2418"></a>                        if( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>==None && !<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator && bRespawnOnBoss )
<a name="2419"></a>                            <span class="source_type">C</span>.ServerReStartPlayer();
<a name="2420"></a>                        if( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>!=None )
<a name="2421"></a>                        {
<a name="2422"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SetViewTarget(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>);
<a name="2423"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).ClientSetViewTarget(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>);
<a name="2424"></a>                        }
<a name="2425"></a>                        else
<a name="2426"></a>                        {
<a name="2427"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SetViewTarget(<span class="source_type">C</span>);
<a name="2428"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).ClientSetViewTarget(<span class="source_type">C</span>);
<a name="2429"></a>                        }
<a name="2430"></a>                        <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).bBehindView = False;
<a name="2431"></a>                        <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).ClientSetBehindView(False);
<a name="2432"></a>                    }
<a name="2433"></a>            }
<a name="2434"></a>            if( TotalMaxMonsters&lt;=<span class="source_int">0</span> || (<span class="source_type">Level</span>.TimeSeconds&gt;WaveEndTime) )
<a name="2435"></a>            {
<a name="2436"></a>                <span class="source_comment">// if everyone's spawned and they're all dead
</span><a name="2437"></a>                if ( NumMonsters &lt;= <span class="source_int">0</span> )
<a name="2438"></a>                    DoWaveEnd();
<a name="2439"></a>            }
<a name="2440"></a>            else AddBoss();
<a name="2441"></a>        }
<a name="2442"></a>        else if(bWaveInProgress)
<a name="2443"></a>        {
<a name="2444"></a>            WaveTimeElapsed += <span class="source_int">1.0</span>;
<a name="2445"></a>
<a name="2446"></a>            <span class="source_comment">// Close Trader doors
</span><a name="2447"></a>            if (bTradingDoorsOpen)
<a name="2448"></a>            {
<a name="2449"></a>                CloseShops();
<a name="2450"></a>                TraderProblemLevel = <span class="source_int">0</span>;
<a name="2451"></a>            }
<a name="2452"></a>            if( TraderProblemLevel&lt;<span class="source_int">4</span> )
<a name="2453"></a>            {
<a name="2454"></a>                if( BootShopPlayers() )
<a name="2455"></a>                    TraderProblemLevel = <span class="source_int">0</span>;
<a name="2456"></a>                else TraderProblemLevel++;
<a name="2457"></a>            }
<a name="2458"></a>            if(!MusicPlaying)
<a name="2459"></a>                StartGameMusic(True);
<a name="2460"></a>
<a name="2461"></a>            if( TotalMaxMonsters&lt;=<span class="source_int">0</span> )
<a name="2462"></a>            {
<a name="2463"></a>                if ( NumMonsters &lt;= <span class="source_int">5</span> <span class="source_comment">/*|| Level.TimeSeconds&gt;WaveEndTime*/</span> )
<a name="2464"></a>                {
<a name="2465"></a>                    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2466"></a>                        if ( <span class="source_type"><a href="../kfmod/kfmonstercontroller.html" class="source">KFMonsterController</a></span>(<span class="source_type">C</span>)!=None && <span class="source_type"><a href="../kfmod/kfmonstercontroller.html" class="source">KFMonsterController</a></span>(<span class="source_type">C</span>).CanKillMeYet() )
<a name="2467"></a>                        {
<a name="2468"></a>                            <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.KilledBy( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> );
<a name="2469"></a>                            Break;
<a name="2470"></a>                        }
<a name="2471"></a>                }
<a name="2472"></a>                <span class="source_comment">// if everyone's spawned and they're all dead
</span><a name="2473"></a>                if ( NumMonsters &lt;= <span class="source_int">0</span> )
<a name="2474"></a>                {
<a name="2475"></a>                    DoWaveEnd();
<a name="2476"></a>                }
<a name="2477"></a>            } <span class="source_comment">// all monsters spawned
</span><a name="2478"></a>            else if ( (<span class="source_type">Level</span>.TimeSeconds &gt; NextMonsterTime) && (NumMonsters+NextSpawnSquad.Length &lt;= MaxMonsters) )
<a name="2479"></a>            {
<a name="2480"></a>                WaveEndTime = <span class="source_type">Level</span>.TimeSeconds+<span class="source_int">160</span>;
<a name="2481"></a>                if( !bDisableZedSpawning )
<a name="2482"></a>                {
<a name="2483"></a>                    AddSquad(); <span class="source_comment">// Comment this out to prevent zed spawning
</span><a name="2484"></a>                }
<a name="2485"></a>
<a name="2486"></a>                if(nextSpawnSquad.length&gt;<span class="source_int">0</span>)
<a name="2487"></a>                {
<a name="2488"></a>                    NextMonsterTime = <span class="source_type">Level</span>.TimeSeconds + <span class="source_int">0.2</span>;
<a name="2489"></a>                }
<a name="2490"></a>                else
<a name="2491"></a>                {
<a name="2492"></a>                    NextMonsterTime = <span class="source_type">Level</span>.TimeSeconds + CalcNextSquadSpawnTime();
<a name="2493"></a>                }
<a name="2494"></a>            }
<a name="2495"></a>        }
<a name="2496"></a>        else if ( NumMonsters &lt;= <span class="source_int">0</span> )
<a name="2497"></a>        {
<a name="2498"></a>            if ( WaveNum == <span class="source_type">FinalWave</span> && !bUseEndGameBoss )
<a name="2499"></a>            {
<a name="2500"></a>                if( bDebugMoney )
<a name="2501"></a>                {
<a name="2502"></a>                    log(<span class="source_string">"$$$$$$$$$$$$$$$$ Final TotalPossibleMatchMoney = "</span>$TotalPossibleMatchMoney,<span class="source_name">'Debug'</span>);
<a name="2503"></a>                }
<a name="2504"></a>
<a name="2505"></a>                EndGame(None,<span class="source_string">"TimeLimit"</span>);
<a name="2506"></a>                return;
<a name="2507"></a>            }
<a name="2508"></a>            else if( WaveNum == (<span class="source_type">FinalWave</span> + <span class="source_int">1</span>) && bUseEndGameBoss )
<a name="2509"></a>            {
<a name="2510"></a>                if( bDebugMoney )
<a name="2511"></a>                {
<a name="2512"></a>                    log(<span class="source_string">"$$$$$$$$$$$$$$$$ Final TotalPossibleMatchMoney = "</span>$TotalPossibleMatchMoney,<span class="source_name">'Debug'</span>);
<a name="2513"></a>                }
<a name="2514"></a>
<a name="2515"></a>                EndGame(None,<span class="source_string">"TimeLimit"</span>);
<a name="2516"></a>                return;
<a name="2517"></a>            }
<a name="2518"></a>
<a name="2519"></a>            WaveCountDown--;
<a name="2520"></a>            if ( !CalmMusicPlaying )
<a name="2521"></a>            {
<a name="2522"></a>                InitMapWaveCfg();
<a name="2523"></a>                StartGameMusic(False);
<a name="2524"></a>            }
<a name="2525"></a>
<a name="2526"></a>            <span class="source_comment">// Open Trader doors
</span><a name="2527"></a>            if ( WaveNum != InitialWave && !bTradingDoorsOpen )
<a name="2528"></a>            {
<a name="2529"></a>                OpenShops();
<a name="2530"></a>            }
<a name="2531"></a>
<a name="2532"></a>            <span class="source_comment">// Select a shop if one isn't open
</span><a name="2533"></a>            if (    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop == none )
<a name="2534"></a>            {
<a name="2535"></a>                SelectShop();
<a name="2536"></a>            }
<a name="2537"></a>
<a name="2538"></a>            <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).TimeToNextWave = WaveCountDown;
<a name="2539"></a>            if ( WaveCountDown == <span class="source_int">30</span> )
<a name="2540"></a>            {
<a name="2541"></a>                for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2542"></a>                {
<a name="2543"></a>                    if ( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>) != None )
<a name="2544"></a>                    {
<a name="2545"></a>                        <span class="source_comment">// Have Trader tell players that they've got 30 seconds
</span><a name="2546"></a>                        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).ClientLocationalVoiceMessage(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>, none, <span class="source_name">'TRADER'</span>, <span class="source_int">4</span>);
<a name="2547"></a>                    }
<a name="2548"></a>                }
<a name="2549"></a>            }
<a name="2550"></a>            else if ( WaveCountDown == <span class="source_int">10</span> )
<a name="2551"></a>            {
<a name="2552"></a>                for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2553"></a>                {
<a name="2554"></a>                    if ( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>) != None )
<a name="2555"></a>                    {
<a name="2556"></a>                        <span class="source_comment">// Have Trader tell players that they've got 10 seconds
</span><a name="2557"></a>                        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).ClientLocationalVoiceMessage(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>, none, <span class="source_name">'TRADER'</span>, <span class="source_int">5</span>);
<a name="2558"></a>                    }
<a name="2559"></a>                }
<a name="2560"></a>            }
<a name="2561"></a>            else if ( WaveCountDown == <span class="source_int">5</span> )
<a name="2562"></a>            {
<a name="2563"></a>                <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).MaxMonstersOn=false;
<a name="2564"></a>                <span class="source_type"><a href="../old2k4/invasiongamereplicationinfo.html" class="source">InvasionGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).WaveNumber = WaveNum;
<a name="2565"></a>            }
<a name="2566"></a>            else if ( (WaveCountDown &gt; <span class="source_int">0</span>) && (WaveCountDown &lt; <span class="source_int">5</span>) )
<a name="2567"></a>            {
<a name="2568"></a>                if( WaveNum == <span class="source_type">FinalWave</span> && bUseEndGameBoss )
<a name="2569"></a>                {
<a name="2570"></a>                    BroadcastLocalizedMessage(<span class="source_type">class</span><span class="source_name">'KFMod.WaitingMessage'</span>, <span class="source_int">3</span>);
<a name="2571"></a>                }
<a name="2572"></a>                else
<a name="2573"></a>                {
<a name="2574"></a>                    BroadcastLocalizedMessage(<span class="source_type">class</span><span class="source_name">'KFMod.WaitingMessage'</span>, <span class="source_int">1</span>);
<a name="2575"></a>                }
<a name="2576"></a>            }
<a name="2577"></a>            else if ( WaveCountDown &lt;= <span class="source_int">1</span> )
<a name="2578"></a>            {
<a name="2579"></a>                bWaveInProgress = true;
<a name="2580"></a>                <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).bWaveInProgress = true;
<a name="2581"></a>
<a name="2582"></a>                <span class="source_comment">// Randomize the ammo pickups again
</span><a name="2583"></a>                if( WaveNum &gt; <span class="source_int">0</span> )
<a name="2584"></a>                {
<a name="2585"></a>                    SetupPickups();
<a name="2586"></a>                }
<a name="2587"></a>
<a name="2588"></a>                if( WaveNum == <span class="source_type">FinalWave</span> && bUseEndGameBoss )
<a name="2589"></a>                {
<a name="2590"></a>                    StartWaveBoss();
<a name="2591"></a>                }
<a name="2592"></a>                else
<a name="2593"></a>                {
<a name="2594"></a>                    SetupWave();
<a name="2595"></a>
<a name="2596"></a>                    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2597"></a>                    {
<a name="2598"></a>                        if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>) != none )
<a name="2599"></a>                        {
<a name="2600"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).LastPlaySpeech = <span class="source_int">0</span>;
<a name="2601"></a>
<a name="2602"></a>                            if ( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>) != none )
<a name="2603"></a>                            {
<a name="2604"></a>                                <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).bHasHeardTraderWelcomeMessage = false;
<a name="2605"></a>                            }
<a name="2606"></a>                        }
<a name="2607"></a>
<a name="2608"></a>                        if ( <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span>(<span class="source_type">C</span>) != none )
<a name="2609"></a>                        {
<a name="2610"></a>                            <span class="source_type">B</span> = <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span>(<span class="source_type">C</span>);
<a name="2611"></a>                            <span class="source_type"><a href="../old2k4/invasionbot.html" class="source">InvasionBot</a></span>(<span class="source_type">B</span>).bDamagedMessage = false;
<a name="2612"></a>                            <span class="source_type">B</span>.bInitLifeMessage = false;
<a name="2613"></a>
<a name="2614"></a>                            if ( !bOneMessage && (FRand() &lt; <span class="source_int">0.65</span>) )
<a name="2615"></a>                            {
<a name="2616"></a>                                bOneMessage = true;
<a name="2617"></a>
<a name="2618"></a>                                if ( (<span class="source_type">B</span>.Squad.SquadLeader != None) && <span class="source_type">B</span>.Squad.CloseToLeader(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>) )
<a name="2619"></a>                                {
<a name="2620"></a>                                    <span class="source_type">B</span>.SendMessage(<span class="source_type">B</span>.Squad.SquadLeader.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>, <span class="source_name">'OTHER'</span>, <span class="source_type">B</span>.GetMessageIndex(<span class="source_name">'INPOSITION'</span>), <span class="source_int">20</span>, <span class="source_name">'TEAM'</span>);
<a name="2621"></a>                                    <span class="source_type">B</span>.bInitLifeMessage = false;
<a name="2622"></a>                                }
<a name="2623"></a>                            }
<a name="2624"></a>                        }
<a name="2625"></a>                    }
<a name="2626"></a>                }
<a name="2627"></a>            }
<a name="2628"></a>        }
<a name="2629"></a>    }
<a name="2630"></a>
<a name="2631"></a>    <span class="source_comment">// Use a sine wave to somewhat randomly increase/decrease the frequency (and
</span><a name="2632"></a>    <span class="source_comment">// also the intensity) of zombie squad spawning. This will give "peaks and valleys"
</span><a name="2633"></a>    <span class="source_comment">// the the intensity of the zombie attacks
</span><a name="2634"></a>    function <span class="source_type">float</span> CalcNextSquadSpawnTime()
<a name="2635"></a>    {
<a name="2636"></a>        local <span class="source_type">float</span> NextSpawnTime;
<a name="2637"></a>        local <span class="source_type">float</span> SineMod;
<a name="2638"></a>
<a name="2639"></a>        SineMod = <span class="source_int">1.0</span> - Abs(sin(WaveTimeElapsed * SineWaveFreq));
<a name="2640"></a>
<a name="2641"></a>        NextSpawnTime = KFLRules.WaveSpawnPeriod;
<a name="2642"></a>
<a name="2643"></a>        if( KFGameLength != GL_Custom )
<a name="2644"></a>        {
<a name="2645"></a>            if( KFGameLength == GL_Short )
<a name="2646"></a>            {
<a name="2647"></a>                <span class="source_comment">// Make the zeds come faster in the earlier waves
</span><a name="2648"></a>                if( WaveNum &lt; <span class="source_int">2</span> )
<a name="2649"></a>                {
<a name="2650"></a>                    if( NumPlayers == <span class="source_int">4</span> )
<a name="2651"></a>                    {
<a name="2652"></a>                        NextSpawnTime *= <span class="source_int">0.85</span>;
<a name="2653"></a>                    }
<a name="2654"></a>                    else if( NumPlayers == <span class="source_int">5</span> )
<a name="2655"></a>                    {
<a name="2656"></a>                        NextSpawnTime *= <span class="source_int">0.65</span>;
<a name="2657"></a>                    }
<a name="2658"></a>                    else if( NumPlayers &gt;= <span class="source_int">6</span> )
<a name="2659"></a>                    {
<a name="2660"></a>                        NextSpawnTime *= <span class="source_int">0.3</span>;
<a name="2661"></a>                    }
<a name="2662"></a>                }
<a name="2663"></a>                <span class="source_comment">// Give a slightly bigger breather in the later waves
</span><a name="2664"></a>                else if( WaveNum &gt;= <span class="source_int">2</span> )
<a name="2665"></a>                {
<a name="2666"></a>                    if( NumPlayers &lt;= <span class="source_int">3</span> )
<a name="2667"></a>                    {
<a name="2668"></a>                        NextSpawnTime *= <span class="source_int">1.1</span>;
<a name="2669"></a>                    }
<a name="2670"></a>                    else if( NumPlayers == <span class="source_int">4</span> )
<a name="2671"></a>                    {
<a name="2672"></a>                        NextSpawnTime *= <span class="source_int">1.0</span>;<span class="source_comment">//0.85;
</span><a name="2673"></a>                    }
<a name="2674"></a>                    else if( NumPlayers == <span class="source_int">5</span> )
<a name="2675"></a>                    {
<a name="2676"></a>                        NextSpawnTime *= <span class="source_int">0.75</span>;<span class="source_comment">//0.65;
</span><a name="2677"></a>                    }
<a name="2678"></a>                    else if( NumPlayers &gt;= <span class="source_int">6</span> )
<a name="2679"></a>                    {
<a name="2680"></a>                        NextSpawnTime *= <span class="source_int">0.60</span>;<span class="source_comment">//0.3;
</span><a name="2681"></a>                    }
<a name="2682"></a>                }
<a name="2683"></a>            }
<a name="2684"></a>            else if( KFGameLength == GL_Normal )
<a name="2685"></a>            {
<a name="2686"></a>                <span class="source_comment">// Make the zeds come faster in the earlier waves
</span><a name="2687"></a>                if( WaveNum &lt; <span class="source_int">4</span> )
<a name="2688"></a>                {
<a name="2689"></a>                    if( NumPlayers == <span class="source_int">4</span> )
<a name="2690"></a>                    {
<a name="2691"></a>                        NextSpawnTime *= <span class="source_int">0.85</span>;
<a name="2692"></a>                    }
<a name="2693"></a>                    else if( NumPlayers == <span class="source_int">5</span> )
<a name="2694"></a>                    {
<a name="2695"></a>                        NextSpawnTime *= <span class="source_int">0.65</span>;
<a name="2696"></a>                    }
<a name="2697"></a>                    else if( NumPlayers &gt;= <span class="source_int">6</span> )
<a name="2698"></a>                    {
<a name="2699"></a>                        NextSpawnTime *= <span class="source_int">0.3</span>;
<a name="2700"></a>                    }
<a name="2701"></a>                }
<a name="2702"></a>                <span class="source_comment">// Give a slightly bigger breather in the later waves
</span><a name="2703"></a>                else if( WaveNum &gt;= <span class="source_int">4</span> )
<a name="2704"></a>                {
<a name="2705"></a>                    if( NumPlayers &lt;= <span class="source_int">3</span> )
<a name="2706"></a>                    {
<a name="2707"></a>                        NextSpawnTime *= <span class="source_int">1.1</span>;
<a name="2708"></a>                    }
<a name="2709"></a>                    else if( NumPlayers == <span class="source_int">4</span> )
<a name="2710"></a>                    {
<a name="2711"></a>                        NextSpawnTime *= <span class="source_int">1.0</span>;<span class="source_comment">//0.85;
</span><a name="2712"></a>                    }
<a name="2713"></a>                    else if( NumPlayers == <span class="source_int">5</span> )
<a name="2714"></a>                    {
<a name="2715"></a>                        NextSpawnTime *= <span class="source_int">0.75</span>;<span class="source_comment">//0.65;
</span><a name="2716"></a>                    }
<a name="2717"></a>                    else if( NumPlayers &gt;= <span class="source_int">6</span> )
<a name="2718"></a>                    {
<a name="2719"></a>                        NextSpawnTime *= <span class="source_int">0.6</span>;<span class="source_comment">//0.3;
</span><a name="2720"></a>                    }
<a name="2721"></a>                }
<a name="2722"></a>            }
<a name="2723"></a>            else if( KFGameLength == GL_Long )
<a name="2724"></a>            {
<a name="2725"></a>                <span class="source_comment">// Make the zeds come faster in the earlier waves
</span><a name="2726"></a>                if( WaveNum &lt; <span class="source_int">7</span> )
<a name="2727"></a>                {
<a name="2728"></a>                    if( NumPlayers == <span class="source_int">4</span> )
<a name="2729"></a>                    {
<a name="2730"></a>                        NextSpawnTime *= <span class="source_int">0.85</span>;
<a name="2731"></a>                    }
<a name="2732"></a>                    else if( NumPlayers == <span class="source_int">5</span> )
<a name="2733"></a>                    {
<a name="2734"></a>                        NextSpawnTime *= <span class="source_int">0.65</span>;
<a name="2735"></a>                    }
<a name="2736"></a>                    else if( NumPlayers &gt;= <span class="source_int">6</span> )
<a name="2737"></a>                    {
<a name="2738"></a>                        NextSpawnTime *= <span class="source_int">0.3</span>;
<a name="2739"></a>                    }
<a name="2740"></a>                }
<a name="2741"></a>                <span class="source_comment">// Give a slightly bigger breather in the later waves
</span><a name="2742"></a>                else if( WaveNum &gt;= <span class="source_int">7</span> )
<a name="2743"></a>                {
<a name="2744"></a>                    if( NumPlayers &lt;= <span class="source_int">3</span> )
<a name="2745"></a>                    {
<a name="2746"></a>                        NextSpawnTime *= <span class="source_int">1.1</span>;
<a name="2747"></a>                    }
<a name="2748"></a>                    else if( NumPlayers == <span class="source_int">4</span> )
<a name="2749"></a>                    {
<a name="2750"></a>                        NextSpawnTime *= <span class="source_int">1.0</span>;<span class="source_comment">//0.85;
</span><a name="2751"></a>                    }
<a name="2752"></a>                    else if( NumPlayers == <span class="source_int">5</span> )
<a name="2753"></a>                    {
<a name="2754"></a>                        NextSpawnTime *= <span class="source_int">0.75</span>;<span class="source_comment">//0.65;
</span><a name="2755"></a>                    }
<a name="2756"></a>                    else if( NumPlayers &gt;= <span class="source_int">6</span> )
<a name="2757"></a>                    {
<a name="2758"></a>                        NextSpawnTime *= <span class="source_int">0.60</span>;<span class="source_comment">//0.3;
</span><a name="2759"></a>                    }
<a name="2760"></a>                }
<a name="2761"></a>            }
<a name="2762"></a>        }
<a name="2763"></a>        else
<a name="2764"></a>        {
<a name="2765"></a>            if( NumPlayers == <span class="source_int">4</span> )
<a name="2766"></a>            {
<a name="2767"></a>                NextSpawnTime *= <span class="source_int">0.85</span>;
<a name="2768"></a>            }
<a name="2769"></a>            else if( NumPlayers == <span class="source_int">5</span> )
<a name="2770"></a>            {
<a name="2771"></a>                NextSpawnTime *= <span class="source_int">0.65</span>;
<a name="2772"></a>            }
<a name="2773"></a>            else if( NumPlayers &gt;= <span class="source_int">6</span> )
<a name="2774"></a>            {
<a name="2775"></a>                NextSpawnTime *= <span class="source_int">0.3</span>;
<a name="2776"></a>            }
<a name="2777"></a>        }
<a name="2778"></a>
<a name="2779"></a>        <span class="source_comment">// Make the zeds come a little faster at all times on harder and above
</span><a name="2780"></a>        if ( GameDifficulty &gt;= <span class="source_int">4.0</span> ) <span class="source_comment">// Hard
</span><a name="2781"></a>        {
<a name="2782"></a>            NextSpawnTime *= <span class="source_int">0.85</span>;
<a name="2783"></a>        }
<a name="2784"></a>
<a name="2785"></a>        NextSpawnTime += SineMod * (NextSpawnTime * <span class="source_int">2</span>);
<a name="2786"></a>
<a name="2787"></a>        return NextSpawnTime;
<a name="2788"></a>    }
<a name="2789"></a>
<a name="2790"></a>    function DoWaveEnd()
<a name="2791"></a>    {
<a name="2792"></a>        local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="2793"></a>        local <span class="source_type"><a href="../kfmod/kfdoormover.html" class="source">KFDoorMover</a></span> KFDM;
<a name="2794"></a>        local <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> Survivor;
<a name="2795"></a>        local <span class="source_type">int</span> SurvivorCount;
<a name="2796"></a>
<a name="2797"></a>        <span class="source_comment">// Only reset this at the end of wave 0. That way the sine wave that scales
</span><a name="2798"></a>        <span class="source_comment">// the intensity up/down will be somewhat random per wave
</span><a name="2799"></a>        if( WaveNum &lt; <span class="source_int">1</span> )
<a name="2800"></a>        {
<a name="2801"></a>            WaveTimeElapsed = <span class="source_int">0</span>;
<a name="2802"></a>        }
<a name="2803"></a>
<a name="2804"></a>        if ( !rewardFlag )
<a name="2805"></a>            RewardSurvivingPlayers();
<a name="2806"></a>
<a name="2807"></a>        if( bDebugMoney )
<a name="2808"></a>        {
<a name="2809"></a>            log(<span class="source_string">"$$$$$$$$$$$$$$$$ Wave "</span>$WaveNum$<span class="source_string">" TotalPossibleWaveMoney = "</span>$TotalPossibleWaveMoney,<span class="source_name">'Debug'</span>);
<a name="2810"></a>            log(<span class="source_string">"$$$$$$$$$$$$$$$$ TotalPossibleMatchMoney = "</span>$TotalPossibleMatchMoney,<span class="source_name">'Debug'</span>);
<a name="2811"></a>            TotalPossibleWaveMoney=<span class="source_int">0</span>;
<a name="2812"></a>        }
<a name="2813"></a>
<a name="2814"></a>        <span class="source_comment">// Clear Trader Message status
</span><a name="2815"></a>        bDidTraderMovingMessage = false;
<a name="2816"></a>        bDidMoveTowardTraderMessage = false;
<a name="2817"></a>
<a name="2818"></a>        bWaveInProgress = false;
<a name="2819"></a>        bWaveBossInProgress = false;
<a name="2820"></a>        bNotifiedLastManStanding = false;
<a name="2821"></a>        <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).bWaveInProgress = false;
<a name="2822"></a>
<a name="2823"></a>        WaveCountDown = <span class="source_type">Max</span>(TimeBetweenWaves,<span class="source_int">1</span>);
<a name="2824"></a>        <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).TimeToNextWave = WaveCountDown;
<a name="2825"></a>        WaveNum++;
<a name="2826"></a>
<a name="2827"></a>        for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2828"></a>        {
<a name="2829"></a>            if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none )
<a name="2830"></a>            {
<a name="2831"></a>                <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOutOfLives = false;
<a name="2832"></a>                <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.NumLives = <span class="source_int">0</span>;
<a name="2833"></a>
<a name="2834"></a>                if ( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>) != none )
<a name="2835"></a>                {
<a name="2836"></a>                    if ( <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>) != none )
<a name="2837"></a>                    {
<a name="2838"></a>                        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).bChangedVeterancyThisWave = false;
<a name="2839"></a>
<a name="2840"></a>                        if ( <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>).ClientVeteranSkill != <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).SelectedVeterancy )
<a name="2841"></a>                        {
<a name="2842"></a>                            <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).SendSelectedVeterancyToServer();
<a name="2843"></a>                        }
<a name="2844"></a>                    }
<a name="2845"></a>                }
<a name="2846"></a>
<a name="2847"></a>                if ( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != none )
<a name="2848"></a>                {
<a name="2849"></a>                    if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>) != none )
<a name="2850"></a>                    {
<a name="2851"></a>                        Survivor = <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>);
<a name="2852"></a>                        SurvivorCount++;
<a name="2853"></a>                    }
<a name="2854"></a>                }
<a name="2855"></a>                else if ( !<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator )
<a name="2856"></a>                {
<a name="2857"></a>                    <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> = <span class="source_type">Max</span>(MinRespawnCash,<span class="source_type">int</span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span>));
<a name="2858"></a>
<a name="2859"></a>                    if( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>) != none )
<a name="2860"></a>                    {
<a name="2861"></a>                        <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).GotoState(<span class="source_name">'PlayerWaiting'</span>);
<a name="2862"></a>                        <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SetViewTarget(<span class="source_type">C</span>);
<a name="2863"></a>                        <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).ClientSetBehindView(false);
<a name="2864"></a>                        <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).bBehindView = False;
<a name="2865"></a>                        <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).ClientSetViewTarget(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>);
<a name="2866"></a>                    }
<a name="2867"></a>
<a name="2868"></a>                    <span class="source_type">C</span>.ServerReStartPlayer();
<a name="2869"></a>                }
<a name="2870"></a>
<a name="2871"></a>                if ( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>) != none )
<a name="2872"></a>                {
<a name="2873"></a>                    if ( <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SteamStatsAndAchievements) != none )
<a name="2874"></a>                    {
<a name="2875"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SteamStatsAndAchievements).WaveEnded();
<a name="2876"></a>                    }
<a name="2877"></a>
<a name="2878"></a>                    <span class="source_comment">// Don't broadcast this message AFTER the final wave!
</span><a name="2879"></a>                    if( WaveNum &lt; <span class="source_type">FinalWave</span> )
<a name="2880"></a>                    {
<a name="2881"></a>                        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).bSpawnedThisWave = false;
<a name="2882"></a>                        BroadcastLocalizedMessage(<span class="source_type">class</span><span class="source_name">'KFMod.WaitingMessage'</span>, <span class="source_int">2</span>);
<a name="2883"></a>                    }
<a name="2884"></a>                    else if ( WaveNum == <span class="source_type">FinalWave</span> )
<a name="2885"></a>                    {
<a name="2886"></a>                        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).bSpawnedThisWave = false;
<a name="2887"></a>                    }
<a name="2888"></a>                    else
<a name="2889"></a>                    {
<a name="2890"></a>                        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).bSpawnedThisWave = true;
<a name="2891"></a>                    }
<a name="2892"></a>                }
<a name="2893"></a>            }
<a name="2894"></a>        }
<a name="2895"></a>
<a name="2896"></a>        if ( <span class="source_type">Level</span>.NetMode != NM_StandAlone && <span class="source_type">Level</span>.Game.NumPlayers &gt; <span class="source_int">1</span> &&
<a name="2897"></a>             SurvivorCount == <span class="source_int">1</span> && Survivor != none && <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(Survivor.SteamStatsAndAchievements) != none )
<a name="2898"></a>        {
<a name="2899"></a>            <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(Survivor.SteamStatsAndAchievements).AddOnlySurvivorOfWave();
<a name="2900"></a>        }
<a name="2901"></a>
<a name="2902"></a>        bUpdateViewTargs = True;
<a name="2903"></a>
<a name="2904"></a>        <span class="source_comment">//respawn doors
</span><a name="2905"></a>        foreach DynamicActors(<span class="source_type">class</span><span class="source_name">'KFDoorMover'</span>, KFDM)
<a name="2906"></a>            KFDM.RespawnDoor();
<a name="2907"></a>    }
<a name="2908"></a>    function InitMapWaveCfg()
<a name="2909"></a>    {
<a name="2910"></a>        local <span class="source_type">int</span> <span class="source_type">i</span>,l;
<a name="2911"></a>        local <span class="source_type"><a href="../kfmod/kfrandomspawn.html" class="source">KFRandomSpawn</a></span> RS;
<a name="2912"></a>
<a name="2913"></a>        l = ZedSpawnList.Length;
<a name="2914"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;l; <span class="source_type">i</span>++ )
<a name="2915"></a>            ZedSpawnList[<span class="source_type">i</span>].NotifyNewWave(WaveNum);
<a name="2916"></a>        foreach DynamicActors(<span class="source_type">Class</span><span class="source_name">'KFRandomSpawn'</span>,RS)
<a name="2917"></a>            RS.NotifyNewWave(WaveNum,<span class="source_type">FinalWave</span>-<span class="source_int">1</span>);
<a name="2918"></a>    }
<a name="2919"></a>    function StartWaveBoss()
<a name="2920"></a>    {
<a name="2921"></a>        local <span class="source_type">int</span> <span class="source_type">i</span>,l;
<a name="2922"></a>
<a name="2923"></a>        l = ZedSpawnList.Length;
<a name="2924"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;l; <span class="source_type">i</span>++ )
<a name="2925"></a>            ZedSpawnList[<span class="source_type">i</span>].Reset();
<a name="2926"></a>        bHasSetViewYet = False;
<a name="2927"></a>        WaveEndTime = <span class="source_type">Level</span>.TimeSeconds+<span class="source_int">60</span>;
<a name="2928"></a>        NextSpawnSquad.Length = <span class="source_int">1</span>;
<a name="2929"></a>
<a name="2930"></a>        if( KFGameLength != GL_Custom )
<a name="2931"></a>        {
<a name="2932"></a>            NextSpawnSquad[<span class="source_int">0</span>] = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(DynamicLoadObject(MonsterCollection.default.EndGameBossClass,<span class="source_type">Class</span><span class="source_name">'Class'</span>));
<a name="2933"></a>            NextspawnSquad[<span class="source_int">0</span>].static.PreCacheAssets(<span class="source_type">Level</span>);
<a name="2934"></a>        }
<a name="2935"></a>        else
<a name="2936"></a>        {
<a name="2937"></a>            NextSpawnSquad[<span class="source_int">0</span>] = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(DynamicLoadObject(EndGameBossClass,<span class="source_type">Class</span><span class="source_name">'Class'</span>));
<a name="2938"></a>            NextspawnSquad[<span class="source_int">0</span>].static.PreCacheAssets(<span class="source_type">Level</span>);
<a name="2939"></a>        }
<a name="2940"></a>
<a name="2941"></a>        if( NextSpawnSquad[<span class="source_int">0</span>]==None )
<a name="2942"></a>            NextSpawnSquad[<span class="source_int">0</span>] = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(FallbackMonster);
<a name="2943"></a>        <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).MaxMonsters = <span class="source_int">1</span>;
<a name="2944"></a>        TotalMaxMonsters = <span class="source_int">1</span>;
<a name="2945"></a>        bWaveBossInProgress = True;
<a name="2946"></a>    }
<a name="2947"></a>    function UpdateViews() <span class="source_comment">// To fix camera stuck on ur spec target
</span><a name="2948"></a>    {
<a name="2949"></a>        local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="2950"></a>
<a name="2951"></a>        bUpdateViewTargs = False;
<a name="2952"></a>        for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != None; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="2953"></a>        {
<a name="2954"></a>            if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>) != None && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>!=None )
<a name="2955"></a>                <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).ClientSetViewTarget(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>);
<a name="2956"></a>        }
<a name="2957"></a>    }
<a name="2958"></a>
<a name="2959"></a>    <span class="source_comment">// Setup the random ammo pickups
</span><a name="2960"></a>    function SetupPickups()
<a name="2961"></a>    {
<a name="2962"></a>        local <span class="source_type">int</span> NumWeaponPickups, NumAmmoPickups, Random, <span class="source_type">i</span>, j;
<a name="2963"></a>        local <span class="source_type">int</span> <span class="source_type">m</span>;
<a name="2964"></a>
<a name="2965"></a>        <span class="source_comment">// Randomize Available Ammo Pickups
</span><a name="2966"></a>        if ( GameDifficulty &gt;= <span class="source_int">5.0</span> ) <span class="source_comment">// Suicidal and Hell on Earth
</span><a name="2967"></a>        {
<a name="2968"></a>            NumWeaponPickups = WeaponPickups.Length * <span class="source_int">0.1</span>;
<a name="2969"></a>            NumAmmoPickups = AmmoPickups.Length * <span class="source_int">0.1</span>;
<a name="2970"></a>        }
<a name="2971"></a>        else if ( GameDifficulty &gt;= <span class="source_int">4.0</span> ) <span class="source_comment">// Hard
</span><a name="2972"></a>        {
<a name="2973"></a>            NumWeaponPickups = WeaponPickups.Length * <span class="source_int">0.2</span>;
<a name="2974"></a>            NumAmmoPickups = AmmoPickups.Length * <span class="source_int">0.35</span>;
<a name="2975"></a>        }
<a name="2976"></a>        else if ( GameDifficulty &gt;= <span class="source_int">2.0</span> ) <span class="source_comment">// Normal
</span><a name="2977"></a>        {
<a name="2978"></a>            NumWeaponPickups = WeaponPickups.Length * <span class="source_int">0.3</span>;
<a name="2979"></a>            NumAmmoPickups = AmmoPickups.Length * <span class="source_int">0.5</span>;
<a name="2980"></a>        }
<a name="2981"></a>        else <span class="source_comment">// Beginner
</span><a name="2982"></a>        {
<a name="2983"></a>            NumWeaponPickups = WeaponPickups.Length * <span class="source_int">0.5</span>;
<a name="2984"></a>            NumAmmoPickups = AmmoPickups.Length * <span class="source_int">0.65</span>;
<a name="2985"></a>        }
<a name="2986"></a>
<a name="2987"></a>        <span class="source_comment">// reset all the of the pickups
</span><a name="2988"></a>        for ( <span class="source_type">m</span> = <span class="source_int">0</span>; <span class="source_type">m</span> &lt; WeaponPickups.Length ; <span class="source_type">m</span>++ )
<a name="2989"></a>        {
<a name="2990"></a>            WeaponPickups[<span class="source_type">m</span>].DisableMe();
<a name="2991"></a>        }
<a name="2992"></a>
<a name="2993"></a>        for ( <span class="source_type">m</span> = <span class="source_int">0</span>; <span class="source_type">m</span> &lt; AmmoPickups.Length ; <span class="source_type">m</span>++ )
<a name="2994"></a>        {
<a name="2995"></a>            AmmoPickups[<span class="source_type">m</span>].GotoState(<span class="source_name">'Sleeping'</span>, <span class="source_name">'Begin'</span>);
<a name="2996"></a>        }
<a name="2997"></a>
<a name="2998"></a>        <span class="source_comment">// Ramdomly select which pickups to spawn
</span><a name="2999"></a>        for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; NumWeaponPickups && j &lt; <span class="source_int">10000</span>; <span class="source_type">i</span>++ )
<a name="3000"></a>        {
<a name="3001"></a>            Random = Rand(WeaponPickups.Length);
<a name="3002"></a>
<a name="3003"></a>            if ( !WeaponPickups[Random].bIsEnabledNow )
<a name="3004"></a>            {
<a name="3005"></a>                WeaponPickups[Random].EnableMe();
<a name="3006"></a>            }
<a name="3007"></a>            else
<a name="3008"></a>            {
<a name="3009"></a>                <span class="source_type">i</span>--;
<a name="3010"></a>            }
<a name="3011"></a>
<a name="3012"></a>            j++;
<a name="3013"></a>        }
<a name="3014"></a>
<a name="3015"></a>        for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; NumAmmoPickups && j &lt; <span class="source_int">10000</span>; <span class="source_type">i</span>++ )
<a name="3016"></a>        {
<a name="3017"></a>            Random = Rand(AmmoPickups.Length);
<a name="3018"></a>
<a name="3019"></a>            if ( AmmoPickups[Random].bSleeping )
<a name="3020"></a>            {
<a name="3021"></a>                AmmoPickups[Random].GotoState(<span class="source_name">'Pickup'</span>);
<a name="3022"></a>            }
<a name="3023"></a>            else
<a name="3024"></a>            {
<a name="3025"></a>                <span class="source_type">i</span>--;
<a name="3026"></a>            }
<a name="3027"></a>
<a name="3028"></a>            j++;
<a name="3029"></a>        }
<a name="3030"></a>    }
<a name="3031"></a>
<a name="3032"></a>    function BeginState()
<a name="3033"></a>    {
<a name="3034"></a>        Super.BeginState();
<a name="3035"></a>
<a name="3036"></a>        WaveNum = InitialWave;
<a name="3037"></a>        <span class="source_type"><a href="../old2k4/invasiongamereplicationinfo.html" class="source">InvasionGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).WaveNumber = WaveNum;
<a name="3038"></a>
<a name="3039"></a>        <span class="source_comment">// Ten second initial countdown
</span><a name="3040"></a>        WaveCountDown = <span class="source_int">10</span>;<span class="source_comment">// Modify this if we want to make it take long for zeds to spawn initially
</span><a name="3041"></a>
<a name="3042"></a>        SetupPickups();
<a name="3043"></a>    }
<a name="3044"></a>
<a name="3045"></a>    function EndState()
<a name="3046"></a>    {
<a name="3047"></a>        local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="3048"></a>
<a name="3049"></a>        Super.EndState();
<a name="3050"></a>
<a name="3051"></a>        <span class="source_comment">// Tell all players to stop showing the path to the trader
</span><a name="3052"></a>        For( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span>!=None; <span class="source_type">C</span>=<span class="source_type">C</span>.NextController )
<a name="3053"></a>        {
<a name="3054"></a>            if( <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>!=None && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Health&gt;<span class="source_int">0</span> )
<a name="3055"></a>            {
<a name="3056"></a>                <span class="source_comment">// Restore pawn collision during trader time
</span><a name="3057"></a>                <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.bBlockActors = <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.default.bBlockActors;
<a name="3058"></a>
<a name="3059"></a>                if( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>) !=None )
<a name="3060"></a>                {
<a name="3061"></a>                    <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).SetShowPathToTrader(false);
<a name="3062"></a>                }
<a name="3063"></a>            }
<a name="3064"></a>        }
<a name="3065"></a>    }
<a name="3066"></a>}
<a name="3067"></a>
<a name="3068"></a><span class="source_type">state</span> MatchOver
<a name="3069"></a>{
<a name="3070"></a>    function Timer()
<a name="3071"></a>    {
<a name="3072"></a>        Super.Timer();
<a name="3073"></a>
<a name="3074"></a>        if (ElapsedTime % <span class="source_int">10</span> == <span class="source_int">0</span>)
<a name="3075"></a>        {
<a name="3076"></a>            UpdateSteamUserData();
<a name="3077"></a>        }
<a name="3078"></a>
<a name="3079"></a>        if( !bBossHasSaidWord )
<a name="3080"></a>        {
<a name="3081"></a>            bBossHasSaidWord = True;
<a name="3082"></a>            BossLaughtIt();
<a name="3083"></a>        }
<a name="3084"></a>    }
<a name="3085"></a>
<a name="3086"></a>    function BossLaughtIt()
<a name="3087"></a>    {
<a name="3088"></a>        local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="3089"></a>
<a name="3090"></a>        For( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span>!=None; <span class="source_type">C</span>=<span class="source_type">C</span>.NextController )
<a name="3091"></a>        {
<a name="3092"></a>            if( <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>)!=None && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Health&gt;<span class="source_int">0</span> && <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>).SetBossLaught() )
<a name="3093"></a>                Return;
<a name="3094"></a>        }
<a name="3095"></a>    }
<a name="3096"></a>
<a name="3097"></a>    function <span class="source_type">bool</span> ChangeTeam(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">Other</span>, <span class="source_type">int</span> <span class="source_type">num</span>, <span class="source_type">bool</span> bNewTeam)
<a name="3098"></a>    {
<a name="3099"></a>        <span class="source_comment">// prevents DeathMatch.ChangeTeam from being called so that players aren't
</span><a name="3100"></a>        <span class="source_comment">// blocked from joining a server that is in this state
</span><a name="3101"></a>        if( <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != none && <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> == none )
<a name="3102"></a>        {
<a name="3103"></a>            return Global.ChangeTeam( <span class="source_type">Other</span>, <span class="source_type">num</span>, bNewTeam );
<a name="3104"></a>        }
<a name="3105"></a>        else
<a name="3106"></a>        {
<a name="3107"></a>            return Super.ChangeTeam( <span class="source_type">Other</span>, <span class="source_type">num</span>, bNewTeam );
<a name="3108"></a>        }
<a name="3109"></a>    }
<a name="3110"></a>}
<a name="3111"></a>
<a name="3112"></a>function PlayStartupMessage()
<a name="3113"></a>{
<a name="3114"></a>}
<a name="3115"></a>
<a name="3116"></a><span class="source_comment">//This is kinda messy, but we need to get rid of those damned blue
</span><a name="3117"></a><span class="source_comment">//messages.
</span><a name="3118"></a>event PostLogin( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type">NewPlayer</span> )
<a name="3119"></a>{
<a name="3120"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="3121"></a>
<a name="3122"></a>    <span class="source_type">NewPlayer</span>.SetGRI(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="3123"></a>    <span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerID</span> = CurrentID++;
<a name="3124"></a>
<a name="3125"></a>    Super.PostLogin(<span class="source_type">NewPlayer</span>);
<a name="3126"></a>
<a name="3127"></a>    if (<span class="source_type"><a href="../unrealgame/unrealplayer.html" class="source">UnrealPlayer</a></span>(<span class="source_type">NewPlayer</span>) != None)
<a name="3128"></a>        <span class="source_type"><a href="../unrealgame/unrealplayer.html" class="source">UnrealPlayer</a></span>(<span class="source_type">NewPlayer</span>).ClientReceiveLoginMenu(LoginMenuClass, bAlwaysShowLoginMenu);
<a name="3129"></a>    if ( <span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> != None )
<a name="3130"></a>        GameEvent(<span class="source_string">"TeamChange"</span>,<span class="source_string">""</span>$<span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span>.TeamIndex,<span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>);
<a name="3131"></a>
<a name="3132"></a>    <span class="source_comment">// Initialize the listen server hosts's VOIP. Had to add this here since the
</span><a name="3133"></a>    <span class="source_comment">// Epic code to do this was calling GetLocalPlayerController() in event Login()
</span><a name="3134"></a>    <span class="source_comment">// which of course will always fail, because the PC's "Player" variable
</span><a name="3135"></a>    <span class="source_comment">// hasn't been set yet. - Ramm
</span><a name="3136"></a>    if ( <span class="source_type">NewPlayer</span> != None )
<a name="3137"></a>    {
<a name="3138"></a>        if ( <span class="source_type">Level</span>.NetMode == NM_ListenServer )
<a name="3139"></a>        {
<a name="3140"></a>            if ( <span class="source_type">Level</span>.GetLocalPlayerController() == <span class="source_type">NewPlayer</span> )
<a name="3141"></a>                <span class="source_type">NewPlayer</span>.InitializeVoiceChat();
<a name="3142"></a>        }
<a name="3143"></a>    }
<a name="3144"></a>
<a name="3145"></a>    if ( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">NewPlayer</span>) != none )
<a name="3146"></a>    {
<a name="3147"></a>        for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; InstancedWeaponClasses.Length; <span class="source_type">i</span>++ )
<a name="3148"></a>        {
<a name="3149"></a>            <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">NewPlayer</span>).ClientWeaponSpawned(InstancedWeaponClasses[<span class="source_type">i</span>], none);
<a name="3150"></a>        }
<a name="3151"></a>    }
<a name="3152"></a>
<a name="3153"></a>    if ( <span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator ) <span class="source_comment">// must not be a spectator
</span><a name="3154"></a>    {
<a name="3155"></a>        <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">NewPlayer</span>).JoinedAsSpectatorOnly();
<a name="3156"></a>    }
<a name="3157"></a>    else
<a name="3158"></a>    {
<a name="3159"></a>        <span class="source_type">NewPlayer</span>.GotoState(<span class="source_name">'PlayerWaiting'</span>);
<a name="3160"></a>    }
<a name="3161"></a>
<a name="3162"></a>    if( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">NewPlayer</span>)!=None )
<a name="3163"></a>        StartInitGameMusic(<span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">NewPlayer</span>));
<a name="3164"></a>
<a name="3165"></a>    if ( bCustomGameLength && <span class="source_type">NewPlayer</span>.SteamStatsAndAchievements != none )
<a name="3166"></a>    {
<a name="3167"></a>        <span class="source_type">NewPlayer</span>.SteamStatsAndAchievements.bUsedCheats = true;
<a name="3168"></a>    }
<a name="3169"></a>}
<a name="3170"></a>
<a name="3171"></a>function Logout(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">Exiting</span>)
<a name="3172"></a>{
<a name="3173"></a>    local <span class="source_type"><a href="../engine/inventory.html" class="source">Inventory</a></span> Inv;
<a name="3174"></a>
<a name="3175"></a>    if ( <span class="source_type">Exiting</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != none )
<a name="3176"></a>    {
<a name="3177"></a>        for ( Inv = <span class="source_type">Exiting</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.<span class="source_type"><a href="../engine/inventory.html" class="source">Inventory</a></span>; Inv != none; Inv = Inv.<span class="source_type"><a href="../engine/inventory.html" class="source">Inventory</a></span> )
<a name="3178"></a>        {
<a name="3179"></a>            if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>&gt;(Inv.<span class="source_type">class</span>) != none )
<a name="3180"></a>            {
<a name="3181"></a>                WeaponDestroyed(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>&gt;(Inv.<span class="source_type">class</span>));
<a name="3182"></a>            }
<a name="3183"></a>        }
<a name="3184"></a>    }
<a name="3185"></a>
<a name="3186"></a>    super.Logout(<span class="source_type">Exiting</span>);
<a name="3187"></a>}
<a name="3188"></a>
<a name="3189"></a>function <span class="source_type">Killed</span>(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> Killer, <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">Killed</span>, <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">KilledPawn</span>, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>)
<a name="3190"></a>{
<a name="3191"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="3192"></a>    local <span class="source_type">string</span> <span class="source_type">MapName</span>;
<a name="3193"></a>    local <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span> StatsAndAchievements;
<a name="3194"></a>
<a name="3195"></a>    if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer) != none )
<a name="3196"></a>    {
<a name="3197"></a>        if ( <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>) != None && <span class="source_type">Killed</span> != Killer )
<a name="3198"></a>        {
<a name="3199"></a>            if ( bZEDTimeActive && <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>) != none &&
<a name="3200"></a>                 <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>).ClientVeteranSkill != none &&
<a name="3201"></a>                 <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>).ClientVeteranSkill.static.ZedTimeExtensions(<span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>)) &gt; ZedTimeExtensionsUsed )
<a name="3202"></a>            {
<a name="3203"></a>                <span class="source_comment">// Force Zed Time extension for every kill as long as the Player's Perk has Extensions left
</span><a name="3204"></a>                DramaticEvent(<span class="source_int">1.0</span>);
<a name="3205"></a>
<a name="3206"></a>                ZedTimeExtensionsUsed++;
<a name="3207"></a>            }
<a name="3208"></a>            else if ( <span class="source_type">Level</span>.TimeSeconds - LastZedTimeEvent &gt; <span class="source_int">0.1</span> )
<a name="3209"></a>            {
<a name="3210"></a>                <span class="source_comment">// Possibly do a slomo event when a zombie dies, with a higher chance if the zombie is closer to a player
</span><a name="3211"></a>                if( Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != none && VSizeSquared(Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Location - <span class="source_type">KilledPawn</span>.Location) &lt; <span class="source_int">22500</span> ) <span class="source_comment">// 3 meters
</span><a name="3212"></a>                {
<a name="3213"></a>                    DramaticEvent(<span class="source_int">0.05</span>);
<a name="3214"></a>                }
<a name="3215"></a>                else
<a name="3216"></a>                {
<a name="3217"></a>                    DramaticEvent(<span class="source_int">0.025</span>);
<a name="3218"></a>                }
<a name="3219"></a>            }
<a name="3220"></a>
<a name="3221"></a>            StatsAndAchievements = <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).SteamStatsAndAchievements);
<a name="3222"></a>            if ( StatsAndAchievements != none )
<a name="3223"></a>            {
<a name="3224"></a>                if( Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Physics == PHYS_FALLING && <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span> == <span class="source_type">class</span><span class="source_name">'DamTypeKrissM'</span>)
<a name="3225"></a>                {
<a name="3226"></a>                    StatsAndAchievements.AddAirborneZedKill();
<a name="3227"></a>                }
<a name="3228"></a>
<a name="3229"></a>                <span class="source_type">MapName</span> = GetCurrentMapName(<span class="source_type">Level</span>);
<a name="3230"></a>
<a name="3231"></a>                StatsAndAchievements.AddKill(<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>).bLaserSightedEBRM14Headshotted, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemelee.html" class="source">DamTypeMelee</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, bZEDTimeActive, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypem4assaultrifle.html" class="source">DamTypeM4AssaultRifle</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypem4203assaultrifle.html" class="source">DamTypeM4203AssaultRifle</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypebenelli.html" class="source">DamTypeBenelli</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemagnum44pistol.html" class="source">DamTypeMagnum44Pistol</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemk23pistol.html" class="source">DamTypeMK23Pistol</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypefnfalassaultrifle.html" class="source">DamTypeFNFALAssaultRifle</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypebullpup.html" class="source">DamTypeBullpup</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, <span class="source_type">MapName</span>);
<a name="3232"></a>
<a name="3233"></a>                if ( <span class="source_type">Level</span>.NetMode != NM_StandAlone && <span class="source_type">Level</span>.Game.NumPlayers &gt; <span class="source_int">1</span> && <span class="source_type">KilledPawn</span>.AnimAction == <span class="source_name">'ZombieFeed'</span> )
<a name="3234"></a>                {
<a name="3235"></a>                    StatsAndAchievements.AddFeedingKill();
<a name="3236"></a>                }
<a name="3237"></a>
<a name="3238"></a>                if (<span class="source_type">MapName</span> ~= <span class="source_string">"KF-HillbillyHorror"</span>)
<a name="3239"></a>                {
<a name="3240"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypetrenchgun.html" class="source">DamTypeTrenchgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3241"></a>                    {
<a name="3242"></a>                        StatsAndAchievements.AddKillPoints(StatsAndAchievements.KFACHIEVEMENT_Set200ZedOnFireOnHillbilly);
<a name="3243"></a>                    }
<a name="3244"></a>                }
<a name="3245"></a>
<a name="3246"></a>                if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'KFMonster'</span>) )
<a name="3247"></a>                {
<a name="3248"></a>                    if( <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>).bZapped )
<a name="3249"></a>                    {
<a name="3250"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>).ZappedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).SteamStatsAndAchievements).AddZedKilledWhileZapped();
<a name="3251"></a>                    }
<a name="3252"></a>
<a name="3253"></a>                    if ( Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> != none && <span class="source_type"><a href="../kfmod/kfweapon.html" class="source">KFWeapon</a></span>(Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>) != none && <span class="source_type"><a href="../kfmod/kfweapon.html" class="source">KFWeapon</a></span>(Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>).Tier3WeaponGiver != none &&
<a name="3254"></a>                         <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../kfmod/kfweapon.html" class="source">KFWeapon</a></span>(Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>).Tier3WeaponGiver.SteamStatsAndAchievements) != none )
<a name="3255"></a>                    {
<a name="3256"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../kfmod/kfweapon.html" class="source">KFWeapon</a></span>(Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>).Tier3WeaponGiver.SteamStatsAndAchievements).AddDroppedTier3Weapon();
<a name="3257"></a>                        <span class="source_type"><a href="../kfmod/kfweapon.html" class="source">KFWeapon</a></span>(Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>).Tier3WeaponGiver = none;
<a name="3258"></a>                    }
<a name="3259"></a>
<a name="3260"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypespgrenadeimpact.html" class="source">DamTypeSPGrenadeImpact</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypem79grenadeimpact.html" class="source">DamTypeM79GrenadeImpact</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3261"></a>                    {
<a name="3262"></a>                        StatsAndAchievements.CheckAndSetAchievementComplete( StatsAndAchievements.KFACHIEVEMENT_KillZedWithImpactSPG );
<a name="3263"></a>                    }
<a name="3264"></a>
<a name="3265"></a>                    if ( bZEDTimeActive )
<a name="3266"></a>                    {
<a name="3267"></a>                        if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypespthompson.html" class="source">DamTypeSPThompson</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypebullpup.html" class="source">DamTypeBullpup</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3268"></a>                        {
<a name="3269"></a>                            StatsAndAchievements.AddZedTimeKill();
<a name="3270"></a>                        }
<a name="3271"></a>                    }
<a name="3272"></a>
<a name="3273"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeburned.html" class="source">DamTypeBurned</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflamethrower.html" class="source">DamTypeFlamethrower</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3274"></a>                            <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeblowerthrower.html" class="source">DamTypeBlowerThrower</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3275"></a>                    {
<a name="3276"></a>                        StatsAndAchievements.AddMonsterKillsWithBileOrFlame( <span class="source_type">KilledPawn</span>.<span class="source_type">Class</span> );
<a name="3277"></a>                    }
<a name="3278"></a>                }
<a name="3279"></a>
<a name="3280"></a>                if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'ZombieCrawler'</span>) )
<a name="3281"></a>                {
<a name="3282"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypecrossbow.html" class="source">DamTypeCrossbow</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3283"></a>                    {
<a name="3284"></a>                        StatsAndAchievements.KilledCrawlerWithCrossbow();
<a name="3285"></a>                    }
<a name="3286"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeksgshotgun.html" class="source">DamTypeKSGShotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3287"></a>                    {
<a name="3288"></a>                        StatsAndAchievements.AddCrawlerKillWithKSG();
<a name="3289"></a>                    }
<a name="3290"></a>
<a name="3291"></a>                    if (<span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypethompson.html" class="source">DamTypeThompson</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3292"></a>                    {
<a name="3293"></a>                        StatsAndAchievements.AddKillPoints(StatsAndAchievements.KFACHIEVEMENT_Kill15HillbillyCrawlersThomOrMKB);
<a name="3294"></a>                    }
<a name="3295"></a>
<a name="3296"></a>                    if (<span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemkb42assaultrifle.html" class="source">DamTypeMKb42AssaultRifle</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3297"></a>                    {
<a name="3298"></a>                        StatsAndAchievements.AddKillPoints(StatsAndAchievements.KFACHIEVEMENT_Kill15HillbillyCrawlersThomOrMKB);
<a name="3299"></a>                    }
<a name="3300"></a>
<a name="3301"></a>                    if ( <span class="source_type">KilledPawn</span>.Physics == PHYS_Falling && <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypem79grenade.html" class="source">DamTypeM79Grenade</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3302"></a>                    {
<a name="3303"></a>                        StatsAndAchievements.AddCrawlerKilledInMidair();
<a name="3304"></a>                    }
<a name="3305"></a>
<a name="3306"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypebullpup.html" class="source">DamTypeBullpup</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3307"></a>                    {
<a name="3308"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).SteamStatsAndAchievements).KilledCrawlerWithBullpup();
<a name="3309"></a>                    }
<a name="3310"></a>
<a name="3311"></a>                    StatsAndAchievements.AddXMasCrawlerKill();
<a name="3312"></a>                }
<a name="3313"></a>                else if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'ZombieBloat'</span>) )
<a name="3314"></a>                {
<a name="3315"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeksgshotgun.html" class="source">DamTypeKSGShotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3316"></a>                    {
<a name="3317"></a>                        StatsAndAchievements.AddBloatKillWithKSG();
<a name="3318"></a>                    }
<a name="3319"></a>
<a name="3320"></a>                    StatsAndAchievements.AddBloatKill(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypebullpup.html" class="source">DamTypeBullpup</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none);
<a name="3321"></a>                }
<a name="3322"></a>                else if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'ZombieSiren'</span>) )
<a name="3323"></a>                {
<a name="3324"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeksgshotgun.html" class="source">DamTypeKSGShotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3325"></a>                    {
<a name="3326"></a>                        StatsAndAchievements.AddSirenKillWithKSG();
<a name="3327"></a>                    }
<a name="3328"></a>
<a name="3329"></a>                    StatsAndAchievements.AddSirenKill(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypelawrocketimpact.html" class="source">DamTypeLawRocketImpact</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none);
<a name="3330"></a>                }
<a name="3331"></a>                else if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'ZombieStalker'</span>) )
<a name="3332"></a>                {
<a name="3333"></a>                    if( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypewinchester.html" class="source">DamTypeWinchester</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3334"></a>                    {
<a name="3335"></a>                        StatsAndAchievements.AddStalkerKillWithLAR();
<a name="3336"></a>                    }
<a name="3337"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypefrag.html" class="source">DamTypeFrag</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3338"></a>                    {
<a name="3339"></a>                        StatsAndAchievements.AddStalkerKillWithExplosives();
<a name="3340"></a>                    }
<a name="3341"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemelee.html" class="source">DamTypeMelee</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3342"></a>                    {
<a name="3343"></a>                        <span class="source_comment">// 25% chance saying something about killing Stalker("Kissy, kissy, darlin!" or "Give us a kiss!")
</span><a name="3344"></a>                        if ( !bDidKillStalkerMeleeMessage && FRand() &lt; <span class="source_int">0.25</span> )
<a name="3345"></a>                        {
<a name="3346"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).Speech(<span class="source_name">'AUTO'</span>, <span class="source_int">19</span>, <span class="source_string">""</span>);
<a name="3347"></a>                            bDidKillStalkerMeleeMessage = true;
<a name="3348"></a>                        }
<a name="3349"></a>                    }
<a name="3350"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeksgshotgun.html" class="source">DamTypeKSGShotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3351"></a>                    {
<a name="3352"></a>                        StatsAndAchievements.AddStalkerKillWithKSG();
<a name="3353"></a>                    }
<a name="3354"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypenailgun.html" class="source">DamTypeNailGun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3355"></a>                    {
<a name="3356"></a>                        StatsAndAchievements.AddKillPoints(StatsAndAchievements.KFACHIEVEMENT_Kill4StalkersNailgun);
<a name="3357"></a>                    }
<a name="3358"></a>
<a name="3359"></a>                    if ( <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>).bBackstabbed )
<a name="3360"></a>                    {
<a name="3361"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).SteamStatsAndAchievements).AddStalkerBackstab();
<a name="3362"></a>                    }
<a name="3363"></a>
<a name="3364"></a>                    StatsAndAchievements.AddXMasStalkerKill();
<a name="3365"></a>                }
<a name="3366"></a>                else if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'ZombieHusk'</span>) )
<a name="3367"></a>                {
<a name="3368"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeburned.html" class="source">DamTypeBurned</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflamethrower.html" class="source">DamTypeFlamethrower</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3369"></a>                    {
<a name="3370"></a>                        StatsAndAchievements.KilledHusk(<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>).bDamagedAPlayer);
<a name="3371"></a>                    }
<a name="3372"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeksgshotgun.html" class="source">DamTypeKSGShotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3373"></a>                    {
<a name="3374"></a>                        StatsAndAchievements.AddHuskKillWithKSG();
<a name="3375"></a>                    }
<a name="3376"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypedeagle.html" class="source">DamTypeDeagle</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3377"></a>                              <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemagnum44pistol.html" class="source">DamTypeMagnum44Pistol</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3378"></a>                              <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypedualies.html" class="source">DamTypeDualies</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3379"></a>                              <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflareprojectileimpact.html" class="source">DamTypeFlareProjectileImpact</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3380"></a>                              <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemk23pistol.html" class="source">DamTypeMK23Pistol</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3381"></a>                              <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemagnum44pistol.html" class="source">DamTypeMagnum44Pistol</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3382"></a>                    {
<a name="3383"></a>                        StatsAndAchievements.KilledHuskWithPistol();
<a name="3384"></a>                    }
<a name="3385"></a>                    else if( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypehuskgun.html" class="source">DamTypeHuskGun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3386"></a>                             <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypehuskgunprojectileimpact.html" class="source">DamTypeHuskGunProjectileImpact</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3387"></a>                    {
<a name="3388"></a>                        StatsAndAchievements.KilledXMasHuskWithHuskCannon();
<a name="3389"></a>                    }
<a name="3390"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypelaw.html" class="source">DamTypeLAW</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3391"></a>                    {
<a name="3392"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).SteamStatsAndAchievements).KilledHuskWithLAW();
<a name="3393"></a>                    }
<a name="3394"></a>                }
<a name="3395"></a>                else if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'ZombieScrake'</span>) )
<a name="3396"></a>                {
<a name="3397"></a>                    <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).SteamStatsAndAchievements).AddScrakeKill(<span class="source_type">MapName</span>);
<a name="3398"></a>
<a name="3399"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypelaw.html" class="source">DamTypeLAW</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypesealsquealexplosion.html" class="source">DamTypeSealSquealExplosion</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3400"></a>                    {
<a name="3401"></a>                        StatsAndAchievements.AddScrakeAndFPOneShotKill(true, false);
<a name="3402"></a>                    }
<a name="3403"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypem203grenade.html" class="source">DamTypeM203Grenade</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3404"></a>                    {
<a name="3405"></a>                        StatsAndAchievements.AddM203NadeScrakeKill();
<a name="3406"></a>                    }
<a name="3407"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypechainsaw.html" class="source">DamTypeChainsaw</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3408"></a>                    {
<a name="3409"></a>                        StatsAndAchievements.AddChainsawScrakeKill();
<a name="3410"></a>                    }
<a name="3411"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeksgshotgun.html" class="source">DamTypeKSGShotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3412"></a>                    {
<a name="3413"></a>                        StatsAndAchievements.AddScrakeKillWithKSG();
<a name="3414"></a>                    }
<a name="3415"></a>                    else if( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflarerevolver.html" class="source">DamTypeFlareRevolver</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span> )!= none ||
<a name="3416"></a>                             <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypehuskgun.html" class="source">DamTypeHuskGun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3417"></a>                             <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypehuskgunprojectileimpact.html" class="source">DamTypeHuskGunProjectileImpact</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3418"></a>                             <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeburned.html" class="source">DamTypeBurned</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3419"></a>                             <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypehuskgunprojectileimpact.html" class="source">DamTypeHuskGunProjectileImpact</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3420"></a>                             <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflamenade.html" class="source">DamTypeFlameNade</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3421"></a>                             <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflamethrower.html" class="source">DamTypeFlamethrower</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3422"></a>                             <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflamenade.html" class="source">DamTypeFlameNade</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3423"></a>                             <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflareprojectileimpact.html" class="source">DamTypeFlareProjectileImpact</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3424"></a>                             <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypetrenchgun.html" class="source">DamTypeTrenchgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3425"></a>                    {
<a name="3426"></a>                        StatsAndAchievements.ScrakeKilledByFire();
<a name="3427"></a>                    }
<a name="3428"></a>                    else if(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeclaymoresword.html" class="source">DamTypeClaymoreSword</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3429"></a>                    {
<a name="3430"></a>                        StatsAndAchievements.AddXMasClaymoreScrakeKill();
<a name="3431"></a>                    }
<a name="3432"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypecrossbow.html" class="source">DamTypeCrossbow</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypecrossbowheadshot.html" class="source">DamTypeCrossbowHeadShot</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3433"></a>                    {
<a name="3434"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).SteamStatsAndAchievements).KilledScrakeWithCrossbow();
<a name="3435"></a>                    }
<a name="3436"></a>                }
<a name="3437"></a>                else if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'ZombieFleshPound'</span>) )
<a name="3438"></a>                {
<a name="3439"></a>                    StatsAndAchievements.KilledFleshpound(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemelee.html" class="source">DamTypeMelee</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeaa12shotgun.html" class="source">DamTypeAA12Shotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeknife.html" class="source">DamTypeKnife</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeclaymoresword.html" class="source">DamTypeClaymoreSword</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none);
<a name="3440"></a>
<a name="3441"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypelaw.html" class="source">DamTypeLAW</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none  || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypesealsquealexplosion.html" class="source">DamTypeSealSquealExplosion</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3442"></a>                    {
<a name="3443"></a>                        StatsAndAchievements.AddScrakeAndFPOneShotKill(false, true);
<a name="3444"></a>                    }
<a name="3445"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeksgshotgun.html" class="source">DamTypeKSGShotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3446"></a>                    {
<a name="3447"></a>                        StatsAndAchievements.AddFleshPoundKillWithKSG();
<a name="3448"></a>                    }
<a name="3449"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypedwarfaxe.html" class="source">DamTypeDwarfAxe</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3450"></a>                    {
<a name="3451"></a>                        if ( <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>).bBackstabbed )
<a name="3452"></a>                        {
<a name="3453"></a>                            StatsAndAchievements.AddFleshpoundAxeKill();
<a name="3454"></a>                        }
<a name="3455"></a>                    }
<a name="3456"></a>                    else if (   <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypedualies.html" class="source">DamTypeDualies</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3457"></a>                                <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypedeagle.html" class="source">DamTypeDeagle</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3458"></a>                                <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypedualdeagle.html" class="source">DamTypeDualDeagle</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3459"></a>                                <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemk23pistol.html" class="source">DamTypeMK23Pistol</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3460"></a>                    {
<a name="3461"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).SteamStatsAndAchievements).KilledFleshpoundWithPistol();
<a name="3462"></a>                    }
<a name="3463"></a>
<a name="3464"></a>                }
<a name="3465"></a>                else if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'ZombieBoss'</span>) )
<a name="3466"></a>                {
<a name="3467"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeksgshotgun.html" class="source">DamTypeKSGShotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3468"></a>                    {
<a name="3469"></a>                        StatsAndAchievements.AddBossKillWithKSG();
<a name="3470"></a>                    }
<a name="3471"></a>
<a name="3472"></a>                    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="3473"></a>                    {
<a name="3474"></a>                        if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>) != none && <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SteamStatsAndAchievements) != none )
<a name="3475"></a>                        {
<a name="3476"></a>                            <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SteamStatsAndAchievements).KilledPatriarch(<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>).bHealed, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypelaw.html" class="source">DamTypeLAW</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, GameDifficulty &gt;= <span class="source_int">5.0</span>, <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>).bOnlyDamagedByCrossbow, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeclaymoresword.html" class="source">DamTypeClaymoreSword</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none, <span class="source_type">MapName</span>);
<a name="3477"></a>                        }
<a name="3478"></a>                    }
<a name="3479"></a>                }
<a name="3480"></a>                else if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'ZombieClot'</span>) )
<a name="3481"></a>                {
<a name="3482"></a>                    StatsAndAchievements.AddClotKill();
<a name="3483"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeksgshotgun.html" class="source">DamTypeKSGShotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3484"></a>                    {
<a name="3485"></a>                        StatsAndAchievements.AddClotKillWithKSG();
<a name="3486"></a>                    }
<a name="3487"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypewinchester.html" class="source">DamTypeWinchester</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3488"></a>                    {
<a name="3489"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).SteamStatsAndAchievements).AddClotKillWithLAR();
<a name="3490"></a>                    }
<a name="3491"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeburned.html" class="source">DamTypeBurned</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflamethrower.html" class="source">DamTypeFlamethrower</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3492"></a>                    {
<a name="3493"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).SteamStatsAndAchievements).ClotKilledByFire();
<a name="3494"></a>                    }
<a name="3495"></a>                }
<a name="3496"></a>                else if ( <span class="source_type">KilledPawn</span>.IsA(<span class="source_name">'ZombieGoreFast'</span>) )
<a name="3497"></a>                {
<a name="3498"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeksgshotgun.html" class="source">DamTypeKSGShotgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3499"></a>                    {
<a name="3500"></a>                        StatsAndAchievements.AddGoreFastKillWithKSG();
<a name="3501"></a>                    }
<a name="3502"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemelee.html" class="source">DamTypeMelee</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3503"></a>                    {
<a name="3504"></a>                        <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).SteamStatsAndAchievements).MeleedGorefast();
<a name="3505"></a>                    }
<a name="3506"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypetrenchgun.html" class="source">DamTypeTrenchgun</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3507"></a>                              <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflarerevolver.html" class="source">DamTypeFlareRevolver</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3508"></a>                              <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeflareprojectileimpact.html" class="source">DamTypeFlareProjectileImpact</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3509"></a>                    {
<a name="3510"></a>                        StatsAndAchievements.AddKillPoints(StatsAndAchievements.KFACHIEVEMENT_Set3HillbillyGorefastsOnFire);
<a name="3511"></a>                    }
<a name="3512"></a>
<a name="3513"></a>                    if( <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>).bBackstabbed )
<a name="3514"></a>                    {
<a name="3515"></a>                        StatsAndAchievements.AddGorefastBackstab();
<a name="3516"></a>                    }
<a name="3517"></a>                }
<a name="3518"></a>
<a name="3519"></a>                if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfweapondamagetype.html" class="source">KFWeaponDamageType</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3520"></a>                {
<a name="3521"></a>                    <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfweapondamagetype.html" class="source">KFWeaponDamageType</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>).Static.AwardKill(StatsAndAchievements,<span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(Killer),<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>));
<a name="3522"></a>
<a name="3523"></a>                    if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypepipebomb.html" class="source">DamTypePipeBomb</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3524"></a>                    {
<a name="3525"></a>                        if ( <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>) != none && <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(Killer.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>).ClientVeteranSkill == <span class="source_type">class</span><span class="source_name">'KFVetDemolitions'</span> )
<a name="3526"></a>                        {
<a name="3527"></a>                            StatsAndAchievements.AddDemolitionsPipebombKill();
<a name="3528"></a>                        }
<a name="3529"></a>                    }
<a name="3530"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeburned.html" class="source">DamTypeBurned</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3531"></a>                    {
<a name="3532"></a>                        <span class="source_comment">// 1% chance of the Killer saying something about burning the enemy to death
</span><a name="3533"></a>                        if ( FRand() &lt; <span class="source_int">0.01</span> && <span class="source_type">Level</span>.TimeSeconds - LastBurnedEnemyMessageTime &gt; BurnedEnemyMessageDelay )
<a name="3534"></a>                        {
<a name="3535"></a>                            <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).Speech(<span class="source_name">'AUTO'</span>, <span class="source_int">20</span>, <span class="source_string">""</span>);
<a name="3536"></a>                            LastBurnedEnemyMessageTime = <span class="source_type">Level</span>.TimeSeconds;
<a name="3537"></a>                        }
<a name="3538"></a>                    }
<a name="3539"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypescarmk17assaultrifle.html" class="source">DamTypeSCARMK17AssaultRifle</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3540"></a>                    {
<a name="3541"></a>                        StatsAndAchievements.AddSCARKill();
<a name="3542"></a>                    }
<a name="3543"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypem7a3m.html" class="source">DamTypeM7A3M</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none && <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>).bDamagedAPlayer )
<a name="3544"></a>                    {
<a name="3545"></a>                        StatsAndAchievements.OnKilledZedInjuredPlayerWithM7A3();
<a name="3546"></a>                    }
<a name="3547"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypemkb42assaultrifle.html" class="source">DamTypeMKb42AssaultRifle</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3548"></a>                    {
<a name="3549"></a>                        StatsAndAchievements.AddKillPoints(StatsAndAchievements.KFACHIEVEMENT_Kill6ZedWithoutReloadingMKB42);
<a name="3550"></a>                    }
<a name="3551"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeaxe.html" class="source">DamTypeAxe</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3552"></a>                    {
<a name="3553"></a>                        StatsAndAchievements.AddKillPoints(StatsAndAchievements.KFACHIEVEMENT_Kill5HillbillyZedsIn10SecsSythOrAxe);
<a name="3554"></a>                    }
<a name="3555"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypescythe.html" class="source">DamTypeScythe</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none)
<a name="3556"></a>                    {
<a name="3557"></a>                        StatsAndAchievements.AddKillPoints(StatsAndAchievements.KFACHIEVEMENT_Kill5HillbillyZedsIn10SecsSythOrAxe);
<a name="3558"></a>                    }
<a name="3559"></a>                    else if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypem32grenade.html" class="source">DamTypeM32Grenade</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3560"></a>                                <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeseekerrocketimpact.html" class="source">DamTypeSeekerRocketImpact</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none ||
<a name="3561"></a>                                <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/damtypeseekersixrocket.html" class="source">DamTypeSeekerSixRocket</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none )
<a name="3562"></a>                    {
<a name="3563"></a>                        StatsAndAchievements.AddKillPoints(StatsAndAchievements.KFACHIEVEMENT_Kill10ZedsSeekerOrM32In5Secs);
<a name="3564"></a>                    }
<a name="3565"></a>                }
<a name="3566"></a>                StatsAndAchievements.AddKillPoints(StatsAndAchievements.KFACHIEVEMENT_Kill1000HillbillyZeds);
<a name="3567"></a>            }
<a name="3568"></a>        }
<a name="3569"></a>    }
<a name="3570"></a>
<a name="3571"></a>    if ( (<span class="source_type"><a href="../old2k4/monstercontroller.html" class="source">MonsterController</a></span>(<span class="source_type">Killed</span>) != None) || (<span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>(<span class="source_type">KilledPawn</span>) != None) )
<a name="3572"></a>    {
<a name="3573"></a>        ZombiesKilled++;
<a name="3574"></a>        <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).MaxMonsters = <span class="source_type">Max</span>(TotalMaxMonsters + NumMonsters - <span class="source_int">1</span>,<span class="source_int">0</span>);
<a name="3575"></a>        if ( !bDidTraderMovingMessage )
<a name="3576"></a>        {
<a name="3577"></a>            if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer) != none && <span class="source_type">float</span>(ZombiesKilled) / <span class="source_type">float</span>(ZombiesKilled + TotalMaxMonsters + NumMonsters - <span class="source_int">1</span>) &gt;= <span class="source_int">0.20</span> )
<a name="3578"></a>            {
<a name="3579"></a>                if ( WaveNum &lt; <span class="source_type">FinalWave</span> - <span class="source_int">1</span> || (WaveNum &lt; <span class="source_type">FinalWave</span> && bUseEndGameBoss) )
<a name="3580"></a>                {
<a name="3581"></a>                    <span class="source_comment">// Have Trader tell players that the Shop's Moving
</span><a name="3582"></a>                    <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).ServerSpeech(<span class="source_name">'TRADER'</span>, <span class="source_int">0</span>, <span class="source_string">""</span>);
<a name="3583"></a>                }
<a name="3584"></a>
<a name="3585"></a>                bDidTraderMovingMessage = true;
<a name="3586"></a>            }
<a name="3587"></a>        }
<a name="3588"></a>        else if ( !bDidMoveTowardTraderMessage )
<a name="3589"></a>        {
<a name="3590"></a>            if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer) != none && <span class="source_type">float</span>(ZombiesKilled) / <span class="source_type">float</span>(ZombiesKilled + TotalMaxMonsters + NumMonsters - <span class="source_int">1</span>) &gt;= <span class="source_int">0.80</span> )
<a name="3591"></a>            {
<a name="3592"></a>                if ( WaveNum &lt; <span class="source_type">FinalWave</span> - <span class="source_int">1</span> || (WaveNum &lt; <span class="source_type">FinalWave</span> && bUseEndGameBoss) )
<a name="3593"></a>                {
<a name="3594"></a>                    if ( <span class="source_type">Level</span>.NetMode != NM_Standalone || Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> == none || <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop == none ||
<a name="3595"></a>                         VSizeSquared(Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Location - <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).CurrentShop.Location) &gt; <span class="source_int">2250000</span> ) <span class="source_comment">// 30 meters
</span><a name="3596"></a>                    {
<a name="3597"></a>                        <span class="source_comment">// Have Trader tell players that the Shop's Almost Open
</span><a name="3598"></a>                        <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(Killer).Speech(<span class="source_name">'TRADER'</span>, <span class="source_int">1</span>, <span class="source_string">""</span>);
<a name="3599"></a>                    }
<a name="3600"></a>                }
<a name="3601"></a>
<a name="3602"></a>                bDidMoveTowardTraderMessage = true;
<a name="3603"></a>            }
<a name="3604"></a>        }
<a name="3605"></a>    }
<a name="3606"></a>
<a name="3607"></a>    if ( <span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>(<span class="source_type">KilledPawn</span>) != none && <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span> == <span class="source_type">class</span><span class="source_name">'DamTypeVomit'</span> )
<a name="3608"></a>    {
<a name="3609"></a>        for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.NextController )
<a name="3610"></a>        {
<a name="3611"></a>            if ( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>) != none && <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SteamStatsAndAchievements) != none )
<a name="3612"></a>            {
<a name="3613"></a>                <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">C</span>).SteamStatsAndAchievements).KilledEnemyWithBloatAcid();
<a name="3614"></a>            }
<a name="3615"></a>        }
<a name="3616"></a>    }
<a name="3617"></a>
<a name="3618"></a>    Super.<span class="source_type">Killed</span>(Killer,<span class="source_type">Killed</span>,<span class="source_type">KilledPawn</span>,<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>);
<a name="3619"></a>}
<a name="3620"></a>
<a name="3621"></a>function SetupWave()
<a name="3622"></a>{
<a name="3623"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,j;
<a name="3624"></a>    local <span class="source_type">float</span> NewMaxMonsters;
<a name="3625"></a>    <span class="source_comment">//local int m;
</span><a name="3626"></a>    local <span class="source_type">float</span> DifficultyMod, NumPlayersMod;
<a name="3627"></a>    local <span class="source_type">int</span> UsedNumPlayers;
<a name="3628"></a>
<a name="3629"></a>    if ( WaveNum &gt; <span class="source_int">15</span> )
<a name="3630"></a>    {
<a name="3631"></a>        SetupRandomWave();
<a name="3632"></a>        return;
<a name="3633"></a>    }
<a name="3634"></a>
<a name="3635"></a>    TraderProblemLevel = <span class="source_int">0</span>;
<a name="3636"></a>    rewardFlag=false;
<a name="3637"></a>    ZombiesKilled=<span class="source_int">0</span>;
<a name="3638"></a>    WaveMonsters = <span class="source_int">0</span>;
<a name="3639"></a>    WaveNumClasses = <span class="source_int">0</span>;
<a name="3640"></a>    NewMaxMonsters = Waves[WaveNum].WaveMaxMonsters;
<a name="3641"></a>
<a name="3642"></a>    <span class="source_comment">// scale number of zombies by difficulty
</span><a name="3643"></a>    if ( GameDifficulty &gt;= <span class="source_int">7.0</span> ) <span class="source_comment">// Hell on Earth
</span><a name="3644"></a>    {
<a name="3645"></a>        DifficultyMod=<span class="source_int">1.7</span>;
<a name="3646"></a>    }
<a name="3647"></a>    else if ( GameDifficulty &gt;= <span class="source_int">5.0</span> ) <span class="source_comment">// Suicidal
</span><a name="3648"></a>    {
<a name="3649"></a>        DifficultyMod=<span class="source_int">1.5</span>;
<a name="3650"></a>    }
<a name="3651"></a>    else if ( GameDifficulty &gt;= <span class="source_int">4.0</span> ) <span class="source_comment">// Hard
</span><a name="3652"></a>    {
<a name="3653"></a>        DifficultyMod=<span class="source_int">1.3</span>;
<a name="3654"></a>    }
<a name="3655"></a>    else if ( GameDifficulty &gt;= <span class="source_int">2.0</span> ) <span class="source_comment">// Normal
</span><a name="3656"></a>    {
<a name="3657"></a>        DifficultyMod=<span class="source_int">1.0</span>;
<a name="3658"></a>    }
<a name="3659"></a>    else <span class="source_comment">//if ( GameDifficulty == 1.0 ) // Beginner
</span><a name="3660"></a>    {
<a name="3661"></a>        DifficultyMod=<span class="source_int">0.7</span>;
<a name="3662"></a>    }
<a name="3663"></a>
<a name="3664"></a>    UsedNumPlayers = NumPlayers + NumBots;
<a name="3665"></a>
<a name="3666"></a>    <span class="source_comment">// Scale the number of zombies by the number of players. Don't want to
</span><a name="3667"></a>    <span class="source_comment">// do this exactly linear, or it just gets to be too many zombies and too
</span><a name="3668"></a>    <span class="source_comment">// long of waves at higher levels - Ramm
</span><a name="3669"></a>    <span class="source_type">switch</span> ( UsedNumPlayers )
<a name="3670"></a>    {
<a name="3671"></a>        case <span class="source_int">1</span>:
<a name="3672"></a>            NumPlayersMod=<span class="source_int">1</span>;
<a name="3673"></a>            break;
<a name="3674"></a>        case <span class="source_int">2</span>:
<a name="3675"></a>            NumPlayersMod=<span class="source_int">2</span>;
<a name="3676"></a>            break;
<a name="3677"></a>        case <span class="source_int">3</span>:
<a name="3678"></a>            NumPlayersMod=<span class="source_int">2.75</span>;
<a name="3679"></a>            break;
<a name="3680"></a>        case <span class="source_int">4</span>:
<a name="3681"></a>            NumPlayersMod=<span class="source_int">3.5</span>;
<a name="3682"></a>            break;
<a name="3683"></a>        case <span class="source_int">5</span>:
<a name="3684"></a>            NumPlayersMod=<span class="source_int">4</span>;
<a name="3685"></a>            break;
<a name="3686"></a>        case <span class="source_int">6</span>:
<a name="3687"></a>            NumPlayersMod=<span class="source_int">4.5</span>;
<a name="3688"></a>            break;
<a name="3689"></a>        default:
<a name="3690"></a>            NumPlayersMod=UsedNumPlayers*<span class="source_int">0.8</span>; <span class="source_comment">// in case someone makes a mutator with &gt; 6 players
</span><a name="3691"></a>    }
<a name="3692"></a>
<a name="3693"></a>    NewMaxMonsters = NewMaxMonsters * DifficultyMod * NumPlayersMod;
<a name="3694"></a>
<a name="3695"></a>    TotalMaxMonsters = Clamp(NewMaxMonsters,<span class="source_int">5</span>,<span class="source_int">800</span>);  <span class="source_comment">//11, MAX 800, MIN 5
</span><a name="3696"></a>
<a name="3697"></a>    MaxMonsters = Clamp(TotalMaxMonsters,<span class="source_int">5</span>,MaxZombiesOnce);
<a name="3698"></a>    <span class="source_comment">//log("****** "$MaxMonsters$" Max at once!");
</span><a name="3699"></a>
<a name="3700"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).MaxMonsters=TotalMaxMonsters;
<a name="3701"></a>    <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type">Level</span>.Game.<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).MaxMonstersOn=true;
<a name="3702"></a>    WaveEndTime = <span class="source_type">Level</span>.TimeSeconds + Waves[WaveNum].WaveDuration;
<a name="3703"></a>    AdjustedDifficulty = GameDifficulty + Waves[WaveNum].WaveDifficulty;
<a name="3704"></a>
<a name="3705"></a>    j = ZedSpawnList.Length;
<a name="3706"></a>    for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;j; <span class="source_type">i</span>++ )
<a name="3707"></a>        ZedSpawnList[<span class="source_type">i</span>].Reset();
<a name="3708"></a>    j = <span class="source_int">1</span>;
<a name="3709"></a>    SquadsToUse.Length = <span class="source_int">0</span>;
<a name="3710"></a>
<a name="3711"></a>    for ( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;InitSquads.Length; <span class="source_type">i</span>++ )
<a name="3712"></a>    {
<a name="3713"></a>        if ( (j & Waves[WaveNum].WaveMask) != <span class="source_int">0</span> )
<a name="3714"></a>        {
<a name="3715"></a>            SquadsToUse.Insert(<span class="source_int">0</span>,<span class="source_int">1</span>);
<a name="3716"></a>            SquadsToUse[<span class="source_int">0</span>] = <span class="source_type">i</span>;
<a name="3717"></a>
<a name="3718"></a>            <span class="source_comment">// Ramm ZombieSpawn debugging
</span><a name="3719"></a>            <span class="source_comment">/*for ( m=0; m&lt;InitSquads[i].MSquad.Length; m++ )
<a name="3720"></a>            {
<a name="3721"></a>               log("Wave "$WaveNum$" Squad "$SquadsToUse.Length$" Monster "$m$" "$InitSquads[i].MSquad[m]);
<a name="3722"></a>            }
<a name="3723"></a>            log("****** "$TotalMaxMonsters);*/</span>
<a name="3724"></a>        }
<a name="3725"></a>        j *= <span class="source_int">2</span>;
<a name="3726"></a>    }
<a name="3727"></a>
<a name="3728"></a>    <span class="source_comment">// Save this for use elsewhere
</span><a name="3729"></a>    InitialSquadsToUseSize = SquadsToUse.Length;
<a name="3730"></a>    bUsedSpecialSquad=false;
<a name="3731"></a>    SpecialListCounter=<span class="source_int">1</span>;
<a name="3732"></a>
<a name="3733"></a>    <span class="source_comment">//Now build the first squad to use
</span><a name="3734"></a>    BuildNextSquad();
<a name="3735"></a>}
<a name="3736"></a>
<a name="3737"></a>function BuildNextSquad()
<a name="3738"></a>{
<a name="3739"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>, j, RandNum;
<a name="3740"></a>    <span class="source_comment">//local int m;
</span><a name="3741"></a>
<a name="3742"></a>    <span class="source_comment">// Reinitialize the SquadsToUse after all the squads have been used up
</span><a name="3743"></a>    if( SquadsToUse.Length == <span class="source_int">0</span> )
<a name="3744"></a>    {
<a name="3745"></a>        j = <span class="source_int">1</span>;
<a name="3746"></a>
<a name="3747"></a>        for ( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;InitSquads.Length; <span class="source_type">i</span>++ )
<a name="3748"></a>        {
<a name="3749"></a>            if ( (j & Waves[WaveNum].WaveMask) != <span class="source_int">0</span> )
<a name="3750"></a>            {
<a name="3751"></a>                SquadsToUse.Insert(<span class="source_int">0</span>,<span class="source_int">1</span>);
<a name="3752"></a>                SquadsToUse[<span class="source_int">0</span>] = <span class="source_type">i</span>;
<a name="3753"></a>
<a name="3754"></a>                <span class="source_comment">// Ramm ZombieSpawn debugging
</span><a name="3755"></a>                <span class="source_comment">/*
<a name="3756"></a>                for ( m=0; m&lt;InitSquads[i].MSquad.Length; m++ )
<a name="3757"></a>                {
<a name="3758"></a>                   log("ReInit!!! Wave "$WaveNum$" Squad "$SquadsToUse.Length$" Monster "$m$" "$InitSquads[i].MSquad[m]);
<a name="3759"></a>                }
<a name="3760"></a>                log("****** "$TotalMaxMonsters);*/</span>
<a name="3761"></a>            }
<a name="3762"></a>
<a name="3763"></a>            j *= <span class="source_int">2</span>;
<a name="3764"></a>        }
<a name="3765"></a>
<a name="3766"></a>        if( SquadsToUse.Length==<span class="source_int">0</span> )
<a name="3767"></a>        {
<a name="3768"></a>            Warn(<span class="source_string">"No squads to initilize with."</span>);
<a name="3769"></a>            Return;
<a name="3770"></a>        }
<a name="3771"></a>
<a name="3772"></a>        <span class="source_comment">// Save this for use elsewhere
</span><a name="3773"></a>        InitialSquadsToUseSize = SquadsToUse.Length;
<a name="3774"></a>        SpecialListCounter++;
<a name="3775"></a>        bUsedSpecialSquad=false;
<a name="3776"></a>    }
<a name="3777"></a>
<a name="3778"></a>    RandNum = Rand(SquadsToUse.Length);
<a name="3779"></a>    NextSpawnSquad = InitSquads[SquadsToUse[RandNum]].MSquad;
<a name="3780"></a>
<a name="3781"></a>    <span class="source_comment">// Take this squad out of the list so we don't get repeats
</span><a name="3782"></a>    SquadsToUse.Remove(RandNum,<span class="source_int">1</span>);
<a name="3783"></a>
<a name="3784"></a>}
<a name="3785"></a>
<a name="3786"></a><span class="source_comment">// If spawning in the previous zombie volume failed, try another
</span><a name="3787"></a>function TryToSpawnInAnotherVolume(optional <span class="source_type">bool</span> bBossSpawning)
<a name="3788"></a>{
<a name="3789"></a>    <span class="source_comment">//log("Spawning failed, trying another volume");
</span><a name="3790"></a>    LastZVol = FindSpawningVolume(false, bBossSpawning);
<a name="3791"></a>    if( LastZVol!=None )
<a name="3792"></a>        LastSpawningVolume = LastZVol;
<a name="3793"></a>}
<a name="3794"></a>
<a name="3795"></a>function AddSpecialSquadFromGameType()
<a name="3796"></a>{
<a name="3797"></a>    local <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; <span class="source_type">MC</span>;
<a name="3798"></a>    local array&lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; &gt; TempSquads;
<a name="3799"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,j;
<a name="3800"></a>
<a name="3801"></a>    <span class="source_comment">//Log("Loading up Special monster classes...");
</span><a name="3802"></a>    for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;SpecialSquads[WaveNum].ZedClass.Length; <span class="source_type">i</span>++ )
<a name="3803"></a>    {
<a name="3804"></a>        if( SpecialSquads[WaveNum].ZedClass[<span class="source_type">i</span>]==<span class="source_string">""</span> )
<a name="3805"></a>        {
<a name="3806"></a>            <span class="source_comment">//log("Missing a special squad!!!");
</span><a name="3807"></a>            Continue;
<a name="3808"></a>        }
<a name="3809"></a>        <span class="source_type">MC</span> = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(DynamicLoadObject(SpecialSquads[WaveNum].ZedClass[<span class="source_type">i</span>],<span class="source_type">Class</span><span class="source_name">'Class'</span>));
<a name="3810"></a>        if( <span class="source_type">MC</span>==None )
<a name="3811"></a>        {
<a name="3812"></a>            <span class="source_comment">//log("Couldn't DLO a special squad!!!");
</span><a name="3813"></a>            Continue;
<a name="3814"></a>        }
<a name="3815"></a>
<a name="3816"></a>        for( j=<span class="source_int">0</span>; j&lt;SpecialSquads[WaveNum].NumZeds[<span class="source_type">i</span>]; j++ )
<a name="3817"></a>        {
<a name="3818"></a>            <span class="source_comment">//log("SpecialSquad!!! Wave "$WaveNum$" Monster "$j$" = "$MC);
</span><a name="3819"></a>
<a name="3820"></a>            TempSquads[TempSquads.Length] = <span class="source_type">MC</span>;
<a name="3821"></a>        }
<a name="3822"></a>        <span class="source_comment">//log("****** SpecialSquad");
</span><a name="3823"></a>    }
<a name="3824"></a>
<a name="3825"></a>    bUsedSpecialSquad = true;
<a name="3826"></a>
<a name="3827"></a>    NextSpawnSquad = TempSquads;
<a name="3828"></a>}
<a name="3829"></a>
<a name="3830"></a>function AddSpecialSquadFromCollection()
<a name="3831"></a>{
<a name="3832"></a>    local <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; <span class="source_type">MC</span>;
<a name="3833"></a>    local array&lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; &gt; TempSquads;
<a name="3834"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,j;
<a name="3835"></a>
<a name="3836"></a>    <span class="source_comment">//Log("Loading up Special monster classes...");
</span><a name="3837"></a>    for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;MonsterCollection.default.SpecialSquads[WaveNum].ZedClass.Length; <span class="source_type">i</span>++ )
<a name="3838"></a>    {
<a name="3839"></a>        if( MonsterCollection.default.SpecialSquads[WaveNum].ZedClass[<span class="source_type">i</span>]==<span class="source_string">""</span> )
<a name="3840"></a>        {
<a name="3841"></a>            <span class="source_comment">//log("Missing a special squad!!!");
</span><a name="3842"></a>            Continue;
<a name="3843"></a>        }
<a name="3844"></a>        <span class="source_type">MC</span> = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(DynamicLoadObject(MonsterCollection.default.SpecialSquads[WaveNum].ZedClass[<span class="source_type">i</span>],<span class="source_type">Class</span><span class="source_name">'Class'</span>));
<a name="3845"></a>        if( <span class="source_type">MC</span>==None )
<a name="3846"></a>        {
<a name="3847"></a>            <span class="source_comment">//log("Couldn't DLO a special squad!!!");
</span><a name="3848"></a>            Continue;
<a name="3849"></a>        }
<a name="3850"></a>
<a name="3851"></a>        for( j=<span class="source_int">0</span>; j&lt;MonsterCollection.default.SpecialSquads[WaveNum].NumZeds[<span class="source_type">i</span>]; j++ )
<a name="3852"></a>        {
<a name="3853"></a>            <span class="source_comment">//log("SpecialSquad!!! Wave "$WaveNum$" Monster "$j$" = "$MC);
</span><a name="3854"></a>
<a name="3855"></a>            TempSquads[TempSquads.Length] = <span class="source_type">MC</span>;
<a name="3856"></a>        }
<a name="3857"></a>        <span class="source_comment">//log("****** SpecialSquad");
</span><a name="3858"></a>    }
<a name="3859"></a>
<a name="3860"></a>    bUsedSpecialSquad = true;
<a name="3861"></a>
<a name="3862"></a>    NextSpawnSquad = TempSquads;
<a name="3863"></a>}
<a name="3864"></a><span class="source_comment">// Load up a special monster squad. Used outside of the normal system to spawn
</span><a name="3865"></a><span class="source_comment">// a group of particularly nasty squad of zeds only once per time through the
</span><a name="3866"></a><span class="source_comment">// squad list
</span><a name="3867"></a>function AddSpecialSquad()
<a name="3868"></a>{
<a name="3869"></a>    if( SpecialSquads.Length == <span class="source_int">0</span> )
<a name="3870"></a>    {
<a name="3871"></a>        AddSpecialSquadFromCollection();
<a name="3872"></a>    }
<a name="3873"></a>    else
<a name="3874"></a>    {
<a name="3875"></a>        AddSpecialSquadFromGameType();
<a name="3876"></a>    }
<a name="3877"></a>}
<a name="3878"></a>
<a name="3879"></a>function <span class="source_type">bool</span> AddSquad()
<a name="3880"></a>{
<a name="3881"></a>    local <span class="source_type">int</span> numspawned;
<a name="3882"></a>    local <span class="source_type">int</span> ZombiesAtOnceLeft;
<a name="3883"></a>    local <span class="source_type">int</span> TotalZombiesValue;
<a name="3884"></a>
<a name="3885"></a>    if(LastZVol==none || NextSpawnSquad.length==<span class="source_int">0</span>)
<a name="3886"></a>    {
<a name="3887"></a>        <span class="source_comment">// Throw in the special squad if the time is right
</span><a name="3888"></a>        if( KFGameLength != GL_Custom && !bUsedSpecialSquad &&
<a name="3889"></a>            (MonsterCollection.default.SpecialSquads.Length &gt;= WaveNum || SpecialSquads.Length &gt;= WaveNum)
<a name="3890"></a>            && MonsterCollection.default.SpecialSquads[WaveNum].ZedClass.Length &gt; <span class="source_int">0</span>
<a name="3891"></a>            && (SpecialListCounter%<span class="source_int">2</span> == <span class="source_int">1</span>))
<a name="3892"></a>        {
<a name="3893"></a>            AddSpecialSquad();
<a name="3894"></a>        }
<a name="3895"></a>        else
<a name="3896"></a>        {
<a name="3897"></a>            BuildNextSquad();
<a name="3898"></a>        }
<a name="3899"></a>        LastZVol = FindSpawningVolume();
<a name="3900"></a>        if( LastZVol!=None )
<a name="3901"></a>            LastSpawningVolume = LastZVol;
<a name="3902"></a>    }
<a name="3903"></a>
<a name="3904"></a>    if(LastZVol == None)
<a name="3905"></a>    {
<a name="3906"></a>        NextSpawnSquad.length = <span class="source_int">0</span>;
<a name="3907"></a>        return false;
<a name="3908"></a>    }
<a name="3909"></a>
<a name="3910"></a>    <span class="source_comment">// How many zombies can we have left to spawn at once
</span><a name="3911"></a>    ZombiesAtOnceLeft = MaxMonsters - NumMonsters;
<a name="3912"></a>
<a name="3913"></a>    <span class="source_comment">//Log("Spawn on"@LastZVol.Name);
</span><a name="3914"></a>    if( LastZVol.SpawnInHere(NextSpawnSquad,,numspawned,TotalMaxMonsters,ZombiesAtOnceLeft,TotalZombiesValue) )
<a name="3915"></a>    {
<a name="3916"></a>        NumMonsters += numspawned; <span class="source_comment">//NextSpawnSquad.Length;
</span><a name="3917"></a>        WaveMonsters+= numspawned; <span class="source_comment">//NextSpawnSquad.Length;
</span><a name="3918"></a>
<a name="3919"></a>        if( bDebugMoney )
<a name="3920"></a>        {
<a name="3921"></a>            if ( GameDifficulty &gt;= <span class="source_int">7.0</span> ) <span class="source_comment">// Hell on Earth
</span><a name="3922"></a>            {
<a name="3923"></a>                TotalZombiesValue *= <span class="source_int">0.5</span>;
<a name="3924"></a>            }
<a name="3925"></a>            else if ( GameDifficulty &gt;= <span class="source_int">5.0</span> ) <span class="source_comment">// Suicidal
</span><a name="3926"></a>            {
<a name="3927"></a>                TotalZombiesValue *= <span class="source_int">0.6</span>;
<a name="3928"></a>            }
<a name="3929"></a>            else if ( GameDifficulty &gt;= <span class="source_int">4.0</span> ) <span class="source_comment">// Hard
</span><a name="3930"></a>            {
<a name="3931"></a>                TotalZombiesValue *= <span class="source_int">0.75</span>;
<a name="3932"></a>            }
<a name="3933"></a>            else if ( GameDifficulty &gt;= <span class="source_int">2.0</span> ) <span class="source_comment">// Normal
</span><a name="3934"></a>            {
<a name="3935"></a>                TotalZombiesValue *= <span class="source_int">1.0</span>;
<a name="3936"></a>            }
<a name="3937"></a>            else <span class="source_comment">//if ( GameDifficulty == 1.0 ) // Beginner
</span><a name="3938"></a>            {
<a name="3939"></a>                TotalZombiesValue *= <span class="source_int">2.0</span>;
<a name="3940"></a>            }
<a name="3941"></a>
<a name="3942"></a>            TotalPossibleWaveMoney += TotalZombiesValue;
<a name="3943"></a>            TotalPossibleMatchMoney += TotalZombiesValue;
<a name="3944"></a>        }
<a name="3945"></a>
<a name="3946"></a>        NextSpawnSquad.Remove(<span class="source_int">0</span>, numspawned);
<a name="3947"></a>
<a name="3948"></a>        return true;
<a name="3949"></a>    }
<a name="3950"></a>    else
<a name="3951"></a>    {
<a name="3952"></a>        TryToSpawnInAnotherVolume();
<a name="3953"></a>        return false;
<a name="3954"></a>    }
<a name="3955"></a>}
<a name="3956"></a>
<a name="3957"></a>function <span class="source_type">bool</span> AddBoss()
<a name="3958"></a>{
<a name="3959"></a>    local <span class="source_type">int</span> ZombiesAtOnceLeft;
<a name="3960"></a>    local <span class="source_type">int</span> numspawned;
<a name="3961"></a>
<a name="3962"></a>    FinalSquadNum = <span class="source_int">0</span>;
<a name="3963"></a>
<a name="3964"></a>    <span class="source_comment">// Force this to the final boss class
</span><a name="3965"></a>    NextSpawnSquad.Length = <span class="source_int">1</span>;
<a name="3966"></a>    if( KFGameLength != GL_Custom)
<a name="3967"></a>    {
<a name="3968"></a>        NextSpawnSquad[<span class="source_int">0</span>] = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(DynamicLoadObject(MonsterCollection.default.EndGameBossClass,<span class="source_type">Class</span><span class="source_name">'Class'</span>));
<a name="3969"></a>    }
<a name="3970"></a>    else
<a name="3971"></a>    {
<a name="3972"></a>        NextSpawnSquad[<span class="source_int">0</span>] = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(DynamicLoadObject(EndGameBossClass,<span class="source_type">Class</span><span class="source_name">'Class'</span>));
<a name="3973"></a>    }
<a name="3974"></a>
<a name="3975"></a>    if( LastZVol==none )
<a name="3976"></a>    {
<a name="3977"></a>        LastZVol = FindSpawningVolume(false, true);
<a name="3978"></a>        if(LastZVol!=None)
<a name="3979"></a>            LastSpawningVolume = LastZVol;
<a name="3980"></a>    }
<a name="3981"></a>
<a name="3982"></a>    if(LastZVol == None)
<a name="3983"></a>    {
<a name="3984"></a>        LastZVol = FindSpawningVolume(true, true);
<a name="3985"></a>        if( LastZVol!=None )
<a name="3986"></a>            LastSpawningVolume = LastZVol;
<a name="3987"></a>
<a name="3988"></a>        if( LastZVol == none )
<a name="3989"></a>        {
<a name="3990"></a>            <span class="source_comment">//log("Error!!! Couldn't find a place for the Patriarch after 2 tries, trying again later!!!");
</span><a name="3991"></a>            TryToSpawnInAnotherVolume(true);
<a name="3992"></a>            return false;
<a name="3993"></a>        }
<a name="3994"></a>    }
<a name="3995"></a>
<a name="3996"></a>    <span class="source_comment">// How many zombies can we have left to spawn at once
</span><a name="3997"></a>    ZombiesAtOnceLeft = MaxMonsters - NumMonsters;
<a name="3998"></a>
<a name="3999"></a>    <span class="source_comment">//log("Patrarich spawn, MaxMonsters = "$MaxMonsters$" NumMonsters = "$NumMonsters$" ZombiesAtOnceLeft = "$ZombiesAtOnceLeft$" TotalMaxMonsters = "$TotalMaxMonsters);
</span><a name="4000"></a>
<a name="4001"></a>    if(LastZVol.SpawnInHere(NextSpawnSquad,,numspawned,TotalMaxMonsters,<span class="source_int">32</span><span class="source_comment">/*ZombiesAtOnceLeft*/</span>,,true))
<a name="4002"></a>    {
<a name="4003"></a>        <span class="source_comment">//log("Spawned Patriarch - numspawned = "$numspawned);
</span><a name="4004"></a>
<a name="4005"></a>        NumMonsters+=numspawned;
<a name="4006"></a>        WaveMonsters+=numspawned;
<a name="4007"></a>
<a name="4008"></a>        return true;
<a name="4009"></a>    }
<a name="4010"></a>    else
<a name="4011"></a>    {
<a name="4012"></a>        <span class="source_comment">//log("Failed Spawned Patriarch - numspawned = "$numspawned);
</span><a name="4013"></a>
<a name="4014"></a>        TryToSpawnInAnotherVolume(true);
<a name="4015"></a>        return false;
<a name="4016"></a>    }
<a name="4017"></a>
<a name="4018"></a>}
<a name="4019"></a>
<a name="4020"></a><span class="source_comment">// Spawn a helper squad for the patriarch when he runs off to heal
</span><a name="4021"></a>function AddBossBuddySquad()
<a name="4022"></a>{
<a name="4023"></a>    local <span class="source_type">int</span> numspawned;
<a name="4024"></a>    local <span class="source_type">int</span> TotalZombiesValue;
<a name="4025"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="4026"></a>    local <span class="source_type">int</span> TempMaxMonsters;
<a name="4027"></a>    local <span class="source_type">int</span> TotalSpawned;
<a name="4028"></a>    local <span class="source_type">int</span> TotalZeds;
<a name="4029"></a>    local <span class="source_type">int</span> SpawnDiff;
<a name="4030"></a>
<a name="4031"></a>    <span class="source_comment">// Scale the number of helpers by the number of players
</span><a name="4032"></a>    if( NumPlayers == <span class="source_int">1</span> )
<a name="4033"></a>    {
<a name="4034"></a>        TotalZeds = <span class="source_int">8</span>;
<a name="4035"></a>    }
<a name="4036"></a>    else if( NumPlayers &lt;= <span class="source_int">3</span> )
<a name="4037"></a>    {
<a name="4038"></a>        TotalZeds = <span class="source_int">12</span>;
<a name="4039"></a>    }
<a name="4040"></a>    else if( NumPlayers &lt;= <span class="source_int">5</span> )
<a name="4041"></a>    {
<a name="4042"></a>        TotalZeds = <span class="source_int">14</span>;
<a name="4043"></a>    }
<a name="4044"></a>    else if( NumPlayers &gt;= <span class="source_int">6</span> )
<a name="4045"></a>    {
<a name="4046"></a>        TotalZeds = <span class="source_int">16</span>;
<a name="4047"></a>    }
<a name="4048"></a>
<a name="4049"></a>    for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; <span class="source_int">10</span>; <span class="source_type">i</span>++ )
<a name="4050"></a>    {
<a name="4051"></a>        if( TotalSpawned &gt;= TotalZeds )
<a name="4052"></a>        {
<a name="4053"></a>            FinalSquadNum++;
<a name="4054"></a>            <span class="source_comment">//log("Too many monsters, returning");
</span><a name="4055"></a>            return;
<a name="4056"></a>        }
<a name="4057"></a>
<a name="4058"></a>        numspawned = <span class="source_int">0</span>;
<a name="4059"></a>
<a name="4060"></a>        <span class="source_comment">// Set up the squad for spawning
</span><a name="4061"></a>        NextSpawnSquad.length = <span class="source_int">0</span>;
<a name="4062"></a>        AddSpecialPatriarchSquad();
<a name="4063"></a>
<a name="4064"></a>        LastZVol = FindSpawningVolume();
<a name="4065"></a>        if( LastZVol!=None )
<a name="4066"></a>            LastSpawningVolume = LastZVol;
<a name="4067"></a>
<a name="4068"></a>        if(LastZVol == None)
<a name="4069"></a>        {
<a name="4070"></a>            LastZVol = FindSpawningVolume();
<a name="4071"></a>            if( LastZVol!=None )
<a name="4072"></a>                LastSpawningVolume = LastZVol;
<a name="4073"></a>
<a name="4074"></a>            if( LastZVol == none )
<a name="4075"></a>            {
<a name="4076"></a>                log(<span class="source_string">"Error!!! Couldn't find a place for the Patriarch squad after 2 tries!!!"</span>);
<a name="4077"></a>            }
<a name="4078"></a>        }
<a name="4079"></a>
<a name="4080"></a>        <span class="source_comment">// See if we've reached the limit
</span><a name="4081"></a>        if( (NextSpawnSquad.Length + TotalSpawned) &gt; TotalZeds )
<a name="4082"></a>        {
<a name="4083"></a>            SpawnDiff = (NextSpawnSquad.Length + TotalSpawned) - TotalZeds;
<a name="4084"></a>
<a name="4085"></a>            if( NextSpawnSquad.Length &gt; SpawnDiff )
<a name="4086"></a>            {
<a name="4087"></a>                NextSpawnSquad.Remove(<span class="source_int">0</span>, SpawnDiff);
<a name="4088"></a>            }
<a name="4089"></a>            else
<a name="4090"></a>            {
<a name="4091"></a>                FinalSquadNum++;
<a name="4092"></a>                return;
<a name="4093"></a>            }
<a name="4094"></a>
<a name="4095"></a>            if( NextSpawnSquad.Length == <span class="source_int">0</span> )
<a name="4096"></a>            {
<a name="4097"></a>                FinalSquadNum++;
<a name="4098"></a>                return;
<a name="4099"></a>            }
<a name="4100"></a>        }
<a name="4101"></a>
<a name="4102"></a>        <span class="source_comment">// Spawn the squad
</span><a name="4103"></a>        TempMaxMonsters =<span class="source_int">999</span>;
<a name="4104"></a>        if( LastZVol.SpawnInHere(NextSpawnSquad,,numspawned,TempMaxMonsters,<span class="source_int">999</span>,TotalZombiesValue) )
<a name="4105"></a>        {
<a name="4106"></a>            NumMonsters += numspawned;
<a name="4107"></a>            WaveMonsters+= numspawned;
<a name="4108"></a>            TotalSpawned += numspawned;
<a name="4109"></a>
<a name="4110"></a>            NextSpawnSquad.Remove(<span class="source_int">0</span>, numspawned);
<a name="4111"></a>        }
<a name="4112"></a>    }
<a name="4113"></a>
<a name="4114"></a>    FinalSquadNum++;
<a name="4115"></a>}
<a name="4116"></a>
<a name="4117"></a>function AddSpecialPatriarchSquadFromGameType()
<a name="4118"></a>{
<a name="4119"></a>    local <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; <span class="source_type">MC</span>;
<a name="4120"></a>    local array&lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; &gt; TempSquads;
<a name="4121"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,j;
<a name="4122"></a>
<a name="4123"></a>    <span class="source_comment">//Log("Loading up FinalSquads monster classes...");
</span><a name="4124"></a>    for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;FinalSquads[FinalSquadNum].ZedClass.Length; <span class="source_type">i</span>++ )
<a name="4125"></a>    {
<a name="4126"></a>        if( FinalSquads[FinalSquadNum].ZedClass[<span class="source_type">i</span>]==<span class="source_string">""</span> )
<a name="4127"></a>        {
<a name="4128"></a>            <span class="source_comment">//log("Missing a FinalSquads squad!!!");
</span><a name="4129"></a>            Continue;
<a name="4130"></a>        }
<a name="4131"></a>
<a name="4132"></a>        <span class="source_type">MC</span> = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(DynamicLoadObject(FinalSquads[FinalSquadNum].ZedClass[<span class="source_type">i</span>],<span class="source_type">Class</span><span class="source_name">'Class'</span>));
<a name="4133"></a>
<a name="4134"></a>        if( <span class="source_type">MC</span>==None )
<a name="4135"></a>        {
<a name="4136"></a>            <span class="source_comment">//log("Couldn't DLO a FinalSquads squad!!!");
</span><a name="4137"></a>            Continue;
<a name="4138"></a>        }
<a name="4139"></a>
<a name="4140"></a>        for( j=<span class="source_int">0</span>; j&lt;FinalSquads[FinalSquadNum].NumZeds[<span class="source_type">i</span>]; j++ )
<a name="4141"></a>        {
<a name="4142"></a>            <span class="source_comment">//log("FinalSquads!!! FinalSquadNum "$FinalSquadNum$" Monster "$j$" = "$MC);
</span><a name="4143"></a>
<a name="4144"></a>            TempSquads[TempSquads.Length] = <span class="source_type">MC</span>;
<a name="4145"></a>        }
<a name="4146"></a>        <span class="source_comment">//log("****** FinalSquads");
</span><a name="4147"></a>    }
<a name="4148"></a>
<a name="4149"></a>    NextSpawnSquad = TempSquads;
<a name="4150"></a>
<a name="4151"></a>}
<a name="4152"></a>
<a name="4153"></a>
<a name="4154"></a>function AddSpecialPatriarchSquadFromCollection()
<a name="4155"></a>{
<a name="4156"></a>    local <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; <span class="source_type">MC</span>;
<a name="4157"></a>    local array&lt; <span class="source_type">class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; &gt; TempSquads;
<a name="4158"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,j;
<a name="4159"></a>
<a name="4160"></a>    <span class="source_comment">//Log("Loading up FinalSquads monster classes...");
</span><a name="4161"></a>    for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;MonsterCollection.default.FinalSquads[FinalSquadNum].ZedClass.Length; <span class="source_type">i</span>++ )
<a name="4162"></a>    {
<a name="4163"></a>        if( MonsterCollection.default.FinalSquads[FinalSquadNum].ZedClass[<span class="source_type">i</span>]==<span class="source_string">""</span> )
<a name="4164"></a>        {
<a name="4165"></a>            <span class="source_comment">//log("Missing a FinalSquads squad!!!");
</span><a name="4166"></a>            Continue;
<a name="4167"></a>        }
<a name="4168"></a>
<a name="4169"></a>        <span class="source_type">MC</span> = <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt;(DynamicLoadObject(MonsterCollection.default.FinalSquads[FinalSquadNum].ZedClass[<span class="source_type">i</span>],<span class="source_type">Class</span><span class="source_name">'Class'</span>));
<a name="4170"></a>
<a name="4171"></a>        if( <span class="source_type">MC</span>==None )
<a name="4172"></a>        {
<a name="4173"></a>            <span class="source_comment">//log("Couldn't DLO a FinalSquads squad!!!");
</span><a name="4174"></a>            Continue;
<a name="4175"></a>        }
<a name="4176"></a>
<a name="4177"></a>        for( j=<span class="source_int">0</span>; j&lt;MonsterCollection.default.FinalSquads[FinalSquadNum].NumZeds[<span class="source_type">i</span>]; j++ )
<a name="4178"></a>        {
<a name="4179"></a>            <span class="source_comment">//log("FinalSquads!!! FinalSquadNum "$FinalSquadNum$" Monster "$j$" = "$MC);
</span><a name="4180"></a>
<a name="4181"></a>            TempSquads[TempSquads.Length] = <span class="source_type">MC</span>;
<a name="4182"></a>        }
<a name="4183"></a>        <span class="source_comment">//log("****** FinalSquads");
</span><a name="4184"></a>    }
<a name="4185"></a>
<a name="4186"></a>    NextSpawnSquad = TempSquads;
<a name="4187"></a>
<a name="4188"></a>}
<a name="4189"></a>
<a name="4190"></a><span class="source_comment">// Fill up the special patriarch squad
</span><a name="4191"></a>function AddSpecialPatriarchSquad()
<a name="4192"></a>{
<a name="4193"></a>    if( FinalSquads.Length == <span class="source_int">0</span> )
<a name="4194"></a>    {
<a name="4195"></a>        AddSpecialPatriarchSquadFromCollection();
<a name="4196"></a>    }
<a name="4197"></a>    else
<a name="4198"></a>    {
<a name="4199"></a>        AddSpecialPatriarchSquadFromGameType();
<a name="4200"></a>    }
<a name="4201"></a>}
<a name="4202"></a>
<a name="4203"></a><span class="source_comment">// Ramm debugging code
</span><a name="4204"></a><span class="source_comment">/*
<a name="4205"></a>exec function CheckVol()
<a name="4206"></a>{
<a name="4207"></a>    local ZombieVolume BestZ;
<a name="4208"></a>    local float BestScore,tScore;
<a name="4209"></a>    local int i,l;
<a name="4210"></a>    local Controller C;
<a name="4211"></a>    local array&lt;Controller&gt; CL;
<a name="4212"></a>
<a name="4213"></a>    ClearStayingDebugLines();
<a name="4214"></a>
<a name="4215"></a>    BuildNextSquad();
<a name="4216"></a>
<a name="4217"></a>    // First pass, pick a random player.
<a name="4218"></a>    for( C=Level.ControllerList; C!=None; C=C.NextController )
<a name="4219"></a>    {
<a name="4220"></a>        if( C.bIsPlayer && C.Pawn!=None && C.Pawn.Health&gt;0 )
<a name="4221"></a>            CL[CL.Length] = C;
<a name="4222"></a>    }
<a name="4223"></a>    if( CL.Length&gt;0 )
<a name="4224"></a>        C = CL[Rand(CL.Length)];
<a name="4225"></a>    else if( C==None )
<a name="4226"></a>        return; // Shouldnt get to this case, but just to be sure...
<a name="4227"></a>
<a name="4228"></a>    // Second pass, figure out best spawning point.
<a name="4229"></a>    l = ZedSpawnList.Length;
<a name="4230"></a>    for( i=0; i&lt;l; i++ )
<a name="4231"></a>    {
<a name="4232"></a>        ZedSpawnList[i].bDebugZoneSelection = true;
<a name="4233"></a>        tScore = ZedSpawnList[i].RateZombieVolume(Self,LastSpawningVolume,C);
<a name="4234"></a>        if( tScore&lt;0 )
<a name="4235"></a>            continue;
<a name="4236"></a>        if( BestZ==None || (tScore&gt;BestScore) )
<a name="4237"></a>        {
<a name="4238"></a>            BestScore = tScore;
<a name="4239"></a>            BestZ = ZedSpawnList[i];
<a name="4240"></a>        }
<a name="4241"></a>    }
<a name="4242"></a>
<a name="4243"></a>    BestZ.DrawDebugCylinder(BestZ.Location,vect(1,0,0),vect(0,1,0),vect(0,0,1),C.Pawn.CollisionRadius * 5,C.Pawn.CollisionHeight * 5,8,128, 255, 255);
<a name="4244"></a>
<a name="4245"></a>    LastSpawningVolume = BestZ;
<a name="4246"></a>    BestZ.LastSpawnTime = Level.TimeSeconds;
<a name="4247"></a>}
<a name="4248"></a>
<a name="4249"></a>exec function TestSpawn()
<a name="4250"></a>{
<a name="4251"></a>    local ZombieVolume BestZ;
<a name="4252"></a>    local float BestScore,tScore;
<a name="4253"></a>    local int i,l;
<a name="4254"></a>    local Controller C;
<a name="4255"></a>    local array&lt;Controller&gt; CL;
<a name="4256"></a>
<a name="4257"></a>    ClearStayingDebugLines();
<a name="4258"></a>
<a name="4259"></a>    // Second pass, figure out best spawning point.
<a name="4260"></a>    l = ZedSpawnList.Length;
<a name="4261"></a>    for( i=0; i&lt;l; i++ )
<a name="4262"></a>    {
<a name="4263"></a>        ZedSpawnList[i].bDebugSpawnSelection = !ZedSpawnList[i].bDebugSpawnSelection;
<a name="4264"></a>    }
<a name="4265"></a>}
<a name="4266"></a>*/</span>
<a name="4267"></a><span class="source_comment">// End Ramm Spawning debugging
</span><a name="4268"></a>
<a name="4269"></a>
<a name="4270"></a>function <span class="source_type"><a href="../kfmod/zombievolume.html" class="source">ZombieVolume</a></span> FindSpawningVolume(optional <span class="source_type">bool</span> bIgnoreFailedSpawnTime, optional <span class="source_type">bool</span> bBossSpawning)
<a name="4271"></a>{
<a name="4272"></a>    local <span class="source_type"><a href="../kfmod/zombievolume.html" class="source">ZombieVolume</a></span> BestZ;
<a name="4273"></a>    local <span class="source_type">float</span> BestScore,tScore;
<a name="4274"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,l;
<a name="4275"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="4276"></a>    local array&lt;<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>&gt; CL;
<a name="4277"></a>
<a name="4278"></a>    <span class="source_comment">// First pass, pick a random player.
</span><a name="4279"></a>    for( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span>!=None; <span class="source_type">C</span>=<span class="source_type">C</span>.NextController )
<a name="4280"></a>    {
<a name="4281"></a>        if( <span class="source_type">C</span>.bIsPlayer && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>!=None && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.Health&gt;<span class="source_int">0</span> )
<a name="4282"></a>            CL[CL.Length] = <span class="source_type">C</span>;
<a name="4283"></a>    }
<a name="4284"></a>    if( CL.Length&gt;<span class="source_int">0</span> )
<a name="4285"></a>        <span class="source_type">C</span> = CL[Rand(CL.Length)];
<a name="4286"></a>    else if( <span class="source_type">C</span>==None )
<a name="4287"></a>        return None; <span class="source_comment">// Shouldnt get to this case, but just to be sure...
</span><a name="4288"></a>
<a name="4289"></a>    <span class="source_comment">// Second pass, figure out best spawning point.
</span><a name="4290"></a>    l = ZedSpawnList.Length;
<a name="4291"></a>    for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;l; <span class="source_type">i</span>++ )
<a name="4292"></a>    {
<a name="4293"></a>        tScore = ZedSpawnList[<span class="source_type">i</span>].RateZombieVolume(Self,LastSpawningVolume,<span class="source_type">C</span>,bIgnoreFailedSpawnTime, bBossSpawning);
<a name="4294"></a>        if( tScore&lt;<span class="source_int">0</span> )
<a name="4295"></a>            continue;
<a name="4296"></a>        if( BestZ==None || (tScore&gt;BestScore) )
<a name="4297"></a>        {
<a name="4298"></a>            BestScore = tScore;
<a name="4299"></a>            BestZ = ZedSpawnList[<span class="source_type">i</span>];
<a name="4300"></a>        }
<a name="4301"></a>    }
<a name="4302"></a>    return BestZ;
<a name="4303"></a>}
<a name="4304"></a>
<a name="4305"></a>function <span class="source_type">int</span> ReduceDamage(<span class="source_type">int</span> <span class="source_type">Damage</span>, <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> injured, <span class="source_type"><a href="../engine/pawn.html" class="source">pawn</a></span> instigatedBy, <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">HitLocation</span>, out <span class="source_type"><a href="../core/object.html#Vector" class="source">vector</a></span> <span class="source_type">Momentum</span>, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>)
<a name="4306"></a>{
<a name="4307"></a>    local <span class="source_type">float</span> InstigatorSkill;
<a name="4308"></a>    local <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span> <span class="source_type">PC</span>;
<a name="4309"></a>    local <span class="source_type">float</span> DamageBeforeSkillAdjust;
<a name="4310"></a>
<a name="4311"></a>    if ( <span class="source_type"><a href="../kfmod/kfpawn.html" class="source">KFPawn</a></span>(Injured) != none )
<a name="4312"></a>    {
<a name="4313"></a>        if ( <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(Injured.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>) != none && <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(Injured.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>).ClientVeteranSkill != none )
<a name="4314"></a>        {
<a name="4315"></a>            <span class="source_type">Damage</span> = <span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(Injured.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>).ClientVeteranSkill.Static.ReduceDamage(<span class="source_type"><a href="../kfmod/kfplayerreplicationinfo.html" class="source">KFPlayerReplicationInfo</a></span>(Injured.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>), <span class="source_type"><a href="../kfmod/kfpawn.html" class="source">KFPawn</a></span>(Injured), instigatedBy, <span class="source_type">Damage</span>, <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>);
<a name="4316"></a>        }
<a name="4317"></a>    }
<a name="4318"></a>
<a name="4319"></a>    <span class="source_comment">// This stuff cuts thru all the B.S
</span><a name="4320"></a>    if ( <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> == <span class="source_type">class</span><span class="source_name">'DamTypeVomit'</span> || <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> == <span class="source_type">class</span><span class="source_name">'DamTypeWelder'</span> || <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> == <span class="source_type">class</span><span class="source_name">'SirenScreamDamage'</span> )
<a name="4321"></a>    {
<a name="4322"></a>        return <span class="source_type">damage</span>;
<a name="4323"></a>    }
<a name="4324"></a>
<a name="4325"></a>    if ( instigatedBy == None )
<a name="4326"></a>    {
<a name="4327"></a>        return Super(<span class="source_type"><a href="../old2k4/xteamgame.html" class="source">xTeamGame</a></span>).ReduceDamage( <span class="source_type">Damage</span>,injured,instigatedBy,<span class="source_type">HitLocation</span>,<span class="source_type">Momentum</span>,<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> );
<a name="4328"></a>    }
<a name="4329"></a>
<a name="4330"></a>    if ( <span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>(Injured) != None )
<a name="4331"></a>    {
<a name="4332"></a>        if ( instigatedBy != None )
<a name="4333"></a>        {
<a name="4334"></a>            <span class="source_type">PC</span> = <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(instigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>);
<a name="4335"></a>            if ( <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfweapondamagetype.html" class="source">KFWeaponDamageType</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>) != none && <span class="source_type">PC</span> != none )
<a name="4336"></a>            {
<a name="4337"></a>                <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfweapondamagetype.html" class="source">KFWeaponDamageType</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>).Static.AwardDamage(<span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type">PC</span>.SteamStatsAndAchievements), Clamp(<span class="source_type">Damage</span>, <span class="source_int">1</span>, Injured.Health));
<a name="4338"></a>            }
<a name="4339"></a>        }
<a name="4340"></a>
<a name="4341"></a>        return super(<span class="source_type"><a href="../unrealgame/unrealmpgameinfo.html" class="source">UnrealMPGameInfo</a></span>).ReduceDamage( <span class="source_type">Damage</span>, injured, InstigatedBy, <span class="source_type">HitLocation</span>, <span class="source_type">Momentum</span>, <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> );
<a name="4342"></a>    }
<a name="4343"></a>
<a name="4344"></a>    if ( <span class="source_type"><a href="../old2k4/monstercontroller.html" class="source">MonsterController</a></span>(InstigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != None )
<a name="4345"></a>    {
<a name="4346"></a>        InstigatorSkill = <span class="source_type"><a href="../old2k4/monstercontroller.html" class="source">MonsterController</a></span>(instigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).Skill;
<a name="4347"></a>        if ( NumPlayers &gt; <span class="source_int">4</span> )
<a name="4348"></a>            InstigatorSkill += <span class="source_int">1.0</span>;
<a name="4349"></a>        if ( (InstigatorSkill &lt; <span class="source_int">7</span>) && (<span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>(Injured) == None) )
<a name="4350"></a>        {
<a name="4351"></a>            if ( InstigatorSkill &lt;= <span class="source_int">3</span> )
<a name="4352"></a>                <span class="source_type">Damage</span> = <span class="source_type">Damage</span>;
<a name="4353"></a>            else <span class="source_type">Damage</span> = <span class="source_type">Damage</span>;
<a name="4354"></a>        }
<a name="4355"></a>    }
<a name="4356"></a>    else if ( <span class="source_type"><a href="../kfmod/kffriendlyai.html" class="source">KFFriendlyAI</a></span>(InstigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != None && <span class="source_type"><a href="../kfmod/kfhumanpawn.html" class="source">KFHumanPawn</a></span>(Injured) != none  )
<a name="4357"></a>        <span class="source_type">Damage</span> *= <span class="source_int">0.25</span>;
<a name="4358"></a>    else if ( injured == instigatedBy )
<a name="4359"></a>        <span class="source_type">Damage</span> = <span class="source_type">Damage</span> * <span class="source_int">0.5</span>;
<a name="4360"></a>
<a name="4361"></a>
<a name="4362"></a>    if ( <span class="source_type"><a href="../old2k4/invasionbot.html" class="source">InvasionBot</a></span>(injured.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != None )
<a name="4363"></a>    {
<a name="4364"></a>        if ( !<span class="source_type"><a href="../old2k4/invasionbot.html" class="source">InvasionBot</a></span>(injured.<span class="source_type"><a href="../engine/controller.html" class="source">controller</a></span>).bDamagedMessage && (injured.Health - <span class="source_type">Damage</span> &lt; <span class="source_int">50</span>) )
<a name="4365"></a>        {
<a name="4366"></a>            <span class="source_type"><a href="../old2k4/invasionbot.html" class="source">InvasionBot</a></span>(injured.<span class="source_type"><a href="../engine/controller.html" class="source">controller</a></span>).bDamagedMessage = true;
<a name="4367"></a>            if ( FRand() &lt; <span class="source_int">0.5</span> )
<a name="4368"></a>                injured.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.SendMessage(None, <span class="source_name">'OTHER'</span>, <span class="source_int">4</span>, <span class="source_int">12</span>, <span class="source_name">'TEAM'</span>);
<a name="4369"></a>            else injured.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>.SendMessage(None, <span class="source_name">'OTHER'</span>, <span class="source_int">13</span>, <span class="source_int">12</span>, <span class="source_name">'TEAM'</span>);
<a name="4370"></a>        }
<a name="4371"></a>        if ( GameDifficulty &lt;= <span class="source_int">3</span> )
<a name="4372"></a>        {
<a name="4373"></a>            if ( injured.IsPlayerPawn() && (injured == instigatedby) && (<span class="source_type">Level</span>.NetMode == NM_Standalone) )
<a name="4374"></a>                <span class="source_type">Damage</span> *= <span class="source_int">0.5</span>;
<a name="4375"></a>
<a name="4376"></a>            <span class="source_comment">//skill level modification
</span><a name="4377"></a>            if ( <span class="source_type"><a href="../old2k4/monstercontroller.html" class="source">MonsterController</a></span>(InstigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != None )
<a name="4378"></a>                <span class="source_type">Damage</span> = <span class="source_type">Damage</span>;
<a name="4379"></a>        }
<a name="4380"></a>    }
<a name="4381"></a>
<a name="4382"></a>    if( injured.InGodMode() )
<a name="4383"></a>        return <span class="source_int">0</span>;
<a name="4384"></a>    if( instigatedBy!=injured && <span class="source_type"><a href="../old2k4/monstercontroller.html" class="source">MonsterController</a></span>(InstigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>)==None && (instigatedBy.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>==None || instigatedBy.GetTeamNum()==injured.GetTeamNum()) )
<a name="4385"></a>    {
<a name="4386"></a>        if ( <span class="source_type">class</span>&lt;<span class="source_type"><a href="../unrealgame/weapondamagetype.html" class="source">WeaponDamageType</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>) != None || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../unrealgame/vehicledamagetype.html" class="source">VehicleDamageType</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>) != None )
<a name="4387"></a>            <span class="source_type">Momentum</span> *= TeammateBoost;
<a name="4388"></a>        if ( <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span>(injured.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>) != None )
<a name="4389"></a>            <span class="source_type"><a href="../unrealgame/bot.html" class="source">Bot</a></span>(Injured.<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span>).YellAt(instigatedBy);
<a name="4390"></a>
<a name="4391"></a>        if ( FriendlyFireScale==<span class="source_int">0.0</span> || (<span class="source_type"><a href="../engine/vehicle.html" class="source">Vehicle</a></span>(injured) != None && <span class="source_type"><a href="../engine/vehicle.html" class="source">Vehicle</a></span>(injured).bNoFriendlyFire) )
<a name="4392"></a>        {
<a name="4393"></a>            if ( GameRulesModifiers != None )
<a name="4394"></a>                return GameRulesModifiers.NetDamage( <span class="source_type">Damage</span>, <span class="source_int">0</span>,injured,instigatedBy,<span class="source_type">HitLocation</span>,<span class="source_type">Momentum</span>,<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> );
<a name="4395"></a>            else return <span class="source_int">0</span>;
<a name="4396"></a>        }
<a name="4397"></a>        <span class="source_type">Damage</span> *= FriendlyFireScale;
<a name="4398"></a>    }
<a name="4399"></a>
<a name="4400"></a>    <span class="source_comment">// Start code from DeathMatch.uc - Had to override this here because it was reducing
</span><a name="4401"></a>    <span class="source_comment">// bite damage (which is 1) down to zero when the skill settings were low
</span><a name="4402"></a>
<a name="4403"></a>    if ( (instigatedBy != None) && (InstigatedBy != Injured) && (<span class="source_type">Level</span>.TimeSeconds - injured.SpawnTime &lt; SpawnProtectionTime)
<a name="4404"></a>        && (<span class="source_type">class</span>&lt;<span class="source_type"><a href="../unrealgame/weapondamagetype.html" class="source">WeaponDamageType</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>) != None || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../unrealgame/vehicledamagetype.html" class="source">VehicleDamageType</a></span>&gt;(<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>) != None) )
<a name="4405"></a>        return <span class="source_int">0</span>;
<a name="4406"></a>
<a name="4407"></a>    <span class="source_type">Damage</span> = super(<span class="source_type"><a href="../unrealgame/unrealmpgameinfo.html" class="source">UnrealMPGameInfo</a></span>).ReduceDamage( <span class="source_type">Damage</span>, injured, InstigatedBy, <span class="source_type">HitLocation</span>, <span class="source_type">Momentum</span>, <span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span> );
<a name="4408"></a>
<a name="4409"></a>    if ( instigatedBy == None)
<a name="4410"></a>        return <span class="source_type">Damage</span>;
<a name="4411"></a>
<a name="4412"></a>    DamageBeforeSkillAdjust = <span class="source_type">Damage</span>;
<a name="4413"></a>
<a name="4414"></a>    if ( <span class="source_type">Level</span>.Game.GameDifficulty &lt;= <span class="source_int">3</span> )
<a name="4415"></a>    {
<a name="4416"></a>        if ( injured.IsPlayerPawn() && (injured == instigatedby) && (<span class="source_type">Level</span>.NetMode == NM_Standalone) )
<a name="4417"></a>            <span class="source_type">Damage</span> *= <span class="source_int">0.5</span>;
<a name="4418"></a>    }
<a name="4419"></a>    return (<span class="source_type">Damage</span> * instigatedBy.DamageScaling);
<a name="4420"></a>    <span class="source_comment">// End code from DeathMatch.uc
</span><a name="4421"></a>}
<a name="4422"></a>
<a name="4423"></a>static function <span class="source_type">bool</span> NeverAllowTransloc()
<a name="4424"></a>{
<a name="4425"></a>    return true;
<a name="4426"></a>}
<a name="4427"></a>
<a name="4428"></a>function <span class="source_type">bool</span> AllowTransloc()
<a name="4429"></a>{
<a name="4430"></a>    return bAllowTrans || bOverrideTranslocator;
<a name="4431"></a>}
<a name="4432"></a>
<a name="4433"></a>function AddGameSpecificInventory(<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">p</span>);
<a name="4434"></a>
<a name="4435"></a>event <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> Login
<a name="4436"></a>(
<a name="4437"></a>    <span class="source_type">string</span> Portal,
<a name="4438"></a>    <span class="source_type">string</span> Options,
<a name="4439"></a>    out <span class="source_type">string</span> <span class="source_type">Error</span>
<a name="4440"></a>)
<a name="4441"></a>{
<a name="4442"></a>    local <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type">NewPlayer</span>;
<a name="4443"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="4444"></a>
<a name="4445"></a>    <span class="source_type">NewPlayer</span> = Super.Login(Portal,Options,<span class="source_type">Error</span>);
<a name="4446"></a>
<a name="4447"></a>    if ( <span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator && NumSpectators &gt; MaxSpectators )
<a name="4448"></a>    {
<a name="4449"></a>        <span class="source_type">Error</span> = GameMessageClass.Default.MaxedOutMessage;
<a name="4450"></a>        <span class="source_type">NewPlayer</span>.Destroy();
<a name="4451"></a>        return None;
<a name="4452"></a>    }
<a name="4453"></a>    else if ( !<span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator && NumPlayers &gt; MaxPlayers && !<span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bAdmin )
<a name="4454"></a>    {
<a name="4455"></a>        <span class="source_type">Error</span> = GameMessageClass.Default.MaxedOutMessage;
<a name="4456"></a>        <span class="source_type">NewPlayer</span>.Destroy();
<a name="4457"></a>        return None;
<a name="4458"></a>    }
<a name="4459"></a>
<a name="4460"></a>    for ( <span class="source_type">C</span>=<span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span>!=None; <span class="source_type">C</span>=<span class="source_type">C</span>.NextController )
<a name="4461"></a>    {
<a name="4462"></a>        if ( (<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> != None) && <span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOutOfLives && !<span class="source_type">C</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator && !<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>.bMatchHasBegun )
<a name="4463"></a>        {
<a name="4464"></a>            <span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOutOfLives = true;
<a name="4465"></a>            <span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.NumLives = <span class="source_int">1</span>;
<a name="4466"></a>            Break;
<a name="4467"></a>        }
<a name="4468"></a>    }
<a name="4469"></a>
<a name="4470"></a>    <span class="source_type">NewPlayer</span>.SetGRI(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>);
<a name="4471"></a>
<a name="4472"></a>    <span class="source_comment">//let's route to our custom KFPlayerController state for class Selection.
</span><a name="4473"></a>
<a name="4474"></a>    <span class="source_comment">// give the new player the server starting cash
</span><a name="4475"></a>    if ( !<span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator ) <span class="source_comment">// must not be a spectator
</span><a name="4476"></a>    {
<a name="4477"></a>        <span class="source_type">NewPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Score</span> = StartingCash;
<a name="4478"></a>    }
<a name="4479"></a>
<a name="4480"></a>    if ( bDelayedStart ) <span class="source_comment">//!
</span><a name="4481"></a>    {
<a name="4482"></a>        <span class="source_type">NewPlayer</span>.GotoState(<span class="source_name">'PlayerWaiting'</span>);
<a name="4483"></a>        return <span class="source_type">NewPlayer</span>;
<a name="4484"></a>    }
<a name="4485"></a>
<a name="4486"></a>    return <span class="source_type">NewPlayer</span>;
<a name="4487"></a>}
<a name="4488"></a>
<a name="4489"></a>event PreLogin( <span class="source_type">string</span> Options, <span class="source_type">string</span> Address, <span class="source_type">string</span> <span class="source_type">PlayerID</span>, out <span class="source_type">string</span> <span class="source_type">Error</span>, out <span class="source_type">string</span> <span class="source_type">FailCode</span> )
<a name="4490"></a>{
<a name="4491"></a>    Super.PreLogin(Options,Address,<span class="source_type">PlayerID</span>,<span class="source_type">Error</span>,<span class="source_type">FailCode</span>);
<a name="4492"></a>    if( <span class="source_type">FailCode</span>==<span class="source_string">""</span> && <span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>.bMatchHasBegun && bNoLateJoiners )
<a name="4493"></a>    {
<a name="4494"></a>        <span class="source_type">FailCode</span> = <span class="source_string">"FC_NoLateJoiners"</span>;
<a name="4495"></a>        <span class="source_type">Error</span> = NoLateJoiners;
<a name="4496"></a>    }
<a name="4497"></a>}
<a name="4498"></a>function <span class="source_type">bool</span> AtCapacity(<span class="source_type">bool</span> bSpectator)
<a name="4499"></a>{
<a name="4500"></a>    if ( <span class="source_type">Level</span>.NetMode == NM_Standalone )
<a name="4501"></a>        return false;
<a name="4502"></a>
<a name="4503"></a>    if ( bSpectator )
<a name="4504"></a>        return ( (NumSpectators &gt;= MaxSpectators)
<a name="4505"></a>                && ((<span class="source_type">Level</span>.NetMode != NM_ListenServer) || (NumPlayers &gt; <span class="source_int">0</span>)) );
<a name="4506"></a>    else
<a name="4507"></a>        return ( (MaxPlayers&gt;<span class="source_int">0</span>) && (NumPlayers&gt;=MaxPlayers) );
<a name="4508"></a>}
<a name="4509"></a>
<a name="4510"></a><span class="source_comment">// Mod this to include the choices made in the GUIClassMenu
</span><a name="4511"></a>function RestartPlayer( <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">aPlayer</span> )
<a name="4512"></a>{
<a name="4513"></a>    if ( <span class="source_type">aPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOutOfLives || <span class="source_type">aPlayer</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>!=None )
<a name="4514"></a>        return;
<a name="4515"></a>    if( bWaveInProgress && <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">aPlayer</span>)!=None )
<a name="4516"></a>    {
<a name="4517"></a>        <span class="source_type">aPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOutOfLives = True;
<a name="4518"></a>        <span class="source_type">aPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.NumLives = <span class="source_int">1</span>;
<a name="4519"></a>        <span class="source_type">aPlayer</span>.GoToState(<span class="source_name">'Spectating'</span>);
<a name="4520"></a>        Return;
<a name="4521"></a>    }
<a name="4522"></a>
<a name="4523"></a>    Super.RestartPlayer(<span class="source_type">aPlayer</span>);
<a name="4524"></a>
<a name="4525"></a>    if ( <span class="source_type"><a href="../kfmod/kfhumanpawn.html" class="source">KFHumanPawn</a></span>(<span class="source_type">aPlayer</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>) != none )
<a name="4526"></a>    {
<a name="4527"></a>        <span class="source_type"><a href="../kfmod/kfhumanpawn.html" class="source">KFHumanPawn</a></span>(<span class="source_type">aPlayer</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>).VeterancyChanged();
<a name="4528"></a>    }
<a name="4529"></a>
<a name="4530"></a>    <span class="source_comment">// Disable pawn collision during trader time
</span><a name="4531"></a>    if (bTradingDoorsOpen && <span class="source_type">aPlayer</span>.bIsPlayer)
<a name="4532"></a>    {
<a name="4533"></a>        <span class="source_type">aPlayer</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.bBlockActors = false;
<a name="4534"></a>    }
<a name="4535"></a>}
<a name="4536"></a>
<a name="4537"></a>function BroadcastDeathMessage(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> Killer, <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">Other</span>, <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/damagetype.html" class="source">DamageType</a></span>&gt; <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>)
<a name="4538"></a>{
<a name="4539"></a>    local <span class="source_type">string</span> <span class="source_type">S</span>;
<a name="4540"></a>
<a name="4541"></a>    if( <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>==None )
<a name="4542"></a>        <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span> = <span class="source_type">Class</span><span class="source_name">'DamageType'</span>;
<a name="4543"></a>    if( Killer!=None && <span class="source_type">Other</span>!=None && Killer!=<span class="source_type">Other</span> )
<a name="4544"></a>        Broadcast(Self,ParseKillMessage(GetNameOf(Killer.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>),GetNameOf(<span class="source_type">Other</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>),<span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>.Default.DeathString),<span class="source_name">'DeathMessage'</span>);
<a name="4545"></a>    else if( <span class="source_type">Other</span>!=None )
<a name="4546"></a>    {
<a name="4547"></a>        if( <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>!=None && <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>.bIsFemale )
<a name="4548"></a>            <span class="source_type">S</span> = <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>.Default.FemaleSuicide;
<a name="4549"></a>        else <span class="source_type">S</span> = <span class="source_type"><a href="../engine/damagetype.html" class="source">damageType</a></span>.Default.MaleSuicide;
<a name="4550"></a>        Broadcast(Self,ParseKillMessage(<span class="source_string">"Someone"</span>,GetNameOf(<span class="source_type">Other</span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span>),<span class="source_type">S</span>),<span class="source_name">'DeathMessage'</span>);
<a name="4551"></a>    }
<a name="4552"></a>}
<a name="4553"></a>function <span class="source_type">string</span> GetNameOf( <span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> <span class="source_type">Other</span> )
<a name="4554"></a>{
<a name="4555"></a>    local <span class="source_type">string</span> <span class="source_type">S</span>;
<a name="4556"></a>
<a name="4557"></a>    if( <span class="source_type">Other</span>==None )
<a name="4558"></a>        Return <span class="source_string">"Someone"</span>;
<a name="4559"></a>    if( <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>!=None )
<a name="4560"></a>        Return <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>;
<a name="4561"></a>    <span class="source_type">S</span> = <span class="source_type">Other</span>.MenuName;
<a name="4562"></a>    if( <span class="source_type">S</span>==<span class="source_string">""</span> )
<a name="4563"></a>    {
<a name="4564"></a>        <span class="source_type">Other</span>.MenuName = <span class="source_type">string</span>(<span class="source_type">Other</span>.<span class="source_type">Class</span>.<span class="source_type">Name</span>);
<a name="4565"></a>        <span class="source_type">S</span> = <span class="source_type">Other</span>.MenuName;
<a name="4566"></a>    }
<a name="4567"></a>    if( <span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>(<span class="source_type">Other</span>)!=None && <span class="source_type"><a href="../old2k4/monster.html" class="source">Monster</a></span>(<span class="source_type">Other</span>).bBoss )
<a name="4568"></a>        Return <span class="source_string">"the"</span>@<span class="source_type">S</span>;
<a name="4569"></a>    else if( <span class="source_type">Class</span><span class="source_name">'KFInvasionMessage'</span>.Static.ShouldUseAn(<span class="source_type">S</span>) )
<a name="4570"></a>        Return <span class="source_string">"an"</span>@<span class="source_type">S</span>;
<a name="4571"></a>    else Return <span class="source_string">"a"</span>@<span class="source_type">S</span>;
<a name="4572"></a>}
<a name="4573"></a>
<a name="4574"></a>function GetServerInfo( out <span class="source_type"><a href="../engine/gameinfo.html#ServerResponseLine" class="source">ServerResponseLine</a></span> <span class="source_type">ServerState</span> )
<a name="4575"></a>{
<a name="4576"></a>    super.GetServerInfo(<span class="source_type">ServerState</span>);
<a name="4577"></a>
<a name="4578"></a>    if ( GameDifficulty == <span class="source_int">1.0</span> )
<a name="4579"></a>    {
<a name="4580"></a>        <span class="source_type">ServerState</span>.<span class="source_type">Flags</span> = <span class="source_type">ServerState</span>.<span class="source_type">Flags</span> | <span class="source_int">32</span>;
<a name="4581"></a>    }
<a name="4582"></a>    else if ( GameDifficulty == <span class="source_int">2.0</span> )
<a name="4583"></a>    {
<a name="4584"></a>        <span class="source_type">ServerState</span>.<span class="source_type">Flags</span> = <span class="source_type">ServerState</span>.<span class="source_type">Flags</span> | <span class="source_int">64</span>;
<a name="4585"></a>    }
<a name="4586"></a>    else if ( GameDifficulty == <span class="source_int">4.0</span> )
<a name="4587"></a>    {
<a name="4588"></a>        <span class="source_type">ServerState</span>.<span class="source_type">Flags</span> = <span class="source_type">ServerState</span>.<span class="source_type">Flags</span> | <span class="source_int">128</span>;
<a name="4589"></a>    }
<a name="4590"></a>    else if ( GameDifficulty == <span class="source_int">5.0</span> )
<a name="4591"></a>    {
<a name="4592"></a>        <span class="source_type">ServerState</span>.<span class="source_type">Flags</span> = <span class="source_type">ServerState</span>.<span class="source_type">Flags</span> | <span class="source_int">256</span>;
<a name="4593"></a>    }
<a name="4594"></a>    else if ( GameDifficulty == <span class="source_int">7.0</span> )
<a name="4595"></a>    {
<a name="4596"></a>        <span class="source_type">ServerState</span>.<span class="source_type">Flags</span> = <span class="source_type">ServerState</span>.<span class="source_type">Flags</span> | <span class="source_int">512</span>;
<a name="4597"></a>    }
<a name="4598"></a>}
<a name="4599"></a>
<a name="4600"></a>function <span class="source_type">int</span> GetCurrentWaveNum()
<a name="4601"></a>{
<a name="4602"></a>    return <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>( <span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span> ).WaveNumber + <span class="source_int">1</span>;
<a name="4603"></a>}
<a name="4604"></a>
<a name="4605"></a>function <span class="source_type">int</span> GetFinalWaveNum()
<a name="4606"></a>{
<a name="4607"></a>    return <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>( <span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span> ).<span class="source_type">FinalWave</span>;
<a name="4608"></a>}
<a name="4609"></a>
<a name="4610"></a>function GetServerDetails( out <span class="source_type"><a href="../engine/gameinfo.html#ServerResponseLine" class="source">ServerResponseLine</a></span> <span class="source_type">ServerState</span> )
<a name="4611"></a>{
<a name="4612"></a>    local <span class="source_type">int</span> l;
<a name="4613"></a>
<a name="4614"></a>    Super.GetServerDetails( <span class="source_type">ServerState</span> );
<a name="4615"></a>    l = <span class="source_type">ServerState</span>.<span class="source_type">ServerInfo</span>.Length;
<a name="4616"></a>    <span class="source_type">ServerState</span>.<span class="source_type">ServerInfo</span>.Length = l+<span class="source_int">1</span>;
<a name="4617"></a>    <span class="source_type">ServerState</span>.<span class="source_type">ServerInfo</span>[l].Key = <span class="source_string">"Max runtime zombies"</span>;
<a name="4618"></a>    <span class="source_type">ServerState</span>.<span class="source_type">ServerInfo</span>[l].<span class="source_type">Value</span> = <span class="source_type">string</span>(MaxZombiesOnce);
<a name="4619"></a>    l++;
<a name="4620"></a>    <span class="source_type">ServerState</span>.<span class="source_type">ServerInfo</span>.Length = l+<span class="source_int">1</span>;
<a name="4621"></a>    <span class="source_type">ServerState</span>.<span class="source_type">ServerInfo</span>[l].Key = <span class="source_string">"Starting cash"</span>;
<a name="4622"></a>    <span class="source_type">ServerState</span>.<span class="source_type">ServerInfo</span>[l].<span class="source_type">Value</span> = <span class="source_type">string</span>(StartingCash);
<a name="4623"></a>    l++;
<a name="4624"></a>}
<a name="4625"></a>
<a name="4626"></a>function <span class="source_type">bool</span> ChangeTeam(<span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">Other</span>, <span class="source_type">int</span> <span class="source_type">num</span>, <span class="source_type">bool</span> bNewTeam)
<a name="4627"></a>{
<a name="4628"></a>    if ( <span class="source_type">Other</span>.IsA(<span class="source_name">'PlayerController'</span>) && <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.bOnlySpectator )
<a name="4629"></a>    {
<a name="4630"></a>        <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> = None;
<a name="4631"></a>        return true;
<a name="4632"></a>    }
<a name="4633"></a>
<a name="4634"></a>    <span class="source_comment">// check if already on this team
</span><a name="4635"></a>    if ( <span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">Team</span> == Teams[<span class="source_int">0</span>] )
<a name="4636"></a>        return false;
<a name="4637"></a>
<a name="4638"></a>    <span class="source_type">Other</span>.StartSpot = None;
<a name="4639"></a>
<a name="4640"></a>    if ( Teams[<span class="source_int">0</span>].AddToTeam(<span class="source_type">Other</span>) )
<a name="4641"></a>    {
<a name="4642"></a>        if ( bNewTeam && <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">Other</span>)!=None )
<a name="4643"></a>            GameEvent(<span class="source_string">"TeamChange"</span>,<span class="source_string">""</span>$<span class="source_type">num</span>,<span class="source_type">Other</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>);
<a name="4644"></a>    }
<a name="4645"></a>    return true;
<a name="4646"></a>}
<a name="4647"></a>
<a name="4648"></a>static function <span class="source_type">string</span> GetCurrentMapName(<span class="source_type"><a href="../engine/levelinfo.html" class="source">LevelInfo</a></span> TheLevel)
<a name="4649"></a>{
<a name="4650"></a>    local <span class="source_type">string</span> Ret;
<a name="4651"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>, j;
<a name="4652"></a>
<a name="4653"></a>    <span class="source_comment">// Get the MapName out of the URL
</span><a name="4654"></a>    Ret = TheLevel.GetLocalURL();
<a name="4655"></a>
<a name="4656"></a>    <span class="source_type">i</span> = InStr(Ret, <span class="source_string">"/"</span>) + <span class="source_int">1</span>;
<a name="4657"></a>    if ( <span class="source_type">i</span> &lt; <span class="source_int">0</span> || <span class="source_type">i</span> &gt; <span class="source_int">16</span> )
<a name="4658"></a>    {
<a name="4659"></a>        <span class="source_type">i</span> = <span class="source_int">0</span>;
<a name="4660"></a>    }
<a name="4661"></a>
<a name="4662"></a>    j = InStr(Ret, <span class="source_string">"?"</span>);
<a name="4663"></a>    if ( j &lt; <span class="source_int">0</span> )
<a name="4664"></a>    {
<a name="4665"></a>        j = <span class="source_type">Len</span>(Ret);
<a name="4666"></a>    }
<a name="4667"></a>
<a name="4668"></a>    if ( Mid(Ret, j - <span class="source_int">3</span>, <span class="source_int">3</span>) ~= <span class="source_string">"rom"</span> )
<a name="4669"></a>    {
<a name="4670"></a>        j -= <span class="source_int">4</span>;
<a name="4671"></a>    }
<a name="4672"></a>
<a name="4673"></a>    Ret = Mid(Ret, <span class="source_type">i</span>, j - <span class="source_type">i</span>);
<a name="4674"></a>
<a name="4675"></a>    return Ret;
<a name="4676"></a>}
<a name="4677"></a>
<a name="4678"></a>function <span class="source_type">bool</span> CheckEndGame(<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span> Winner, <span class="source_type">string</span> <span class="source_type">Reason</span>)
<a name="4679"></a>{
<a name="4680"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">P</span>;
<a name="4681"></a>    local <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>;
<a name="4682"></a>    local <span class="source_type">bool</span> bSetAchievement;
<a name="4683"></a>    local <span class="source_type">string</span> <span class="source_type">MapName</span>;
<a name="4684"></a>
<a name="4685"></a>    EndTime = <span class="source_type">Level</span>.TimeSeconds + EndTimeDelay;
<a name="4686"></a>
<a name="4687"></a>    if ( WaveNum &gt; <span class="source_type">FinalWave</span> )
<a name="4688"></a>    {
<a name="4689"></a>        <span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>.Winner = Teams[<span class="source_int">0</span>];
<a name="4690"></a>        <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).EndGameType = <span class="source_int">2</span>;
<a name="4691"></a>
<a name="4692"></a>        if ( GameDifficulty &gt;= <span class="source_int">2.0</span> )
<a name="4693"></a>        {
<a name="4694"></a>            bSetAchievement = true;
<a name="4695"></a>
<a name="4696"></a>            <span class="source_comment">// Get the MapName out of the URL
</span><a name="4697"></a>            <span class="source_type">MapName</span> = GetCurrentMapName(<span class="source_type">Level</span>);
<a name="4698"></a>        }
<a name="4699"></a>    }
<a name="4700"></a>    else
<a name="4701"></a>    {
<a name="4702"></a>        <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).EndGameType = <span class="source_int">1</span>;
<a name="4703"></a>    }
<a name="4704"></a>
<a name="4705"></a>    if ( (GameRulesModifiers != None) && !GameRulesModifiers.CheckEndGame(Winner, <span class="source_type">Reason</span>) ) {
<a name="4706"></a>        <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).EndGameType = <span class="source_int">0</span>;
<a name="4707"></a>        return false;
<a name="4708"></a>    }
<a name="4709"></a>
<a name="4710"></a>    for ( <span class="source_type">P</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">P</span> != none; <span class="source_type">P</span> = <span class="source_type">P</span>.nextController )
<a name="4711"></a>    {
<a name="4712"></a>        <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span> = <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>);
<a name="4713"></a>        if ( <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span> != none )
<a name="4714"></a>        {
<a name="4715"></a>            <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.ClientSetBehindView(true);
<a name="4716"></a>            <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.ClientGameEnded();
<a name="4717"></a>
<a name="4718"></a>            if ( bSetAchievement && <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.SteamStatsAndAchievements) != none )
<a name="4719"></a>            {
<a name="4720"></a>                <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.SteamStatsAndAchievements).WonGame(<span class="source_type">MapName</span>, GameDifficulty, KFGameLength == GL_Long);
<a name="4721"></a>            }
<a name="4722"></a>        }
<a name="4723"></a>
<a name="4724"></a>        <span class="source_type">P</span>.GameHasEnded();
<a name="4725"></a>    }
<a name="4726"></a>
<a name="4727"></a>    <span class="source_comment">// If we won the match
</span><a name="4728"></a>    if ( <span class="source_type"><a href="../kfmod/kfgamereplicationinfo.html" class="source">KFGameReplicationInfo</a></span>(<span class="source_type"><a href="../engine/gamereplicationinfo.html" class="source">GameReplicationInfo</a></span>).EndGameType == <span class="source_int">2</span> )
<a name="4729"></a>    {
<a name="4730"></a>        CheckHarchierAchievement();
<a name="4731"></a>    }
<a name="4732"></a>
<a name="4733"></a>    if ( CurrentGameProfile != none )
<a name="4734"></a>    {
<a name="4735"></a>        CurrentGameProfile.bWonMatch = false;
<a name="4736"></a>    }
<a name="4737"></a>
<a name="4738"></a>    return true;
<a name="4739"></a>}
<a name="4740"></a>
<a name="4741"></a>function CheckHarchierAchievement()
<a name="4742"></a>{
<a name="4743"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">P</span>;
<a name="4744"></a>    local <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>;
<a name="4745"></a>    local <span class="source_type">bool</span> bJustPlayedHell, bEarnedHarchierHellAch, bShortRound;
<a name="4746"></a>    local <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span> KFSS;
<a name="4747"></a>
<a name="4748"></a>    bJustPlayedHell = (GetCurrentMapName(<span class="source_type">Level</span>) ~= <span class="source_string">"KF-Hell"</span>);
<a name="4749"></a>    bShortRound = (KFGameLength == GL_Short);
<a name="4750"></a>
<a name="4751"></a>    if( !bJustPlayedHell || !bShortRound )
<a name="4752"></a>    {
<a name="4753"></a>        return;
<a name="4754"></a>    }
<a name="4755"></a>
<a name="4756"></a>    for ( <span class="source_type">P</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">P</span> != none && !bEarnedHarchierHellAch; <span class="source_type">P</span> = <span class="source_type">P</span>.nextController )
<a name="4757"></a>    {
<a name="4758"></a>        <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span> = <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>);
<a name="4759"></a>        if( <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span> == none )
<a name="4760"></a>        {
<a name="4761"></a>            continue;
<a name="4762"></a>        }
<a name="4763"></a>
<a name="4764"></a>        KFSS = <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.SteamStatsAndAchievements);
<a name="4765"></a>        if ( KFSS == none )
<a name="4766"></a>        {
<a name="4767"></a>            continue;
<a name="4768"></a>        }
<a name="4769"></a>
<a name="4770"></a>        bEarnedHarchierHellAch = (<span class="source_type"><a href="../kfmod/kfpawn.html" class="source">KFPawn</a></span>( <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> ).Species == <span class="source_type">class</span><span class="source_name">'KFMod.CivilianSpeciesBallHero'</span> || <span class="source_type"><a href="../kfmod/kfpawn.html" class="source">KFPawn</a></span>( <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.<span class="source_type"><a href="../engine/pawn.html" class="source">Pawn</a></span> ).Species == <span class="source_type">class</span><span class="source_name">'KFMod.CivilianSpeciesBallHeroII'</span>);
<a name="4771"></a>    }
<a name="4772"></a>
<a name="4773"></a>    if( bEarnedHarchierHellAch )
<a name="4774"></a>    {
<a name="4775"></a>        for ( <span class="source_type">P</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">P</span> != none; <span class="source_type">P</span> = <span class="source_type">P</span>.nextController )
<a name="4776"></a>        {
<a name="4777"></a>            <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span> = <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span>(<span class="source_type">P</span>);
<a name="4778"></a>            if( <span class="source_type"><a href="../engine/player.html" class="source">Player</a></span> == none )
<a name="4779"></a>            {
<a name="4780"></a>                continue;
<a name="4781"></a>            }
<a name="4782"></a>
<a name="4783"></a>            KFSS = <span class="source_type"><a href="../roengine/kfsteamstatsandachievements.html" class="source">KFSteamStatsAndAchievements</a></span>(<span class="source_type"><a href="../engine/player.html" class="source">Player</a></span>.SteamStatsAndAchievements);
<a name="4784"></a>            if ( KFSS == none )
<a name="4785"></a>            {
<a name="4786"></a>                continue;
<a name="4787"></a>            }
<a name="4788"></a>
<a name="4789"></a>            KFSS.SetSteamAchievementCompleted(KFSS.KFACHIEVEMENT_PlayAsOrWithBallHero);
<a name="4790"></a>        }
<a name="4791"></a>    }
<a name="4792"></a>}
<a name="4793"></a>
<a name="4794"></a>function SendPlayer( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type">aPlayer</span>, <span class="source_type">string</span> <span class="source_type"><a href="../engine/gameengine.html#URL" class="source">URL</a></span> )
<a name="4795"></a>{
<a name="4796"></a>    if( bGameEnded || <span class="source_type">aPlayer</span>==None || <span class="source_type">aPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>==None )
<a name="4797"></a>        Return;
<a name="4798"></a>    Broadcast(Self,<span class="source_type">aPlayer</span>.<span class="source_type"><a href="../engine/playerreplicationinfo.html" class="source">PlayerReplicationInfo</a></span>.<span class="source_type">PlayerName</span>@<span class="source_string">"has ended the level."</span>);
<a name="4799"></a>    if( Left(<span class="source_type"><a href="../engine/gameengine.html#URL" class="source">URL</a></span>,<span class="source_int">4</span>)~=<span class="source_string">"NULL"</span> )
<a name="4800"></a>    {
<a name="4801"></a>        WaveNum = <span class="source_type">FinalWave</span>;
<a name="4802"></a>        EndGame(None,<span class="source_string">"TimeLimit"</span>);
<a name="4803"></a>        Return;
<a name="4804"></a>    }
<a name="4805"></a>    <span class="source_type">Level</span>.ServerTravel(<span class="source_type"><a href="../engine/gameengine.html#URL" class="source">URL</a></span>,False);
<a name="4806"></a>    bGameEnded = True;
<a name="4807"></a>}
<a name="4808"></a>
<a name="4809"></a>static function <span class="source_type">string</span> GetValidCharacter( <span class="source_type">string</span> <span class="source_type">S</span> )
<a name="4810"></a>{
<a name="4811"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,l;
<a name="4812"></a>
<a name="4813"></a>    l = Default.AvailableChars.Length;
<a name="4814"></a>    if( <span class="source_type">S</span>!=<span class="source_string">""</span> )
<a name="4815"></a>    {
<a name="4816"></a>        for( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;l; <span class="source_type">i</span>++ )
<a name="4817"></a>        {
<a name="4818"></a>            if( Default.AvailableChars[<span class="source_type">i</span>]~=<span class="source_type">S</span> )
<a name="4819"></a>                Return Default.AvailableChars[<span class="source_type">i</span>];
<a name="4820"></a>        }
<a name="4821"></a>    }
<a name="4822"></a>    Return Default.AvailableChars[Rand(l)];
<a name="4823"></a>}
<a name="4824"></a>
<a name="4825"></a>static function <span class="source_type">string</span> GetLoadingHint( <span class="source_type"><a href="../engine/playercontroller.html" class="source">PlayerController</a></span> <span class="source_type">PC</span>, <span class="source_type">string</span> <span class="source_type">MapName</span>, <span class="source_type"><a href="../core/object.html#Color" class="source">Color</a></span> <span class="source_type">ColorHint</span> )
<a name="4826"></a>{
<a name="4827"></a>    local <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span> Shot;
<a name="4828"></a>    local <span class="source_type"><a href="../gui2k4/ut2k4serverloading.html" class="source">UT2K4ServerLoading</a></span> LO;
<a name="4829"></a>    local <span class="source_type"><a href="../engine/levelsummary.html" class="source">LevelSummary</a></span> LS;
<a name="4830"></a>    local array&lt;<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>&gt; TexToUse;
<a name="4831"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>,j;
<a name="4832"></a>    local <span class="source_type"><a href="../kfmod/loadinginfoimage.html" class="source">LoadingInfoImage</a></span> CI;
<a name="4833"></a>
<a name="4834"></a>    <span class="source_comment">// Look for map screenshot.
</span><a name="4835"></a>    LS = <span class="source_type"><a href="../engine/levelsummary.html" class="source">LevelSummary</a></span>(DynamicLoadObject(<span class="source_type">MapName</span>$<span class="source_string">".LevelSummary"</span>, <span class="source_type">Class</span><span class="source_name">'LevelSummary'</span>, True));
<a name="4836"></a>    if( LS!=None && LS.ScreenShot!=None )
<a name="4837"></a>        Shot = LS.ScreenShot;
<a name="4838"></a>    if( Shot==None ) <span class="source_comment">// Try looking for mapname &lt;screenshot&gt;
</span><a name="4839"></a>        Shot = <span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>(DynamicLoadObject(<span class="source_type">MapName</span>$<span class="source_string">".ScreenShot"</span>, <span class="source_type">Class</span><span class="source_name">'Material'</span>, True));
<a name="4840"></a>    if( Shot!=None )
<a name="4841"></a>    {
<a name="4842"></a>        if( <span class="source_type"><a href="../engine/materialsequence.html" class="source">MaterialSequence</a></span>(Shot)!=None )
<a name="4843"></a>        {
<a name="4844"></a>            For( <span class="source_type">i</span>=<span class="source_int">0</span>; <span class="source_type">i</span>&lt;<span class="source_type"><a href="../engine/materialsequence.html" class="source">MaterialSequence</a></span>(Shot).SequenceItems.Length; <span class="source_type">i</span>++ )
<a name="4845"></a>            {
<a name="4846"></a>                TexToUse.Length = j+<span class="source_int">1</span>;
<a name="4847"></a>                TexToUse[j] = <span class="source_type"><a href="../engine/materialsequence.html" class="source">MaterialSequence</a></span>(Shot).SequenceItems[<span class="source_type">i</span>].<span class="source_type"><a href="../engine/material.html" class="source">Material</a></span>;
<a name="4848"></a>                j++;
<a name="4849"></a>            }
<a name="4850"></a>            Shot = TexToUse[Rand(j)];
<a name="4851"></a>        }
<a name="4852"></a>        if( <span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>(Shot) != none )
<a name="4853"></a>            <span class="source_type"><a href="../engine/texture.html" class="source">Texture</a></span>(Shot).LODSet = LODSET_Interface;
<a name="4854"></a>        foreach <span class="source_type">PC</span>.AllObjects(<span class="source_type">Class</span><span class="source_name">'UT2K4ServerLoading'</span>, LO)
<a name="4855"></a>        {
<a name="4856"></a>            CI = New(None)<span class="source_type">Class</span><span class="source_name">'LoadingInfoImage'</span>;
<a name="4857"></a>            LO.Operations[LO.Operations.Length] = CI;
<a name="4858"></a>            CI.<span class="source_type">Image</span> = Shot;
<a name="4859"></a>            if( LS!=None )
<a name="4860"></a>            {
<a name="4861"></a>                CI.MapTitle = LS.Title;
<a name="4862"></a>                CI.MapAuthor = LS.Author;
<a name="4863"></a>            }
<a name="4864"></a>        }
<a name="4865"></a>    }
<a name="4866"></a>    Return Default.KFHints[Rand(Default.KFHints.Length)];
<a name="4867"></a>}
<a name="4868"></a>
<a name="4869"></a>function WeaponPickedUp(<span class="source_type"><a href="../kfmod/kfrandomitemspawn.html" class="source">KFRandomItemSpawn</a></span> PickedUp)
<a name="4870"></a>{
<a name="4871"></a>    local <span class="source_type">int</span> Random, <span class="source_type">i</span>;
<a name="4872"></a>
<a name="4873"></a>    if ( PickedUp == none )
<a name="4874"></a>    {
<a name="4875"></a>        return;
<a name="4876"></a>    }
<a name="4877"></a>
<a name="4878"></a>    PickedUp.DisableMe();
<a name="4879"></a>
<a name="4880"></a>    for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; <span class="source_int">10000</span>; <span class="source_type">i</span>++ )
<a name="4881"></a>    {
<a name="4882"></a>        Random = Rand(WeaponPickups.Length);
<a name="4883"></a>
<a name="4884"></a>        if ( WeaponPickups[Random] != PickedUp && !WeaponPickups[Random].bIsEnabledNow )
<a name="4885"></a>        {
<a name="4886"></a>            WeaponPickups[Random].EnableMeDelayed(<span class="source_int">30.0</span> / <span class="source_type">float</span>(GetNumPlayers()));
<a name="4887"></a>            return;
<a name="4888"></a>        }
<a name="4889"></a>    }
<a name="4890"></a>
<a name="4891"></a>    PickedUp.EnableMeDelayed(<span class="source_int">30.0</span> / <span class="source_type">float</span>(GetNumPlayers()));
<a name="4892"></a>}
<a name="4893"></a>
<a name="4894"></a>function AmmoPickedUp(<span class="source_type"><a href="../kfmod/kfammopickup.html" class="source">KFAmmoPickup</a></span> PickedUp)
<a name="4895"></a>{
<a name="4896"></a>    local <span class="source_type">int</span> Random, <span class="source_type">i</span>;
<a name="4897"></a>
<a name="4898"></a>    for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; <span class="source_int">10000</span>; <span class="source_type">i</span>++ )
<a name="4899"></a>    {
<a name="4900"></a>        Random = Rand(AmmoPickups.Length);
<a name="4901"></a>
<a name="4902"></a>        if ( AmmoPickups[Random] != PickedUp && AmmoPickups[Random].bSleeping )
<a name="4903"></a>        {
<a name="4904"></a>            AmmoPickups[Random].GotoState(<span class="source_name">'Sleeping'</span>, <span class="source_name">'DelayedSpawn'</span>);
<a name="4905"></a>            return;
<a name="4906"></a>        }
<a name="4907"></a>    }
<a name="4908"></a>
<a name="4909"></a>    PickedUp.GotoState(<span class="source_name">'Sleeping'</span>, <span class="source_name">'DelayedSpawn'</span>);
<a name="4910"></a>}
<a name="4911"></a>
<a name="4912"></a>function WeaponSpawned(<span class="source_type"><a href="../engine/inventory.html" class="source">Inventory</a></span> <span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>)
<a name="4913"></a>{
<a name="4914"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="4915"></a>
<a name="4916"></a>    if ( <span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span> == none || <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>&gt;(<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>.<span class="source_type">Class</span>) == none )
<a name="4917"></a>    {
<a name="4918"></a>        return;
<a name="4919"></a>    }
<a name="4920"></a>
<a name="4921"></a>    InstancedWeaponClasses[InstancedWeaponClasses.Length] = <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>&gt;(<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>.<span class="source_type">Class</span>);
<a name="4922"></a>
<a name="4923"></a>    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.nextController )
<a name="4924"></a>    {
<a name="4925"></a>        if ( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>) != none )
<a name="4926"></a>        {
<a name="4927"></a>            <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).ClientWeaponSpawned(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>&gt;(<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>.<span class="source_type">Class</span>), <span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>);
<a name="4928"></a>        }
<a name="4929"></a>    }
<a name="4930"></a>}
<a name="4931"></a>
<a name="4932"></a>function WeaponDestroyed(<span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/weapon.html" class="source">Weapon</a></span>&gt; <span class="source_type">WeaponClass</span>)
<a name="4933"></a>{
<a name="4934"></a>    local <span class="source_type"><a href="../engine/controller.html" class="source">Controller</a></span> <span class="source_type">C</span>;
<a name="4935"></a>    local <span class="source_type">int</span> <span class="source_type">i</span>;
<a name="4936"></a>
<a name="4937"></a>    for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; InstancedWeaponClasses.Length; <span class="source_type">i</span>++ )
<a name="4938"></a>    {
<a name="4939"></a>        if ( InstancedWeaponClasses[<span class="source_type">i</span>] == <span class="source_type">WeaponClass</span> )
<a name="4940"></a>        {
<a name="4941"></a>            InstancedWeaponClasses.Remove(<span class="source_type">i</span>, <span class="source_int">1</span>);
<a name="4942"></a>            break;
<a name="4943"></a>        }
<a name="4944"></a>    }
<a name="4945"></a>
<a name="4946"></a>    for ( <span class="source_type">C</span> = <span class="source_type">Level</span>.ControllerList; <span class="source_type">C</span> != none; <span class="source_type">C</span> = <span class="source_type">C</span>.nextController )
<a name="4947"></a>    {
<a name="4948"></a>        if ( <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>) != none )
<a name="4949"></a>        {
<a name="4950"></a>            <span class="source_type"><a href="../kfmod/kfplayercontroller.html" class="source">KFPlayerController</a></span>(<span class="source_type">C</span>).ClientWeaponDestroyed(<span class="source_type">WeaponClass</span>);
<a name="4951"></a>        }
<a name="4952"></a>    }
<a name="4953"></a>}
<a name="4954"></a>
<a name="4955"></a>static event <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/gameinfo.html" class="source">GameInfo</a></span>&gt; SetGameType( <span class="source_type">string</span> <span class="source_type">MapName</span> )
<a name="4956"></a>{
<a name="4957"></a>    if ( Left(<span class="source_type">MapName</span>, InStr(<span class="source_type">MapName</span>, <span class="source_string">"-"</span>)) ~= <span class="source_string">"KFO"</span>)
<a name="4958"></a>    {
<a name="4959"></a>        return <span class="source_type">class</span>&lt;<span class="source_type"><a href="../engine/gameinfo.html" class="source">GameInfo</a></span>&gt;( DynamicLoadObject(<span class="source_string">"KFStoryGame.KFStoryGameInfo"</span>, <span class="source_type">class</span><span class="source_name">'Class'</span>) );
<a name="4960"></a>    }
<a name="4961"></a>
<a name="4962"></a>    return super.SetGameType( <span class="source_type">MapName</span> );
<a name="4963"></a>}
<a name="4964"></a>
<a name="4965"></a>function <span class="source_type">string</span> GetEventClotClassName()
<a name="4966"></a>{
<a name="4967"></a>    return MonsterCollection.default.MonsterClasses[ <span class="source_int">0</span> ].MClassName;
<a name="4968"></a>}
<a name="4969"></a>
<a name="4970"></a>function <span class="source_type">string</span> GetEventCrawlerClassName()
<a name="4971"></a>{
<a name="4972"></a>    return MonsterCollection.default.MonsterClasses[ <span class="source_int">1</span> ].MClassName;
<a name="4973"></a>}
<a name="4974"></a>
<a name="4975"></a>function <span class="source_type">string</span> GetEventGoreFastClassName()
<a name="4976"></a>{
<a name="4977"></a>    return MonsterCollection.default.MonsterClasses[ <span class="source_int">2</span> ].MClassName;
<a name="4978"></a>}
<a name="4979"></a>
<a name="4980"></a>function <span class="source_type">string</span> GetEventStalkerClassName()
<a name="4981"></a>{
<a name="4982"></a>    return MonsterCollection.default.MonsterClasses[ <span class="source_int">3</span> ].MClassName;
<a name="4983"></a>}
<a name="4984"></a>
<a name="4985"></a>function <span class="source_type">string</span> GetEventScrakeClassName()
<a name="4986"></a>{
<a name="4987"></a>    return MonsterCollection.default.MonsterClasses[ <span class="source_int">4</span> ].MClassName;
<a name="4988"></a>}
<a name="4989"></a>
<a name="4990"></a>function <span class="source_type">string</span> GetEventFleshpoundClassName()
<a name="4991"></a>{
<a name="4992"></a>    return MonsterCollection.default.MonsterClasses[ <span class="source_int">5</span> ].MClassName;
<a name="4993"></a>}
<a name="4994"></a>
<a name="4995"></a>function <span class="source_type">string</span> GetEventBloatClassName()
<a name="4996"></a>{
<a name="4997"></a>    return MonsterCollection.default.MonsterClasses[ <span class="source_int">6</span> ].MClassName;
<a name="4998"></a>}
<a name="4999"></a>
<a name="5000"></a>function <span class="source_type">string</span> GetEventSirenClassName()
<a name="5001"></a>{
<a name="5002"></a>    return MonsterCollection.default.MonsterClasses[ <span class="source_int">7</span> ].MClassName;
<a name="5003"></a>}
<a name="5004"></a>
<a name="5005"></a>function <span class="source_type">string</span> GetEventHuskClassName()
<a name="5006"></a>{
<a name="5007"></a>    return MonsterCollection.default.MonsterClasses[ <span class="source_int">8</span> ].MClassName;
<a name="5008"></a>}
<a name="5009"></a>
<a name="5010"></a>static function <span class="source_type"><a href="../kfmod/kfgametype.html#ESpecialEventType" class="source">ESpecialEventType</a></span> GetSpecialEventType()
<a name="5011"></a>{
<a name="5012"></a>    return default.SpecialEventType;
<a name="5013"></a>}
<a name="5014"></a>
<a name="5015"></a>exec function DumpZedSquads(<span class="source_type">int</span> MyKFGameLength)
<a name="5016"></a>{
<a name="5017"></a>    local <span class="source_type"><a href="../gui2k4/ut2k4invasionwaveconfig.html#WaveInfo" class="source">WaveInfo</a></span> MyWaves[<span class="source_int">16</span>];
<a name="5018"></a>    local <span class="source_type">int</span> MyFinalWave, <span class="source_type">m</span>, MyWaveNum, OldMySquadToUse, <span class="source_type">i</span>, j, q, <span class="source_type">c</span>, <span class="source_type">n</span>;
<a name="5019"></a>    local array&lt;<span class="source_type"><a href="../kfmod/kfgametype.html#MSquadsList" class="source">MSquadsList</a></span>&gt; MyInitSquads;
<a name="5020"></a>    local array&lt;<span class="source_type">int</span>&gt; MySquadsToUse; <span class="source_comment">// Pointers
</span><a name="5021"></a>    local <span class="source_type">Class</span>&lt;<span class="source_type"><a href="../kfmod/kfmonster.html" class="source">KFMonster</a></span>&gt; <span class="source_type">MC</span>;
<a name="5022"></a>    local <span class="source_type">string</span> <span class="source_type">S</span>,ID;
<a name="5023"></a>    local <span class="source_type">bool</span> bInitSq;
<a name="5024"></a>    local array&lt;<span class="source_type"><a href="../kfmod/kfgametype.html#IMClassList" class="source">IMClassList</a></span>&gt; InitMList;
<a name="5025"></a>
<a name="5026"></a>    if ( MyKFGameLength == <span class="source_int">0</span> )
<a name="5027"></a>    {
<a name="5028"></a>        MyFinalWave = <span class="source_int">4</span>;
<a name="5029"></a>        for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; MyFinalWave; <span class="source_type">i</span>++ )
<a name="5030"></a>        {
<a name="5031"></a>            MyWaves[<span class="source_type">i</span>] = ShortWaves[<span class="source_type">i</span>];
<a name="5032"></a>        }
<a name="5033"></a>    }
<a name="5034"></a>    else if ( MyKFGameLength == <span class="source_int">1</span> )
<a name="5035"></a>    {
<a name="5036"></a>        MyFinalWave = <span class="source_int">7</span>;
<a name="5037"></a>        for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; MyFinalWave; <span class="source_type">i</span>++ )
<a name="5038"></a>        {
<a name="5039"></a>            MyWaves[<span class="source_type">i</span>] = NormalWaves[<span class="source_type">i</span>];
<a name="5040"></a>        }
<a name="5041"></a>    }
<a name="5042"></a>    else if ( MyKFGameLength == <span class="source_int">2</span> )
<a name="5043"></a>    {
<a name="5044"></a>        MyFinalWave = <span class="source_int">10</span>;
<a name="5045"></a>        for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; MyFinalWave; <span class="source_type">i</span>++ )
<a name="5046"></a>        {
<a name="5047"></a>            MyWaves[<span class="source_type">i</span>] = LongWaves[<span class="source_type">i</span>];
<a name="5048"></a>        }
<a name="5049"></a>    }
<a name="5050"></a>
<a name="5051"></a>    InitMList = LoadUpMonsterListFromGameType();
<a name="5052"></a>
<a name="5053"></a>    for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; MonsterSquad.Length; <span class="source_type">i</span>++ )
<a name="5054"></a>    {
<a name="5055"></a>        <span class="source_type">S</span> = MonsterSquad[<span class="source_type">i</span>];
<a name="5056"></a>        if ( <span class="source_type">S</span> == <span class="source_string">""</span> )
<a name="5057"></a>        {
<a name="5058"></a>            Continue;
<a name="5059"></a>        }
<a name="5060"></a>
<a name="5061"></a>        bInitSq = False;
<a name="5062"></a>        <span class="source_type">n</span> = <span class="source_int">0</span>;
<a name="5063"></a>
<a name="5064"></a>        while ( <span class="source_type">S</span> != <span class="source_string">""</span> )
<a name="5065"></a>        {
<a name="5066"></a>            q = <span class="source_type">int</span>(Left(<span class="source_type">S</span>, <span class="source_int">1</span>));
<a name="5067"></a>            ID = Mid(<span class="source_type">S</span>, <span class="source_int">1</span>, <span class="source_int">1</span>);
<a name="5068"></a>            <span class="source_type">S</span> = Mid(<span class="source_type">S</span>, <span class="source_int">2</span>);
<a name="5069"></a>            <span class="source_type">MC</span> = None;
<a name="5070"></a>
<a name="5071"></a>            for ( j = <span class="source_int">0</span>; j &lt; InitMList.Length; j++ )
<a name="5072"></a>            {
<a name="5073"></a>                if ( InitMList[j].ID ~= ID )
<a name="5074"></a>                {
<a name="5075"></a>                    <span class="source_type">MC</span> = InitMList[j].MClass;
<a name="5076"></a>                    Break;
<a name="5077"></a>                }
<a name="5078"></a>            }
<a name="5079"></a>
<a name="5080"></a>            if ( <span class="source_type">MC</span> == None )
<a name="5081"></a>            {
<a name="5082"></a>                Continue;
<a name="5083"></a>            }
<a name="5084"></a>
<a name="5085"></a>            if ( !bInitSq )
<a name="5086"></a>            {
<a name="5087"></a>                MyInitSquads.Length = <span class="source_type">c</span>+<span class="source_int">1</span>;
<a name="5088"></a>                bInitSq = True;
<a name="5089"></a>            }
<a name="5090"></a>
<a name="5091"></a>            while ( (q--) &gt; <span class="source_int">0</span> )
<a name="5092"></a>            {
<a name="5093"></a>                MyInitSquads[<span class="source_type">c</span>].MSquad.Length = <span class="source_type">n</span>+<span class="source_int">1</span>;
<a name="5094"></a>                MyInitSquads[<span class="source_type">c</span>].MSquad[<span class="source_type">n</span>] = <span class="source_type">MC</span>;
<a name="5095"></a>                <span class="source_type">n</span>++;
<a name="5096"></a>            }
<a name="5097"></a>        }
<a name="5098"></a>
<a name="5099"></a>        if ( bInitSq )
<a name="5100"></a>        {
<a name="5101"></a>            <span class="source_type">c</span>++;
<a name="5102"></a>        }
<a name="5103"></a>    }
<a name="5104"></a>
<a name="5105"></a>    for ( MyWaveNum = <span class="source_int">0</span>; MyWaveNum &lt; MyFinalWave; MyWaveNum++ )
<a name="5106"></a>    {
<a name="5107"></a>        j = <span class="source_int">1</span>;
<a name="5108"></a>        for ( <span class="source_type">i</span> = <span class="source_int">0</span>; <span class="source_type">i</span> &lt; MyInitSquads.Length; <span class="source_type">i</span>++ )
<a name="5109"></a>        {
<a name="5110"></a>            if ( (j & MyWaves[MyWaveNum].WaveMask) != <span class="source_int">0</span> )
<a name="5111"></a>            {
<a name="5112"></a>                MySquadsToUse.Insert(<span class="source_int">0</span>,<span class="source_int">1</span>);
<a name="5113"></a>                MySquadsToUse[<span class="source_int">0</span>] = <span class="source_type">i</span>;
<a name="5114"></a>
<a name="5115"></a>                for ( <span class="source_type">m</span> = <span class="source_int">0</span>; <span class="source_type">m</span> &lt; InitSquads[<span class="source_type">i</span>].MSquad.Length; <span class="source_type">m</span>++ )
<a name="5116"></a>                {
<a name="5117"></a>                   log(<span class="source_string">"Wave "</span> $ MyWaveNum + <span class="source_int">1</span> $ <span class="source_string">" Squad "</span> $ MySquadsToUse.Length $ <span class="source_string">" Monster "</span> $ <span class="source_type">m</span> + <span class="source_int">1</span> $ <span class="source_string">" "</span>$MyInitSquads[<span class="source_type">i</span>].MSquad[<span class="source_type">m</span>]);
<a name="5118"></a>                }
<a name="5119"></a>            }
<a name="5120"></a>            if ( OldMySquadToUse != MySquadsToUse.Length )
<a name="5121"></a>            {
<a name="5122"></a>                log(<span class="source_string">"==================End Squad "</span> @ MySquadsToUse.Length @ <span class="source_string">"=================="</span>);
<a name="5123"></a>                OldMySquadToUse = MySquadsToUse.Length;
<a name="5124"></a>            }
<a name="5125"></a>            j *= <span class="source_int">2</span>;
<a name="5126"></a>        }
<a name="5127"></a>        log(<span class="source_string">" "</span>);
<a name="5128"></a>        log(<span class="source_string">"##################End Wave"</span> @ MyWaveNum + <span class="source_int">1</span> @ <span class="source_string">"##################"</span>);
<a name="5129"></a>        log(<span class="source_string">" "</span>);
<a name="5130"></a>    }
<a name="5131"></a>}
<a name="5132"></a>
<a name="5133"></a>defaultproperties
<a name="5134"></a>{
<a name="5135"></a>     SandboxGroup=<span class="source_string">"Sandbox"</span>
<a name="5136"></a>     ShortWaves(<span class="source_int">0</span>)=(WaveMask=<span class="source_int">196611</span>,WaveMaxMonsters=<span class="source_int">20</span>,WaveDuration=<span class="source_int">255</span>)
<a name="5137"></a>     ShortWaves(<span class="source_int">1</span>)=(WaveMask=<span class="source_int">19662621</span>,WaveMaxMonsters=<span class="source_int">32</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.100000</span>)
<a name="5138"></a>     ShortWaves(<span class="source_int">2</span>)=(WaveMask=<span class="source_int">39337661</span>,WaveMaxMonsters=<span class="source_int">35</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5139"></a>     ShortWaves(<span class="source_int">3</span>)=(WaveMask=<span class="source_int">73378265</span>,WaveMaxMonsters=<span class="source_int">42</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.300000</span>)
<a name="5140"></a>     NormalWaves(<span class="source_int">0</span>)=(WaveMask=<span class="source_int">196611</span>,WaveMaxMonsters=<span class="source_int">20</span>,WaveDuration=<span class="source_int">255</span>)
<a name="5141"></a>     NormalWaves(<span class="source_int">1</span>)=(WaveMask=<span class="source_int">16974063</span>,WaveMaxMonsters=<span class="source_int">28</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.100000</span>)
<a name="5142"></a>     NormalWaves(<span class="source_int">2</span>)=(WaveMask=<span class="source_int">19662621</span>,WaveMaxMonsters=<span class="source_int">32</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.100000</span>)
<a name="5143"></a>     NormalWaves(<span class="source_int">3</span>)=(WaveMask=<span class="source_int">37490365</span>,WaveMaxMonsters=<span class="source_int">32</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5144"></a>     NormalWaves(<span class="source_int">4</span>)=(WaveMask=<span class="source_int">39399101</span>,WaveMaxMonsters=<span class="source_int">35</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5145"></a>     NormalWaves(<span class="source_int">5</span>)=(WaveMask=<span class="source_int">58665455</span>,WaveMaxMonsters=<span class="source_int">40</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.300000</span>)
<a name="5146"></a>     NormalWaves(<span class="source_int">6</span>)=(WaveMask=<span class="source_int">73386457</span>,WaveMaxMonsters=<span class="source_int">42</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.300000</span>)
<a name="5147"></a>     LongWaves(<span class="source_int">0</span>)=(WaveMask=<span class="source_int">196611</span>,WaveMaxMonsters=<span class="source_int">20</span>,WaveDuration=<span class="source_int">255</span>)
<a name="5148"></a>     LongWaves(<span class="source_int">1</span>)=(WaveMask=<span class="source_int">16974063</span>,WaveMaxMonsters=<span class="source_int">28</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.100000</span>)
<a name="5149"></a>     LongWaves(<span class="source_int">2</span>)=(WaveMask=<span class="source_int">19662621</span>,WaveMaxMonsters=<span class="source_int">32</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.100000</span>)
<a name="5150"></a>     LongWaves(<span class="source_int">3</span>)=(WaveMask=<span class="source_int">20713145</span>,WaveMaxMonsters=<span class="source_int">32</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5151"></a>     LongWaves(<span class="source_int">4</span>)=(WaveMask=<span class="source_int">37490365</span>,WaveMaxMonsters=<span class="source_int">35</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5152"></a>     LongWaves(<span class="source_int">5</span>)=(WaveMask=<span class="source_int">39337661</span>,WaveMaxMonsters=<span class="source_int">35</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5153"></a>     LongWaves(<span class="source_int">6</span>)=(WaveMask=<span class="source_int">56114877</span>,WaveMaxMonsters=<span class="source_int">35</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5154"></a>     LongWaves(<span class="source_int">7</span>)=(WaveMask=<span class="source_int">58616303</span>,WaveMaxMonsters=<span class="source_int">40</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.300000</span>)
<a name="5155"></a>     LongWaves(<span class="source_int">8</span>)=(WaveMask=<span class="source_int">75393519</span>,WaveMaxMonsters=<span class="source_int">40</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.300000</span>)
<a name="5156"></a>     LongWaves(<span class="source_int">9</span>)=(WaveMask=<span class="source_int">90171865</span>,WaveMaxMonsters=<span class="source_int">45</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.300000</span>)
<a name="5157"></a>     MonsterCollection=<span class="source_type">Class</span><span class="source_name">'KFMod.KFMonstersCollection'</span>
<a name="5158"></a>     HumanName(<span class="source_int">0</span>)=<span class="source_string">"Cpl.McinTyre"</span>
<a name="5159"></a>     HumanName(<span class="source_int">1</span>)=<span class="source_string">"Sgt.Michaels"</span>
<a name="5160"></a>     HumanName(<span class="source_int">2</span>)=<span class="source_string">"Pvt.Davin"</span>
<a name="5161"></a>     HumanName(<span class="source_int">3</span>)=<span class="source_string">"Cpl.Powers"</span>
<a name="5162"></a>     KFSurvivalPropText(<span class="source_int">0</span>)=<span class="source_string">"Wave Start Spawn Period"</span>
<a name="5163"></a>     KFSurvivalPropText(<span class="source_int">1</span>)=<span class="source_string">"Wave Spawn Period"</span>
<a name="5164"></a>     KFSurvivalPropText(<span class="source_int">2</span>)=<span class="source_string">"Starting Cash"</span>
<a name="5165"></a>     KFSurvivalPropText(<span class="source_int">3</span>)=<span class="source_string">"No Bots"</span>
<a name="5166"></a>     KFSurvivalPropText(<span class="source_int">4</span>)=<span class="source_string">"No Late Joiners"</span>
<a name="5167"></a>     KFSurvivalPropText(<span class="source_int">5</span>)=<span class="source_string">"Lobby TimeOut"</span>
<a name="5168"></a>     KFSurvivalPropText(<span class="source_int">6</span>)=<span class="source_string">"Specimen HealthBars"</span>
<a name="5169"></a>     KFSurvivalPropText(<span class="source_int">7</span>)=<span class="source_string">"Wave Downtime"</span>
<a name="5170"></a>     KFSurvivalPropText(<span class="source_int">8</span>)=<span class="source_string">"Number of Waves"</span>
<a name="5171"></a>     KFSurvivalPropText(<span class="source_int">9</span>)=<span class="source_string">"Game Length"</span>
<a name="5172"></a>     KFSurvivalPropText(<span class="source_int">10</span>)=<span class="source_string">"Max Specimens"</span>
<a name="5173"></a>     KFSurvivalPropText(<span class="source_int">11</span>)=<span class="source_string">"Use EndGame Boss"</span>
<a name="5174"></a>     KFSurvivalPropText(<span class="source_int">12</span>)=<span class="source_string">"Waves Config"</span>
<a name="5175"></a>     KFSurvivalPropText(<span class="source_int">13</span>)=<span class="source_string">"Squads Config"</span>
<a name="5176"></a>     KFSurvivalPropText(<span class="source_int">14</span>)=<span class="source_string">"Monsters Config"</span>
<a name="5177"></a>     KFSurvivalPropText(<span class="source_int">15</span>)=<span class="source_string">"Min Respawn Cash Amount"</span>
<a name="5178"></a>     KFSurvivalDescText(<span class="source_int">0</span>)=<span class="source_string">"Specify time between successive spawns at start of waves(recommended:6.0), lower values may hurt performance!"</span>
<a name="5179"></a>     KFSurvivalDescText(<span class="source_int">1</span>)=<span class="source_string">"Specify time between successive spawns during a wave(recommended:3.0), lower values may hurt performance!"</span>
<a name="5180"></a>     KFSurvivalDescText(<span class="source_int">2</span>)=<span class="source_string">"Specify how much money players should begin the game with. (Max 300)"</span>
<a name="5181"></a>     KFSurvivalDescText(<span class="source_int">3</span>)=<span class="source_string">"Check this box to remove bots from the game."</span>
<a name="5182"></a>     KFSurvivalDescText(<span class="source_int">4</span>)=<span class="source_string">"Check this box to stop people from joining after the game has started."</span>
<a name="5183"></a>     KFSurvivalDescText(<span class="source_int">5</span>)=<span class="source_string">"Set the maximum time on the lobby screen which can elapse after one player has clicked ready before the game automatically starts. "</span>
<a name="5184"></a>     KFSurvivalDescText(<span class="source_int">6</span>)=<span class="source_string">"If true, specimens will have visible health indicators above their heads"</span>
<a name="5185"></a>     KFSurvivalDescText(<span class="source_int">7</span>)=<span class="source_string">"The based amount of time (in seconds) to count between waves."</span>
<a name="5186"></a>     KFSurvivalDescText(<span class="source_int">8</span>)=<span class="source_string">"The number of waves per level."</span>
<a name="5187"></a>     KFSurvivalDescText(<span class="source_int">9</span>)=<span class="source_string">"Sets number of waves: Short is 4 waves, Normal is 7, and long is 10.  Custom enables Sandbox mode, but turns off Perk progression."</span>
<a name="5188"></a>     KFSurvivalDescText(<span class="source_int">10</span>)=<span class="source_string">"Maximum zombies at once on playtime, note that high values will LAG when theres a lot of them."</span>
<a name="5189"></a>     KFSurvivalDescText(<span class="source_int">11</span>)=<span class="source_string">"Spawn the final boss on end of final wave."</span>
<a name="5190"></a>     KFSurvivalDescText(<span class="source_int">12</span>)=<span class="source_string">"Configure the Killing Floor waves."</span>
<a name="5191"></a>     KFSurvivalDescText(<span class="source_int">13</span>)=<span class="source_string">"Configure the monster squads to use on waves."</span>
<a name="5192"></a>     KFSurvivalDescText(<span class="source_int">14</span>)=<span class="source_string">"Configure the monster classes to be used in the squads."</span>
<a name="5193"></a>     KFSurvivalDescText(<span class="source_int">15</span>)=<span class="source_string">"Minimum amount of Cash when respawning on new wave."</span>
<a name="5194"></a>     NoLateJoiners=<span class="source_string">"This server does not allow late joiners."</span>
<a name="5195"></a>     WaveStartSpawnPeriod=<span class="source_int">6.000000</span>
<a name="5196"></a>     StartingCash=<span class="source_int">300</span>
<a name="5197"></a>     MinRespawnCash=<span class="source_int">250</span>
<a name="5198"></a>     bNoBots=True
<a name="5199"></a>     bUseEndGameBoss=True
<a name="5200"></a>     bRespawnOnBoss=True
<a name="5201"></a>     BossBattleSong=<span class="source_string">"KF_Abandon"</span>
<a name="5202"></a>     StartingCashBeginner=<span class="source_int">300</span>
<a name="5203"></a>     StartingCashNormal=<span class="source_int">250</span>
<a name="5204"></a>     StartingCashHard=<span class="source_int">250</span>
<a name="5205"></a>     StartingCashSuicidal=<span class="source_int">200</span>
<a name="5206"></a>     StartingCashHell=<span class="source_int">100</span>
<a name="5207"></a>     MinRespawnCashBeginner=<span class="source_int">250</span>
<a name="5208"></a>     MinRespawnCashNormal=<span class="source_int">200</span>
<a name="5209"></a>     MinRespawnCashHard=<span class="source_int">200</span>
<a name="5210"></a>     MinRespawnCashSuicidal=<span class="source_int">150</span>
<a name="5211"></a>     MinRespawnCashHell=<span class="source_int">100</span>
<a name="5212"></a>     TimeBetweenWavesBeginner=<span class="source_int">90</span>
<a name="5213"></a>     TimeBetweenWavesNormal=<span class="source_int">60</span>
<a name="5214"></a>     TimeBetweenWavesHard=<span class="source_int">60</span>
<a name="5215"></a>     TimeBetweenWavesSuicidal=<span class="source_int">60</span>
<a name="5216"></a>     TimeBetweenWavesHell=<span class="source_int">60</span>
<a name="5217"></a>     StandardMonsterSquads(<span class="source_int">0</span>)=<span class="source_string">"4A"</span>
<a name="5218"></a>     StandardMonsterSquads(<span class="source_int">1</span>)=<span class="source_string">"4A1G"</span>
<a name="5219"></a>     StandardMonsterSquads(<span class="source_int">2</span>)=<span class="source_string">"2B"</span>
<a name="5220"></a>     StandardMonsterSquads(<span class="source_int">3</span>)=<span class="source_string">"4B"</span>
<a name="5221"></a>     StandardMonsterSquads(<span class="source_int">4</span>)=<span class="source_string">"3A1G"</span>
<a name="5222"></a>     StandardMonsterSquads(<span class="source_int">5</span>)=<span class="source_string">"2D"</span>
<a name="5223"></a>     StandardMonsterSquads(<span class="source_int">6</span>)=<span class="source_string">"3A1C"</span>
<a name="5224"></a>     StandardMonsterSquads(<span class="source_int">7</span>)=<span class="source_string">"2A2C"</span>
<a name="5225"></a>     StandardMonsterSquads(<span class="source_int">8</span>)=<span class="source_string">"2A3B1C"</span>
<a name="5226"></a>     StandardMonsterSquads(<span class="source_int">9</span>)=<span class="source_string">"1A3C"</span>
<a name="5227"></a>     StandardMonsterSquads(<span class="source_int">10</span>)=<span class="source_string">"3A1C1H"</span>
<a name="5228"></a>     StandardMonsterSquads(<span class="source_int">11</span>)=<span class="source_string">"3A1B2D1G1H"</span>
<a name="5229"></a>     StandardMonsterSquads(<span class="source_int">12</span>)=<span class="source_string">"3A1E"</span>
<a name="5230"></a>     StandardMonsterSquads(<span class="source_int">13</span>)=<span class="source_string">"2A1E"</span>
<a name="5231"></a>     StandardMonsterSquads(<span class="source_int">14</span>)=<span class="source_string">"2A3C1E"</span>
<a name="5232"></a>     StandardMonsterSquads(<span class="source_int">15</span>)=<span class="source_string">"2B3D1G2H"</span>
<a name="5233"></a>     StandardMonsterSquads(<span class="source_int">16</span>)=<span class="source_string">"4A1C"</span>
<a name="5234"></a>     StandardMonsterSquads(<span class="source_int">17</span>)=<span class="source_string">"4A"</span>
<a name="5235"></a>     StandardMonsterSquads(<span class="source_int">18</span>)=<span class="source_string">"4D"</span>
<a name="5236"></a>     StandardMonsterSquads(<span class="source_int">19</span>)=<span class="source_string">"4C"</span>
<a name="5237"></a>     StandardMonsterSquads(<span class="source_int">20</span>)=<span class="source_string">"6B"</span>
<a name="5238"></a>     StandardMonsterSquads(<span class="source_int">21</span>)=<span class="source_string">"2B2C2D1H"</span>
<a name="5239"></a>     StandardMonsterSquads(<span class="source_int">22</span>)=<span class="source_string">"2A2B2C2H"</span>
<a name="5240"></a>     StandardMonsterSquads(<span class="source_int">23</span>)=<span class="source_string">"1F"</span>
<a name="5241"></a>     StandardMonsterSquads(<span class="source_int">24</span>)=<span class="source_string">"1I"</span>
<a name="5242"></a>     StandardMonsterSquads(<span class="source_int">25</span>)=<span class="source_string">"2A1C1I"</span>
<a name="5243"></a>     StandardMonsterSquads(<span class="source_int">26</span>)=<span class="source_string">"2I"</span>
<a name="5244"></a>     StandardMaxZombiesOnce=<span class="source_int">32</span>
<a name="5245"></a>     KFHints(<span class="source_int">0</span>)=<span class="source_string">"Aiming for the head is a good idea. If you score a critical headshot, you can remove a Specimen's head, rendering them unable to use special abilities, and increasing any further damage they take."</span>
<a name="5246"></a>     KFHints(<span class="source_int">1</span>)=<span class="source_string">"While you can use your medical syringe to heal your own wounds, it is far more effective when used on a team mate."</span>
<a name="5247"></a>     KFHints(<span class="source_int">2</span>)=<span class="source_string">"The Fleshpound. Shooting him with small weapons just makes him mad. Think big, powerful weapons for this one!"</span>
<a name="5248"></a>     KFHints(<span class="source_int">3</span>)=<span class="source_string">"Patriarch addendum: Did we forget to brief you? Yes, it seems he can cloak when he needs to heal. Luckily, only a couple of times in his short, angry life."</span>
<a name="5249"></a>     KFHints(<span class="source_int">4</span>)=<span class="source_string">"The Patriarch. This is the Big One. Chain-gun. Rockets. And vicious up close, too!"</span>
<a name="5250"></a>     KFHints(<span class="source_int">5</span>)=<span class="source_string">"The Scrake. Yes, that IS a chainsaw he's carrying...  nothing subtle about him!"</span>
<a name="5251"></a>     KFHints(<span class="source_int">6</span>)=<span class="source_string">"The Crawler. Interesting attempt to merge human and arachnid genes. Sort-of worked, too - these little nasties have a habit of appearing in all sorts of strange places!"</span>
<a name="5252"></a>     KFHints(<span class="source_int">7</span>)=<span class="source_string">"The Bloat. Not too hard to kill, but its bile is poisonous, so make sure you keep out of range!"</span>
<a name="5253"></a>     KFHints(<span class="source_int">8</span>)=<span class="source_string">"Your movement speed is affected by your weight total. You can also run faster carrying a melee weapon than a gun."</span>
<a name="5254"></a>     KFHints(<span class="source_int">9</span>)=<span class="source_string">"Bloats will explode in a shower of acidic goop when they die. Keep your distance when taking them down."</span>
<a name="5255"></a>     KFHints(<span class="source_int">10</span>)=<span class="source_string">"The Stalker will be largely cloaked and very hard to see, until she is close enough to gut you. Listen carefully for her."</span>
<a name="5256"></a>     KFHints(<span class="source_int">11</span>)=<span class="source_string">"The Trader will only open her shop for a brief time when the coast is clear. You'll have to find where she is situated in each map, and plan your shopping beforehand."</span>
<a name="5257"></a>     KFHints(<span class="source_int">12</span>)=<span class="source_string">"The Gorefast - tends to live up to its name, so watch out for it speeding in towards you."</span>
<a name="5258"></a>     KFHints(<span class="source_int">13</span>)=<span class="source_string">"The Clot is not that dangerous - but does have a nasty habit of grappling you and not letting you get away, so keep him at a distance."</span>
<a name="5259"></a>     KFHints(<span class="source_int">14</span>)=<span class="source_string">"The Siren is a real screamer. Very nasty. Her screams actually hurt - and they'll destroy grenades and rockets in mid-air!"</span>
<a name="5260"></a>     MonsterSquad(<span class="source_int">0</span>)=<span class="source_string">"4A"</span>
<a name="5261"></a>     MonsterSquad(<span class="source_int">1</span>)=<span class="source_string">"4A1G"</span>
<a name="5262"></a>     MonsterSquad(<span class="source_int">2</span>)=<span class="source_string">"2B"</span>
<a name="5263"></a>     MonsterSquad(<span class="source_int">3</span>)=<span class="source_string">"4B"</span>
<a name="5264"></a>     MonsterSquad(<span class="source_int">4</span>)=<span class="source_string">"3A1G"</span>
<a name="5265"></a>     MonsterSquad(<span class="source_int">5</span>)=<span class="source_string">"2D"</span>
<a name="5266"></a>     MonsterSquad(<span class="source_int">6</span>)=<span class="source_string">"3A1C"</span>
<a name="5267"></a>     MonsterSquad(<span class="source_int">7</span>)=<span class="source_string">"2A2C"</span>
<a name="5268"></a>     MonsterSquad(<span class="source_int">8</span>)=<span class="source_string">"2A3B1C"</span>
<a name="5269"></a>     MonsterSquad(<span class="source_int">9</span>)=<span class="source_string">"1A3C"</span>
<a name="5270"></a>     MonsterSquad(<span class="source_int">10</span>)=<span class="source_string">"3A1C1H"</span>
<a name="5271"></a>     MonsterSquad(<span class="source_int">11</span>)=<span class="source_string">"3A1B2D1G1H"</span>
<a name="5272"></a>     MonsterSquad(<span class="source_int">12</span>)=<span class="source_string">"3A1E"</span>
<a name="5273"></a>     MonsterSquad(<span class="source_int">13</span>)=<span class="source_string">"2A1E"</span>
<a name="5274"></a>     MonsterSquad(<span class="source_int">14</span>)=<span class="source_string">"2A3C1E"</span>
<a name="5275"></a>     MonsterSquad(<span class="source_int">15</span>)=<span class="source_string">"2B3D1G2H"</span>
<a name="5276"></a>     MonsterSquad(<span class="source_int">16</span>)=<span class="source_string">"4A1C"</span>
<a name="5277"></a>     MonsterSquad(<span class="source_int">17</span>)=<span class="source_string">"4A"</span>
<a name="5278"></a>     MonsterSquad(<span class="source_int">18</span>)=<span class="source_string">"4D"</span>
<a name="5279"></a>     MonsterSquad(<span class="source_int">19</span>)=<span class="source_string">"4C"</span>
<a name="5280"></a>     MonsterSquad(<span class="source_int">20</span>)=<span class="source_string">"6B"</span>
<a name="5281"></a>     MonsterSquad(<span class="source_int">21</span>)=<span class="source_string">"2B2C2D1H"</span>
<a name="5282"></a>     MonsterSquad(<span class="source_int">22</span>)=<span class="source_string">"2A2B2C2H"</span>
<a name="5283"></a>     MonsterSquad(<span class="source_int">23</span>)=<span class="source_string">"1F"</span>
<a name="5284"></a>     MonsterSquad(<span class="source_int">24</span>)=<span class="source_string">"1I"</span>
<a name="5285"></a>     MonsterSquad(<span class="source_int">25</span>)=<span class="source_string">"2A1C1I"</span>
<a name="5286"></a>     MonsterSquad(<span class="source_int">26</span>)=<span class="source_string">"2I"</span>
<a name="5287"></a>     ControllerClassName=<span class="source_string">"KFmod.KFDoorController"</span>
<a name="5288"></a>     LobbyTimeout=<span class="source_int">20</span>
<a name="5289"></a>     TimeBetweenWaves=<span class="source_int">60</span>
<a name="5290"></a>     AvailableChars(<span class="source_int">0</span>)=<span class="source_string">"Corporal_Lewis"</span>
<a name="5291"></a>     AvailableChars(<span class="source_int">1</span>)=<span class="source_string">"Lieutenant_Masterson"</span>
<a name="5292"></a>     AvailableChars(<span class="source_int">2</span>)=<span class="source_string">"Police_Constable_Briar"</span>
<a name="5293"></a>     AvailableChars(<span class="source_int">3</span>)=<span class="source_string">"Private_Schnieder"</span>
<a name="5294"></a>     AvailableChars(<span class="source_int">4</span>)=<span class="source_string">"Sergeant_Powers"</span>
<a name="5295"></a>     AvailableChars(<span class="source_int">5</span>)=<span class="source_string">"Police_Sergeant_Davin"</span>
<a name="5296"></a>     AvailableChars(<span class="source_int">6</span>)=<span class="source_string">"Dr_Gary_Glover"</span>
<a name="5297"></a>     AvailableChars(<span class="source_int">7</span>)=<span class="source_string">"DJ_Scully"</span>
<a name="5298"></a>     AvailableChars(<span class="source_int">8</span>)=<span class="source_string">"FoundryWorker_Aldridge"</span>
<a name="5299"></a>     AvailableChars(<span class="source_int">9</span>)=<span class="source_string">"Agent_Wilkes"</span>
<a name="5300"></a>     AvailableChars(<span class="source_int">10</span>)=<span class="source_string">"Mr_Foster"</span>
<a name="5301"></a>     AvailableChars(<span class="source_int">11</span>)=<span class="source_string">"LanceCorporal_Lee_Baron"</span>
<a name="5302"></a>     AvailableChars(<span class="source_int">12</span>)=<span class="source_string">"Mike_Noble"</span>
<a name="5303"></a>     AvailableChars(<span class="source_int">13</span>)=<span class="source_string">"Security_Officer_Thorne"</span>
<a name="5304"></a>     AvailableChars(<span class="source_int">14</span>)=<span class="source_string">"Harold_Hunt"</span>
<a name="5305"></a>     AvailableChars(<span class="source_int">15</span>)=<span class="source_string">"Kerry_Fitzpatrick"</span>
<a name="5306"></a>     AvailableChars(<span class="source_int">16</span>)=<span class="source_string">"Paramedic_Alfred_Anderson"</span>
<a name="5307"></a>     AvailableChars(<span class="source_int">17</span>)=<span class="source_string">"Trooper_Clive_Jenkins"</span>
<a name="5308"></a>     AvailableChars(<span class="source_int">18</span>)=<span class="source_string">"Harchier_Spebbington"</span>
<a name="5309"></a>     AvailableChars(<span class="source_int">19</span>)=<span class="source_string">"Captian_Wiggins"</span>
<a name="5310"></a>     AvailableChars(<span class="source_int">20</span>)=<span class="source_string">"Chopper_Harris"</span>
<a name="5311"></a>     AvailableChars(<span class="source_int">21</span>)=<span class="source_string">"Kevo_Chav"</span>
<a name="5312"></a>     AvailableChars(<span class="source_int">22</span>)=<span class="source_string">"Reverend_Alberts"</span>
<a name="5313"></a>     AvailableChars(<span class="source_int">23</span>)=<span class="source_string">"Baddest_Santa"</span>
<a name="5314"></a>     AvailableChars(<span class="source_int">24</span>)=<span class="source_string">"Pyro_Blue"</span>
<a name="5315"></a>     AvailableChars(<span class="source_int">25</span>)=<span class="source_string">"Pyro_Red"</span>
<a name="5316"></a>     AvailableChars(<span class="source_int">26</span>)=<span class="source_string">"Steampunk_Berserker"</span>
<a name="5317"></a>     AvailableChars(<span class="source_int">27</span>)=<span class="source_string">"Steampunk_Firebug"</span>
<a name="5318"></a>     AvailableChars(<span class="source_int">28</span>)=<span class="source_string">"Steampunk_Medic"</span>
<a name="5319"></a>     AvailableChars(<span class="source_int">29</span>)=<span class="source_string">"Steampunk_Sharpshooter"</span>
<a name="5320"></a>     AvailableChars(<span class="source_int">30</span>)=<span class="source_string">"Steampunk_MrFoster"</span>
<a name="5321"></a>     AvailableChars(<span class="source_int">31</span>)=<span class="source_string">"KF_Soviet"</span>
<a name="5322"></a>     AvailableChars(<span class="source_int">32</span>)=<span class="source_string">"KF_German"</span>
<a name="5323"></a>     AvailableChars(<span class="source_int">33</span>)=<span class="source_string">"Commando_Chicken"</span>
<a name="5324"></a>     AvailableChars(<span class="source_int">34</span>)=<span class="source_string">"Steampunk_Commando"</span>
<a name="5325"></a>     AvailableChars(<span class="source_int">35</span>)=<span class="source_string">"Steampunk_Demolition"</span>
<a name="5326"></a>     AvailableChars(<span class="source_int">36</span>)=<span class="source_string">"Steampunk_DJ_Scully"</span>
<a name="5327"></a>     AvailableChars(<span class="source_int">37</span>)=<span class="source_string">"Steampunk_Support_Specialist"</span>
<a name="5328"></a>     AvailableChars(<span class="source_int">38</span>)=<span class="source_string">"Ash_Harding"</span>
<a name="5329"></a>     AvailableChars(<span class="source_int">39</span>)=<span class="source_string">"Dave_The_Butcher_Roberts"</span>
<a name="5330"></a>     AvailableChars(<span class="source_int">40</span>)=<span class="source_string">"Dr_Jeffrey_Tamm"</span>
<a name="5331"></a>     AvailableChars(<span class="source_int">41</span>)=<span class="source_string">"Samuel_Avalon"</span>
<a name="5332"></a>     AvailableChars(<span class="source_int">42</span>)=<span class="source_string">"Shadow_Ferret"</span>
<a name="5333"></a>     AvailableChars(<span class="source_int">43</span>)=<span class="source_string">"Harold_Lott"</span>
<a name="5334"></a>     AvailableChars(<span class="source_int">44</span>)=<span class="source_string">"ChickenNator"</span>
<a name="5335"></a>     AvailableChars(<span class="source_int">45</span>)=<span class="source_string">"Reaper"</span>
<a name="5336"></a>     AvailableChars(<span class="source_int">46</span>)=<span class="source_string">"DAR"</span>
<a name="5337"></a>     AvailableChars(<span class="source_int">47</span>)=<span class="source_string">"Ricky_Vegas"</span>
<a name="5338"></a>     AvailableChars(<span class="source_int">48</span>)=<span class="source_string">"Hayato_Tanaka"</span>
<a name="5339"></a>     AvailableChars(<span class="source_int">49</span>)=<span class="source_string">"Mrs_Foster"</span>
<a name="5340"></a>     AvailableChars(<span class="source_int">50</span>)=<span class="source_string">"Steampunk_Mrs_Foster"</span>
<a name="5341"></a>     AvailableChars(<span class="source_int">51</span>)=<span class="source_string">"Reggie"</span>
<a name="5342"></a>     AvailableChars(<span class="source_int">52</span>)=<span class="source_string">"Harchier_Spebbington_II"</span>
<a name="5343"></a>     AvailableChars(<span class="source_int">53</span>)=<span class="source_string">"Ms_Clamley"</span>
<a name="5344"></a>     AvailableChars(<span class="source_int">54</span>)=<span class="source_string">"Mr_Magma"</span>
<a name="5345"></a>     AvailableChars(<span class="source_int">55</span>)=<span class="source_string">"Voltage"</span>
<a name="5346"></a>     LoadedSkills(<span class="source_int">0</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFVetFieldMedic'</span>
<a name="5347"></a>     LoadedSkills(<span class="source_int">1</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFVetSupportSpec'</span>
<a name="5348"></a>     LoadedSkills(<span class="source_int">2</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFVetSharpshooter'</span>
<a name="5349"></a>     LoadedSkills(<span class="source_int">3</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFVetCommando'</span>
<a name="5350"></a>     LoadedSkills(<span class="source_int">4</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFVetBerserker'</span>
<a name="5351"></a>     LoadedSkills(<span class="source_int">5</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFVetFirebug'</span>
<a name="5352"></a>     LoadedSkills(<span class="source_int">6</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFVetDemolitions'</span>
<a name="5353"></a>     MaxZombiesOnce=<span class="source_int">32</span>
<a name="5354"></a>     ZEDTimeDuration=<span class="source_int">3.000000</span>
<a name="5355"></a>     ZedTimeSlomoScale=<span class="source_int">0.200000</span>
<a name="5356"></a>     LastBurnedEnemyMessageTime=-<span class="source_int">120.000000</span>
<a name="5357"></a>     BurnedEnemyMessageDelay=<span class="source_int">120.000000</span>
<a name="5358"></a>     SineWaveFreq=<span class="source_int">0.040000</span>
<a name="5359"></a>     MonsterClasses(<span class="source_int">0</span>)=(MClassName=<span class="source_string">"KFChar.ZombieClot_STANDARD"</span>,Mid=<span class="source_string">"A"</span>)
<a name="5360"></a>     MonsterClasses(<span class="source_int">1</span>)=(MClassName=<span class="source_string">"KFChar.ZombieCrawler_STANDARD"</span>,Mid=<span class="source_string">"B"</span>)
<a name="5361"></a>     MonsterClasses(<span class="source_int">2</span>)=(MClassName=<span class="source_string">"KFChar.ZombieGoreFast_STANDARD"</span>,Mid=<span class="source_string">"C"</span>)
<a name="5362"></a>     MonsterClasses(<span class="source_int">3</span>)=(MClassName=<span class="source_string">"KFChar.ZombieStalker_STANDARD"</span>,Mid=<span class="source_string">"D"</span>)
<a name="5363"></a>     MonsterClasses(<span class="source_int">4</span>)=(MClassName=<span class="source_string">"KFChar.ZombieScrake_STANDARD"</span>,Mid=<span class="source_string">"E"</span>)
<a name="5364"></a>     MonsterClasses(<span class="source_int">5</span>)=(MClassName=<span class="source_string">"KFChar.ZombieFleshpound_STANDARD"</span>,Mid=<span class="source_string">"F"</span>)
<a name="5365"></a>     MonsterClasses(<span class="source_int">6</span>)=(MClassName=<span class="source_string">"KFChar.ZombieBloat_STANDARD"</span>,Mid=<span class="source_string">"G"</span>)
<a name="5366"></a>     MonsterClasses(<span class="source_int">7</span>)=(MClassName=<span class="source_string">"KFChar.ZombieSiren_STANDARD"</span>,Mid=<span class="source_string">"H"</span>)
<a name="5367"></a>     MonsterClasses(<span class="source_int">8</span>)=(MClassName=<span class="source_string">"KFChar.ZombieHusk_STANDARD"</span>,Mid=<span class="source_string">"I"</span>)
<a name="5368"></a>     EndGameBossClass=<span class="source_string">"KFChar.ZombieBoss_STANDARD"</span>
<a name="5369"></a>     SpecialEventMonsterCollections(<span class="source_int">0</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFMonstersCollection'</span>
<a name="5370"></a>     SpecialEventMonsterCollections(<span class="source_int">1</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFMonstersSummer'</span>
<a name="5371"></a>     SpecialEventMonsterCollections(<span class="source_int">2</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFMonstersHalloween'</span>
<a name="5372"></a>     SpecialEventMonsterCollections(<span class="source_int">3</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFMonstersXmas'</span>
<a name="5373"></a>     WaveConfigMenu=<span class="source_string">"KFGUI.KFWaveConfigMenu"</span>
<a name="5374"></a>     FallbackMonsterClass=<span class="source_string">"KFChar.ZombieStalker_STANDARD"</span>
<a name="5375"></a>     <span class="source_type">FinalWave</span>=<span class="source_int">10</span>
<a name="5376"></a>     InvasionBotNames(<span class="source_int">1</span>)=<span class="source_string">"Zombie"</span>
<a name="5377"></a>     InvasionBotNames(<span class="source_int">2</span>)=<span class="source_string">"Zombie"</span>
<a name="5378"></a>     InvasionBotNames(<span class="source_int">3</span>)=<span class="source_string">"Zombie"</span>
<a name="5379"></a>     InvasionBotNames(<span class="source_int">4</span>)=<span class="source_string">"Zombie"</span>
<a name="5380"></a>     InvasionBotNames(<span class="source_int">5</span>)=<span class="source_string">"Zombie"</span>
<a name="5381"></a>     InvasionBotNames(<span class="source_int">6</span>)=<span class="source_string">"Zombie"</span>
<a name="5382"></a>     InvasionBotNames(<span class="source_int">7</span>)=<span class="source_string">"Zombie"</span>
<a name="5383"></a>     InvasionBotNames(<span class="source_int">8</span>)=<span class="source_string">"Zombie"</span>
<a name="5384"></a>     InvasionEnd(<span class="source_int">0</span>)=<span class="source_string">"Sound"</span>
<a name="5385"></a>     InvasionEnd(<span class="source_int">1</span>)=<span class="source_string">"Sound"</span>
<a name="5386"></a>     InvasionEnd(<span class="source_int">2</span>)=<span class="source_string">"Sound"</span>
<a name="5387"></a>     InvasionEnd(<span class="source_int">3</span>)=<span class="source_string">"Sound"</span>
<a name="5388"></a>     InvasionEnd(<span class="source_int">4</span>)=<span class="source_string">"Sound"</span>
<a name="5389"></a>     InvasionEnd(<span class="source_int">5</span>)=<span class="source_string">"Sound"</span>
<a name="5390"></a>     Waves(<span class="source_int">0</span>)=(WaveMask=<span class="source_int">196611</span>,WaveMaxMonsters=<span class="source_int">20</span>,WaveDuration=<span class="source_int">255</span>)
<a name="5391"></a>     Waves(<span class="source_int">1</span>)=(WaveMask=<span class="source_int">16974063</span>,WaveMaxMonsters=<span class="source_int">28</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.100000</span>)
<a name="5392"></a>     Waves(<span class="source_int">2</span>)=(WaveMask=<span class="source_int">19662621</span>,WaveMaxMonsters=<span class="source_int">32</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.100000</span>)
<a name="5393"></a>     Waves(<span class="source_int">3</span>)=(WaveMask=<span class="source_int">20713145</span>,WaveMaxMonsters=<span class="source_int">32</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5394"></a>     Waves(<span class="source_int">4</span>)=(WaveMask=<span class="source_int">20713149</span>,WaveMaxMonsters=<span class="source_int">35</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5395"></a>     Waves(<span class="source_int">5</span>)=(WaveMask=<span class="source_int">39337661</span>,WaveMaxMonsters=<span class="source_int">35</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5396"></a>     Waves(<span class="source_int">6</span>)=(WaveMask=<span class="source_int">39337661</span>,WaveMaxMonsters=<span class="source_int">35</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.200000</span>)
<a name="5397"></a>     Waves(<span class="source_int">7</span>)=(WaveMask=<span class="source_int">41839087</span>,WaveMaxMonsters=<span class="source_int">40</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.300000</span>)
<a name="5398"></a>     Waves(<span class="source_int">8</span>)=(WaveMask=<span class="source_int">41839087</span>,WaveMaxMonsters=<span class="source_int">40</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.300000</span>)
<a name="5399"></a>     Waves(<span class="source_int">9</span>)=(WaveMask=<span class="source_int">39840217</span>,WaveMaxMonsters=<span class="source_int">45</span>,WaveDuration=<span class="source_int">255</span>,WaveDifficulty=<span class="source_int">0.300000</span>)
<a name="5400"></a>     Waves(<span class="source_int">10</span>)=(WaveMask=<span class="source_int">65026687</span>,WaveMaxMonsters=<span class="source_int">50</span>)
<a name="5401"></a>     Waves(<span class="source_int">11</span>)=(WaveMask=<span class="source_int">63750079</span>,WaveMaxMonsters=<span class="source_int">50</span>)
<a name="5402"></a>     Waves(<span class="source_int">12</span>)=(WaveMask=<span class="source_int">64810679</span>,WaveMaxMonsters=<span class="source_int">50</span>)
<a name="5403"></a>     Waves(<span class="source_int">13</span>)=(WaveMask=<span class="source_int">62578607</span>,WaveMaxMonsters=<span class="source_int">60</span>)
<a name="5404"></a>     Waves(<span class="source_int">14</span>)=(WaveMask=<span class="source_int">100663295</span>,WaveMaxMonsters=<span class="source_int">50</span>)
<a name="5405"></a>     Waves(<span class="source_int">15</span>)=(WaveMask=<span class="source_int">125892608</span>,WaveMaxMonsters=<span class="source_int">15</span>)
<a name="5406"></a>     bAllowNonTeamChat=True
<a name="5407"></a>     MaxTeamSize=<span class="source_int">6</span>
<a name="5408"></a>     TeamAIType(<span class="source_int">0</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFTeamAI'</span>
<a name="5409"></a>     TeamAIType(<span class="source_int">1</span>)=<span class="source_type">Class</span><span class="source_name">'KFMod.KFTeamAI'</span>
<a name="5410"></a>     bForceRespawn=True
<a name="5411"></a>     NumRounds=<span class="source_int">10</span>
<a name="5412"></a>     SpawnProtectionTime=<span class="source_int">0.000000</span>
<a name="5413"></a>     EndGameSoundName(<span class="source_int">0</span>)=<span class="source_string">"Sound"</span>
<a name="5414"></a>     EndGameSoundName(<span class="source_int">1</span>)=<span class="source_string">"Sound"</span>
<a name="5415"></a>     AltEndGameSoundName(<span class="source_int">0</span>)=<span class="source_string">"Sound"</span>
<a name="5416"></a>     AltEndGameSoundName(<span class="source_int">1</span>)=<span class="source_string">"Sound"</span>
<a name="5417"></a>     EpicNames(<span class="source_int">0</span>)=<span class="source_string">"Lt.Barker"</span>
<a name="5418"></a>     EpicNames(<span class="source_int">1</span>)=<span class="source_string">"Pvt.Davin"</span>
<a name="5419"></a>     EpicNames(<span class="source_int">2</span>)=<span class="source_string">"Cpl.Power"</span>
<a name="5420"></a>     EpicNames(<span class="source_int">3</span>)=<span class="source_string">"Pvt.Barns"</span>
<a name="5421"></a>     EpicNames(<span class="source_int">4</span>)=<span class="source_string">"Cpl.Hicks"</span>
<a name="5422"></a>     EpicNames(<span class="source_int">5</span>)=<span class="source_string">"Sgt.Apone"</span>
<a name="5423"></a>     EpicNames(<span class="source_int">6</span>)=<span class="source_string">"Pvt.Hudson"</span>
<a name="5424"></a>     EpicNames(<span class="source_int">7</span>)=<span class="source_string">"Maj.Brale"</span>
<a name="5425"></a>     EpicNames(<span class="source_int">8</span>)=<span class="source_string">"Lt.Derricks"</span>
<a name="5426"></a>     EpicNames(<span class="source_int">9</span>)=<span class="source_string">"Pvt.Quick"</span>
<a name="5427"></a>     EpicNames(<span class="source_int">10</span>)=<span class="source_string">"Sgt.Masterson"</span>
<a name="5428"></a>     EpicNames(<span class="source_int">11</span>)=<span class="source_string">"Lt.Barker"</span>
<a name="5429"></a>     EpicNames(<span class="source_int">12</span>)=<span class="source_string">"Pvt.Davin"</span>
<a name="5430"></a>     EpicNames(<span class="source_int">13</span>)=<span class="source_string">"Cpl.Power"</span>
<a name="5431"></a>     EpicNames(<span class="source_int">14</span>)=<span class="source_string">"Pvt.Barns"</span>
<a name="5432"></a>     EpicNames(<span class="source_int">15</span>)=<span class="source_string">"Cpl.Hicks"</span>
<a name="5433"></a>     EpicNames(<span class="source_int">16</span>)=<span class="source_string">"Sgt.Apone"</span>
<a name="5434"></a>     EpicNames(<span class="source_int">17</span>)=<span class="source_string">"Pvt.Hudson"</span>
<a name="5435"></a>     EpicNames(<span class="source_int">18</span>)=<span class="source_string">"Maj.Brale"</span>
<a name="5436"></a>     EpicNames(<span class="source_int">19</span>)=<span class="source_string">"Lt.Derricks"</span>
<a name="5437"></a>     EpicNames(<span class="source_int">20</span>)=<span class="source_string">"Pvt.Quick"</span>
<a name="5438"></a>     MaleBackupNames(<span class="source_int">0</span>)=<span class="source_string">"Lt.Barker"</span>
<a name="5439"></a>     MaleBackupNames(<span class="source_int">1</span>)=<span class="source_string">"Pvt.Davin"</span>
<a name="5440"></a>     MaleBackupNames(<span class="source_int">2</span>)=<span class="source_string">"Cpl.Power"</span>
<a name="5441"></a>     MaleBackupNames(<span class="source_int">3</span>)=<span class="source_string">"Pvt.Barns"</span>
<a name="5442"></a>     MaleBackupNames(<span class="source_int">4</span>)=<span class="source_string">"Cpl.Hicks"</span>
<a name="5443"></a>     MaleBackupNames(<span class="source_int">5</span>)=<span class="source_string">"Sgt.Apone"</span>
<a name="5444"></a>     MaleBackupNames(<span class="source_int">6</span>)=<span class="source_string">"Pvt.Hudson"</span>
<a name="5445"></a>     MaleBackupNames(<span class="source_int">7</span>)=<span class="source_string">"Maj.Brale"</span>
<a name="5446"></a>     MaleBackupNames(<span class="source_int">8</span>)=<span class="source_string">"Lt.Derricks"</span>
<a name="5447"></a>     MaleBackupNames(<span class="source_int">9</span>)=<span class="source_string">"Pvt.Quick"</span>
<a name="5448"></a>     MaleBackupNames(<span class="source_int">10</span>)=<span class="source_string">"Sgt.Masterson"</span>
<a name="5449"></a>     MaleBackupNames(<span class="source_int">11</span>)=<span class="source_string">"Lt.Barker"</span>
<a name="5450"></a>     MaleBackupNames(<span class="source_int">12</span>)=<span class="source_string">"Pvt.Davin"</span>
<a name="5451"></a>     MaleBackupNames(<span class="source_int">13</span>)=<span class="source_string">"Cpl.Power"</span>
<a name="5452"></a>     MaleBackupNames(<span class="source_int">14</span>)=<span class="source_string">"Pvt.Barns"</span>
<a name="5453"></a>     MaleBackupNames(<span class="source_int">15</span>)=<span class="source_string">"Cpl.Hicks"</span>
<a name="5454"></a>     MaleBackupNames(<span class="source_int">16</span>)=<span class="source_string">"Sgt.Apone"</span>
<a name="5455"></a>     MaleBackupNames(<span class="source_int">17</span>)=<span class="source_string">"Pvt.Hudson"</span>
<a name="5456"></a>     MaleBackupNames(<span class="source_int">18</span>)=<span class="source_string">"Maj.Brale"</span>
<a name="5457"></a>     MaleBackupNames(<span class="source_int">19</span>)=<span class="source_string">"Lt.Derricks"</span>
<a name="5458"></a>     MaleBackupNames(<span class="source_int">20</span>)=<span class="source_string">"Pvt.Quick"</span>
<a name="5459"></a>     MaleBackupNames(<span class="source_int">21</span>)=<span class="source_string">"Pvt.Davin"</span>
<a name="5460"></a>     MaleBackupNames(<span class="source_int">22</span>)=<span class="source_string">"Cpl.Power"</span>
<a name="5461"></a>     MaleBackupNames(<span class="source_int">23</span>)=<span class="source_string">"Pvt.Barns"</span>
<a name="5462"></a>     MaleBackupNames(<span class="source_int">24</span>)=<span class="source_string">"Cpl.Hicks"</span>
<a name="5463"></a>     MaleBackupNames(<span class="source_int">25</span>)=<span class="source_string">"Sgt.Apone"</span>
<a name="5464"></a>     MaleBackupNames(<span class="source_int">26</span>)=<span class="source_string">"Pvt.Hudson"</span>
<a name="5465"></a>     MaleBackupNames(<span class="source_int">27</span>)=<span class="source_string">"Maj.Brale"</span>
<a name="5466"></a>     MaleBackupNames(<span class="source_int">28</span>)=<span class="source_string">"Lt.Derricks"</span>
<a name="5467"></a>     MaleBackupNames(<span class="source_int">29</span>)=<span class="source_string">"Pvt.Quick"</span>
<a name="5468"></a>     MaleBackupNames(<span class="source_int">30</span>)=<span class="source_string">"Sgt.Masterson"</span>
<a name="5469"></a>     MaleBackupNames(<span class="source_int">31</span>)=<span class="source_string">"Lt.Barker"</span>
<a name="5470"></a>     FemaleBackupNames(<span class="source_int">0</span>)=<span class="source_string">"Lt.Vasquez"</span>
<a name="5471"></a>     FemaleBackupNames(<span class="source_int">1</span>)=<span class="source_string">"Pvt.Kara"</span>
<a name="5472"></a>     FemaleBackupNames(<span class="source_int">2</span>)=<span class="source_string">"Sgt.Swanson"</span>
<a name="5473"></a>     FemaleBackupNames(<span class="source_int">3</span>)=<span class="source_string">"Maj.Simons"</span>
<a name="5474"></a>     FemaleBackupNames(<span class="source_int">4</span>)=<span class="source_string">"Pvt.Martinez"</span>
<a name="5475"></a>     FemaleBackupNames(<span class="source_int">5</span>)=<span class="source_string">"Cpl.Sharpe"</span>
<a name="5476"></a>     FemaleBackupNames(<span class="source_int">6</span>)=<span class="source_string">"Pvt.Faulkner"</span>
<a name="5477"></a>     FemaleBackupNames(<span class="source_int">7</span>)=<span class="source_string">"Lt.Vasquez"</span>
<a name="5478"></a>     FemaleBackupNames(<span class="source_int">8</span>)=<span class="source_string">"Pvt.Kara"</span>
<a name="5479"></a>     FemaleBackupNames(<span class="source_int">9</span>)=<span class="source_string">"Sgt.Swanson"</span>
<a name="5480"></a>     FemaleBackupNames(<span class="source_int">10</span>)=<span class="source_string">"Maj.Simons"</span>
<a name="5481"></a>     FemaleBackupNames(<span class="source_int">11</span>)=<span class="source_string">"Pvt.Martinez"</span>
<a name="5482"></a>     FemaleBackupNames(<span class="source_int">12</span>)=<span class="source_string">"Cpl.Sharpe"</span>
<a name="5483"></a>     FemaleBackupNames(<span class="source_int">13</span>)=<span class="source_string">"Pvt.Faulkner"</span>
<a name="5484"></a>     FemaleBackupNames(<span class="source_int">14</span>)=<span class="source_string">"Lt.Vasquez"</span>
<a name="5485"></a>     FemaleBackupNames(<span class="source_int">15</span>)=<span class="source_string">"Pvt.Kara"</span>
<a name="5486"></a>     FemaleBackupNames(<span class="source_int">16</span>)=<span class="source_string">"Sgt.Swanson"</span>
<a name="5487"></a>     FemaleBackupNames(<span class="source_int">17</span>)=<span class="source_string">"Maj.Simons"</span>
<a name="5488"></a>     FemaleBackupNames(<span class="source_int">18</span>)=<span class="source_string">"Pvt.Martinez"</span>
<a name="5489"></a>     FemaleBackupNames(<span class="source_int">19</span>)=<span class="source_string">"Cpl.Sharpe"</span>
<a name="5490"></a>     FemaleBackupNames(<span class="source_int">20</span>)=<span class="source_string">"Pvt.Faulkner"</span>
<a name="5491"></a>     FemaleBackupNames(<span class="source_int">21</span>)=<span class="source_string">"Lt.Vasquez"</span>
<a name="5492"></a>     FemaleBackupNames(<span class="source_int">22</span>)=<span class="source_string">"Pvt.Kara"</span>
<a name="5493"></a>     FemaleBackupNames(<span class="source_int">23</span>)=<span class="source_string">"Sgt.Swanson"</span>
<a name="5494"></a>     FemaleBackupNames(<span class="source_int">24</span>)=<span class="source_string">"Maj.Simons"</span>
<a name="5495"></a>     FemaleBackupNames(<span class="source_int">25</span>)=<span class="source_string">"Pvt.Martinez"</span>
<a name="5496"></a>     FemaleBackupNames(<span class="source_int">26</span>)=<span class="source_string">"Cpl.Sharpe"</span>
<a name="5497"></a>     FemaleBackupNames(<span class="source_int">27</span>)=<span class="source_string">"Pvt.Faulkner"</span>
<a name="5498"></a>     FemaleBackupNames(<span class="source_int">28</span>)=<span class="source_string">"Pvt.Kara"</span>
<a name="5499"></a>     FemaleBackupNames(<span class="source_int">29</span>)=<span class="source_string">"Sgt.Swanson"</span>
<a name="5500"></a>     FemaleBackupNames(<span class="source_int">30</span>)=<span class="source_string">"Maj.Simons"</span>
<a name="5501"></a>     FemaleBackupNames(<span class="source_int">31</span>)=<span class="source_string">"Pvt.Martinez"</span>
<a name="5502"></a>     LoginMenuClass=<span class="source_string">"KFGUI.KFInvasionLoginMenu"</span>
<a name="5503"></a>     DefaultVoiceChannel=<span class="source_string">"Team"</span>
<a name="5504"></a>     bAllowVehicles=True
<a name="5505"></a>     bAllowMPGameSpeed=True
<a name="5506"></a>     DefaultPlayerClassName=<span class="source_string">"KFmod.KFHumanPawn"</span>
<a name="5507"></a>     ScoreBoardType=<span class="source_string">"KFMod.KFScoreBoardNew"</span>
<a name="5508"></a>     HUDType=<span class="source_string">"KFmod.HUDKillingFloor"</span>
<a name="5509"></a>     MapListType=<span class="source_string">"KFMod.KFMapList"</span>
<a name="5510"></a>     <span class="source_type">MapPrefix</span>=<span class="source_string">"KF"</span>
<a name="5511"></a>     BeaconName=<span class="source_string">"KF"</span>
<a name="5512"></a>     ResetTimeDelay=<span class="source_int">10</span>
<a name="5513"></a>     DefaultPlayerName=<span class="source_string">"Fresh Meat"</span>
<a name="5514"></a>     TimeLimit=<span class="source_int">0</span>
<a name="5515"></a>     DeathMessageClass=<span class="source_type">Class</span><span class="source_name">'KFMod.KFDeathMessage'</span>
<a name="5516"></a>     GameMessageClass=<span class="source_type">Class</span><span class="source_name">'KFMod.KFGameMessages'</span>
<a name="5517"></a>     <span class="source_type">MutatorClass</span>=<span class="source_string">"KFmod.KillingFloorMut"</span>
<a name="5518"></a>     PlayerControllerClass=<span class="source_type">Class</span><span class="source_name">'KFMod.KFPlayerController'</span>
<a name="5519"></a>     PlayerControllerClassName=<span class="source_string">"KFmod.KFPlayerController"</span>
<a name="5520"></a>     GameReplicationInfoClass=<span class="source_type">Class</span><span class="source_name">'KFMod.KFGameReplicationInfo'</span>
<a name="5521"></a>     GameName=<span class="source_string">"Killing Floor"</span>
<a name="5522"></a>     Description=<span class="source_string">"The premise is simple: you (and, hopefully, your team) have been flown in to 'cleanse' this area of specimens. The only things moving are specimens. They will launch at you in waves. Kill them. All of them. Any and every way you can. We'll even pay you a bounty for it! Between waves, you should be able to find the merc Trader lurking in some safe spot. She'll trade your bounty for ammo, equipment and Bigger Guns. Trust me - you're going to need them! If you can survive all the waves, you'll have to top the so-called Patriarch to finish the job. Don't worry about finding him - HE will come looking for YOU!"</span>
<a name="5523"></a>     ScreenShotName=<span class="source_string">"KillingFloorHUD.KFLogoFB"</span>
<a name="5524"></a>     Acronym=<span class="source_string">"KF"</span>
<a name="5525"></a>     GIPropsDisplayText(<span class="source_int">0</span>)=<span class="source_string">"Difficulty"</span>
<a name="5526"></a>     GIPropDescText(<span class="source_int">0</span>)=<span class="source_string">"Change the game difficulty. Anything above Normal will cause increased zombie speed, damage and health among other things..."</span>
<a name="5527"></a>     GIPropsExtras(<span class="source_int">0</span>)=<span class="source_string">"1.000000;Beginner;2.000000;Normal;4.000000;Hard;5.000000;Suicidal;7.000000;Hell on Earth"</span>
<a name="5528"></a>     GIPropsExtras(<span class="source_int">1</span>)=<span class="source_string">"0;Short;1;Medium;2;Long;3;Custom"</span>
<a name="5529"></a>     TcpLinkClass=<span class="source_type">Class</span><span class="source_name">'KFMod.KFBufferedTCPLink'</span>
<a name="5530"></a>}
<a name="5531"></a></pre></td></tr></table></div>
<hr />
<table class="header">
<tr class="header">
	<td class="header"><a href="../overview.html">Overview</a></td>
	<td class="header"><a href="../kfmod/kfmod-overview.html">Package</a></td>
	<td class="header"><a href="../kfmod/kfgametype.html">Class</a></td>
	<td class="header_hilight">Source</td>
	<td class="header"><a class="header" href="../classtree.html#KFGameType">Class tree</a></td>
	<td class="header"><a class="header" href="../glossary_A.html">Glossary</a></td>
	<td class="logo" rowspan="2">UnrealScript<br />Documentation</td>
</tr>
<tr>
	<td class="subheader" colspan="3"><a href="../Source_kfmod/kfgamereplicationinfo.html">previous class</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="../Source_kfmod/kfgib.html">next class</a></td>
	<td class="subheader" colspan="2"><a href="../index.html" target="_top">frames</a> &nbsp;&nbsp;&nbsp;&nbsp; <a href="" target="_top">no frames</a></td>
</tr>
</table>

<div class="stats">Class file time: Fri 13-10-2023 03:17:26.000 - Creation time: Fri 13-10-2023 03:19:03.430 - Created with <a href="http://wiki.beyondunreal.com/wiki/UnCodeX" target="_blank">UnCodeX</a></div>

</body>
</html>